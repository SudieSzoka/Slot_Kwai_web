System.register("chunks:///_virtual/AdaptTop.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,n,s,p,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,i=e._decorator,n=e.sys,s=e.view,p=e.Widget,r=e.Component}],execute:function(){var a,c;o._RF.push({},"661a1Orv3RLzochI7rWQazD","AdaptTop",void 0);var l=i.ccclass;i.property,e("AdaptTop",l("AdaptTop")(((c=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.onLoad=function(){var e=n.getSafeAreaRect().size.height,t=s.getVisibleSize().height,i=s.getVisibleSize().width,r=t-e;if(console.log("fullHeight==="+t),console.log("safeHeight==="+e),console.log("Top num==="+r),r>=50){var a=(t-e)/4,c=this.node.getComponent(p);null!=c&&(c.top=a,c.updateAlignment()),o.IsLiuHai=!0}t/i>2&&(o.IsIphoneX=!0)},o}(r)).IsLiuHai=!1,c.IsIphoneX=!1,a=c))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/AddMainDailyRewardService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./TaskTimeUtil.ts","./GameData.ts","./KwaiSDKManager.ts"],(function(t){var a,e,r,n,i,s,o;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,r=t.sys},function(t){n=t.Singleton},function(t){i=t.TaskTimeUtil},function(t){s=t.GameData},function(t){o=t.KwaiSDKManager}],execute:function(){e._RF.push({},"2f2acZMJMFH+YteNegRSBiF","AddMainDailyRewardService",void 0);var u=t("AddMainDailyRewardService",function(t){function e(){for(var a,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(a=t.call.apply(t,[this].concat(r))||this)._state={baseRewardDate:null,adRewardDate:null,launchFromShortcut:!1},a}a(e,t);var n=e.prototype;return n.CustomerInit=function(){this.Initialize()},n.Initialize=function(){this.LoadState(),this.refreshLaunchSource()},n.LoadState=function(){this._state=this.loadStateFromStorage()},n.SaveState=function(){this.saveStateToStorage()},n.ClearState=function(){this._state=this.createDefaultState(),this.saveStateToStorage()},n.IsLaunchFromShortcut=function(){return this._state.launchFromShortcut},n.refreshLaunchSource=function(){var t=o.Instance.isLaunchFromShortcut();this._state.launchFromShortcut!==t&&(this._state.launchFromShortcut=t,this.SaveState())},n.CanClaimBaseReward=function(){if(!this._state.launchFromShortcut)return!1;var t=i.GetTodayString();return this._state.baseRewardDate!==t},n.EnsureBaseRewardForToday=function(){return this.CanClaimBaseReward()?this.grantBaseReward():0},n.HasClaimedBaseRewardToday=function(){var t=i.GetTodayString();return this._state.baseRewardDate===t},n.CanClaimAdReward=function(){if(!this._state.launchFromShortcut)return!1;var t=i.GetTodayString();return this._state.baseRewardDate===t&&this._state.adRewardDate!==t},n.GrantAdReward=function(){if(!this.CanClaimAdReward())return 0;var t=i.GetTodayString();return this._state.adRewardDate=t,this.SaveState(),this.applyCoinReward(e.AD_REWARD_AMOUNT),e.AD_REWARD_AMOUNT},n.GetPanelState=function(){var t=i.GetTodayString();return{baseRewardAmount:e.BASE_REWARD_AMOUNT,adRewardAmount:e.AD_REWARD_AMOUNT,baseRewardClaimed:this._state.baseRewardDate===t,adRewardClaimed:this._state.adRewardDate===t,launchFromShortcut:this._state.launchFromShortcut}},n.grantBaseReward=function(){var t=i.GetTodayString();return this._state.baseRewardDate=t,this.SaveState(),this.applyCoinReward(e.BASE_REWARD_AMOUNT),e.BASE_REWARD_AMOUNT},n.applyCoinReward=function(t){t<=0||(s.Instance.ChangeKsCoin(t),s.Instance.saveSnapshotFromGameData())},n.loadStateFromStorage=function(){try{var t,a,n,i=r.localStorage.getItem(e.STORAGE_KEY);if(!i)return this.createDefaultState();var s=JSON.parse(i);return{baseRewardDate:null!=(t=s.baseRewardDate)?t:null,adRewardDate:null!=(a=s.adRewardDate)?a:null,launchFromShortcut:null!=(n=s.launchFromShortcut)&&n}}catch(t){return console.error("[AddMainDailyRewardService] load state failed:",t),this.createDefaultState()}},n.saveStateToStorage=function(){try{var t=JSON.stringify(this._state);r.localStorage.setItem(e.STORAGE_KEY,t)}catch(t){console.error("[AddMainDailyRewardService] save state failed:",t)}},n.createDefaultState=function(){return{baseRewardDate:null,adRewardDate:null,launchFromShortcut:!1}},e}(n()));u.BASE_REWARD_AMOUNT=20,u.AD_REWARD_AMOUNT=20,u.STORAGE_KEY="AddMainDailyRewardState_v1",e._RF.pop()}}}));

System.register("chunks:///_virtual/AddMainDayRewardGuidePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./KwaiSDKManager.ts","./AddMainRewardService.ts","./AddMainDailyRewardService.ts"],(function(n){var e,t,i,a,o,s,c,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator},function(n){a=n.BaseUI},function(n){o=n.BaseButton},function(n){s=n.KwaiSDKManager},function(n){c=n.AddMainRewardService},function(n){r=n.AddMainDailyRewardService}],execute:function(){var d,u;t._RF.push({},"205a2GgKExGFq4VIQZbFqgW","AddMainDayRewardGuidePanel",void 0);var l=i.ccclass;i.property,n("AddMainDayRewardGuidePanel",l("AddMainDayRewardGuidePanel")(((u=function(n){function t(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))||this).mConfirmBtn=null,e.mCloseBtn=null,e._isRequesting=!1,e}e(t,n);var i=t.prototype;return i.InitParam=function(){this.mConfirmBtn=this.node.getChildByPath("CTAButton").getComponent(o),this.mCloseBtn=this.node.getChildByPath("CloseButton").getComponent(o)},i.BindUI=function(){var n=this;this.mConfirmBtn&&this.mConfirmBtn.SetClickCallback((function(){n.OnConfirmBtnClick()})),this.mCloseBtn&&this.mCloseBtn.SetClickCallback((function(){n.OnCloseBtnClick()}))},i.RegDataNotify=function(){},i.LateInit=function(){},i.CustmoerDestory=function(){},i.OnConfirmBtnClick=function(){var n=this;this._isRequesting||(this._isRequesting=!0,console.log("[AddMainDayRewardGuidePanel] CTA 点击，尝试添加到主界面"),s.Instance.addToDesktop({onSuccess:function(){console.log("[AddMainDayRewardGuidePanel] 添加到主界面成功"),c.Instance.onAddToMainSuccess(),r.Instance.refreshLaunchSource(),n.Show(!1)},onFail:function(){console.warn("[AddMainDayRewardGuidePanel] 添加到主界面失败")},onComplete:function(){n._isRequesting=!1}}))},i.OnCloseBtnClick=function(){console.log("关闭按钮被点击"),this.Show(!1)},t}(a)).PrefabPath="prefab/AddMainDayRewardGuidePanel",u.Bunddle="function",d=u))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/AddMainDayRewardPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./KwaiSDKManager.ts","./AddMainDailyRewardService.ts"],(function(n){var a,t,e,i,o,r,l;return{setters:[function(n){a=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator},function(n){i=n.BaseUI},function(n){o=n.BaseButton},function(n){r=n.KwaiSDKManager},function(n){l=n.AddMainDailyRewardService}],execute:function(){var s,d;t._RF.push({},"6e459AuZqtNF5a178Vw0/Zo","AddMainDayRewardPanel",void 0);var c=e.ccclass;e.property,n("AddMainDayRewardPanel",c("AddMainDayRewardPanel")(((d=function(n){function t(){for(var a,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(a=n.call.apply(n,[this].concat(e))||this).mConfirmBtn=null,a.mCloseBtn=null,a._panelState=null,a._isPlayingAd=!1,a}a(t,n);var e=t.prototype;return e.InitParam=function(){var n,a;this.mConfirmBtn=null==(n=this.node.getChildByPath("ConfirmBtn"))?void 0:n.getComponent(o),this.mCloseBtn=null==(a=this.node.getChildByPath("CloseBtn"))?void 0:a.getComponent(o)},e.BindUI=function(){var n=this;this.mConfirmBtn&&this.mConfirmBtn.SetClickCallback((function(){n.OnConfirmBtnClick()})),this.mCloseBtn&&this.mCloseBtn.SetClickCallback((function(){n.OnCloseBtnClick()}))},e.RegDataNotify=function(){},e.LateInit=function(){this.tryGrantBaseReward(),this.refreshPanelState(),this.updateRewardInfo()},e.CustmoerDestory=function(){},e.OnConfirmBtnClick=function(){var n=this;if(!this._isPlayingAd){var a=l.Instance;if(a.CanClaimAdReward()){this._isPlayingAd=!0;var t={onReward:function(){var n=a.GrantAdReward();console.log("[AddMainDayRewardPanel] 广告奖励发放: "+n+" 快手币")},onHide:function(){n._isPlayingAd=!1,n.refreshPanelState(),n.updateRewardInfo()}};r.Instance.showRewardedVideo("daily_reward",t)}else console.warn("[AddMainDayRewardPanel] 当前无法领取广告奖励")}},e.OnCloseBtnClick=function(){console.log("关闭按钮被点击"),this.Show(!1)},e.tryGrantBaseReward=function(){var n=l.Instance.EnsureBaseRewardForToday();n>0&&console.log("[AddMainDayRewardPanel] 自动发放基础奖励: "+n+" 快手币")},e.refreshPanelState=function(){this._panelState=l.Instance.GetPanelState()},e.updateRewardInfo=function(){},t}(i)).PrefabPath="prefab/AddMainDayRewardPanel",d.Bunddle="function",s=d))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/AddMainDayRewardResultPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts"],(function(n){var t,e,a,o,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,a=n._decorator},function(n){o=n.BaseUI},function(n){i=n.BaseButton}],execute:function(){var l,r;e._RF.push({},"39f0a1rHrNIvrRHILAUYK+S","AddMainDayRewardResultPanel",void 0);var s=a.ccclass;a.property,n("AddMainDayRewardResultPanel",s("AddMainDayRewardResultPanel")(((r=function(n){function e(){for(var t,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))||this).mCloseBtn=null,t.mParam=null,t}t(e,n);var a=e.prototype;return a.InitParam=function(){var n;this.mCloseBtn=null==(n=this.node.getChildByPath("CloseButton"))?void 0:n.getComponent(i)},a.BindUI=function(){var n=this;this.mCloseBtn&&this.mCloseBtn.SetClickCallback((function(){n.OnCloseBtnClick()}))},a.RegDataNotify=function(){},a.LateInit=function(){},a.CustmoerDestory=function(){},a.OnCloseBtnClick=function(){console.log("关闭按钮被点击"),this.Show(!1)},e}(o)).PrefabPath="prefab/AddMainDayRewardResultPanel",r.Bunddle="function",l=r))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/AddMainDoubleRewardPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./AddMainRewardService.ts"],(function(n){var e,t,o,a,i,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator},function(n){a=n.BaseUI},function(n){i=n.BaseButton},function(n){r=n.AddMainRewardService}],execute:function(){var l,d;t._RF.push({},"b57d9ZZGFVBT6Hss6rAPTj7","AddMainDoubleRewardPanel",void 0);var s=o.ccclass;o.property,n("AddMainDoubleRewardPanel",s("AddMainDoubleRewardPanel")(((d=function(n){function t(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))||this).mConfirmBtn=null,e.mCloseBtn=null,e._rewardAmount=0,e._isSecondReward=!1,e.mParam=null,e}e(t,n);var o=t.prototype;return o.InitParam=function(){var n,e;this.mConfirmBtn=null==(n=this.node.getChildByPath("Popup/Button1"))?void 0:n.getComponent(i),this.mCloseBtn=null==(e=this.node.getChildByPath("Popup/PopupClose"))?void 0:e.getComponent(i)},o.BindUI=function(){var n=this;this.mConfirmBtn&&this.mConfirmBtn.SetClickCallback((function(){n.OnConfirmBtnClick()})),this.mCloseBtn&&this.mCloseBtn.SetClickCallback((function(){n.OnCloseBtnClick()}))},o.RegDataNotify=function(){},o.LateInit=function(){this.mParam&&"object"==typeof this.mParam?(this._rewardAmount=this.mParam.rewardAmount||r.SECOND_REWARD_AMOUNT,this._isSecondReward=this.mParam.isSecondReward||!1):(this._rewardAmount=r.SECOND_REWARD_AMOUNT,this._isSecondReward=!0),this.updateRewardDisplay()},o.updateRewardDisplay=function(){},o.CustmoerDestory=function(){},o.OnConfirmBtnClick=function(){console.log("[AddMainDoubleRewardPanel] 确认/领取按钮被点击"),this._isSecondReward?r.Instance.canClaimSecondReward()?(r.Instance.claimSecondReward(),console.log("[AddMainDoubleRewardPanel] 已领取次日奖励: "+this._rewardAmount+" 快手币")):console.warn("[AddMainDoubleRewardPanel] 无法领取次日奖励"):console.log("[AddMainDoubleRewardPanel] 首次奖励已发放: "+this._rewardAmount+" 快手币"),this.Show(!1)},o.OnCloseBtnClick=function(){console.log("关闭按钮被点击"),this.Show(!1)},t}(a)).PrefabPath="prefab/AddMainDoubleRewardPanel",d.Bunddle="function",l=d))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/AddMainRewardPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./KwaiSDKManager.ts","./AddMainRewardService.ts","./AddMainDoubleRewardPanel.ts","./UIMgr.ts"],(function(n){var e,t,o,a,i,l,r,d,c;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator},function(n){a=n.BaseUI},function(n){i=n.BaseButton},function(n){l=n.KwaiSDKManager},function(n){r=n.AddMainRewardService},function(n){d=n.AddMainDoubleRewardPanel},function(n){c=n.UIMgr}],execute:function(){var s,u;t._RF.push({},"6ea96+Um8VHY56DJ+FAXZhT","AddMainRewardPanel",void 0);var f=o.ccclass;o.property,n("AddMainRewardPanel",f("AddMainRewardPanel")(((u=function(n){function t(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))||this).mConfirmBtn=null,e.mCloseBtn=null,e}e(t,n);var o=t.prototype;return o.InitParam=function(){var n,e;this.mConfirmBtn=null==(n=this.node.getChildByPath("Popup/CTAButton"))?void 0:n.getComponent(i),this.mCloseBtn=null==(e=this.node.getChildByPath("Popup/PopupClose"))?void 0:e.getComponent(i)},o.BindUI=function(){var n=this;this.mConfirmBtn&&this.mConfirmBtn.SetClickCallback((function(){n.OnConfirmBtnClick()})),this.mCloseBtn&&this.mCloseBtn.SetClickCallback((function(){n.OnCloseBtnClick()}))},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},o.OnConfirmBtnClick=function(){var n=this;console.log("[AddMainRewardPanel] CTA按钮被点击，调用SDK添加到主界面接口"),l.Instance.addToDesktop({onSuccess:function(){console.log("[AddMainRewardPanel] 添加到主界面成功"),r.Instance.onAddToMainSuccess(),n.Show(!1),c.Instance.ShowLayer("AddMainDoubleRewardPanel",d.Bunddle,d.PrefabPath,!0,(function(n){n&&(n.mParam={rewardAmount:r.FIRST_REWARD_AMOUNT,isSecondReward:!1})}))},onFail:function(){console.log("[AddMainRewardPanel] 添加到主界面失败"),r.Instance.onAddToMainFail()},onComplete:function(){console.log("[AddMainRewardPanel] 添加到主界面操作完成")}})},o.OnCloseBtnClick=function(){console.log("关闭按钮被点击"),this.Show(!1)},t}(a)).PrefabPath="prefab/AddMainRewardPanel",u.Bunddle="function",s=u))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/AddMainRewardService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./BaseData.ts","./TaskTimeUtil.ts","./GameData.ts","./KwaiSDKManager.ts","./UIMgr.ts","./AddMainDoubleRewardPanel.ts"],(function(t){var a,e,i,n,s,d,o,r,c,h;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,i=t.sys},function(t){n=t.Singleton},function(t){s=t.BaseData},function(t){d=t.TaskTimeUtil},function(t){o=t.GameData},function(t){r=t.KwaiSDKManager},function(t){c=t.UIMgr},function(t){h=t.AddMainDoubleRewardPanel}],execute:function(){e._RF.push({},"43280x1/p1CQZgW8pkNYxUd","AddMainRewardService",void 0);var S=t("AddMainRewardService",function(t){function e(){for(var a,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(a=t.call.apply(t,[this].concat(i))||this).Data_ShowAddToMainButton=new s(!0,!0),a._state=null,a}a(e,t);var n=e.prototype;return n.CustomerInit=function(){this.Initialize()},n.Initialize=function(){this.LoadState(),this.checkSecondRewardOnLogin()},n.LoadState=function(){this._state=this.loadStateFromStorage(),this.refreshAddButtonVisibility()},n.SaveState=function(){this.saveStateToStorage()},n.ClearState=function(){this._state=this.createDefaultState(),this.saveStateToStorage(),this.refreshAddButtonVisibility()},n.loadStateFromStorage=function(){try{var t=i.localStorage.getItem(e.STORAGE_KEY);return t&&0!==t.length?JSON.parse(t):this.createDefaultState()}catch(t){return console.error("[AddMainRewardService] 加载状态失败:",t),this.createDefaultState()}},n.saveStateToStorage=function(){try{var t=JSON.stringify(this._state);i.localStorage.setItem(e.STORAGE_KEY,t)}catch(t){console.error("[AddMainRewardService] 保存状态失败:",t)}},n.createDefaultState=function(){return{isAddedToMain:!1,hasClaimedFirstReward:!1,hasClaimedSecondReward:!1,firstAddTimestamp:0,secondRewardAvailableTimestamp:0,lastCheckDate:""}},n.refreshAddButtonVisibility=function(){var t=this;this._state&&this._state.isAddedToMain?this.Data_ShowAddToMainButton.mData=!1:r.Instance.checkShortcut((function(a){if(t._state.isAddedToMain=a,t.Data_ShowAddToMainButton.mData=!a,a&&!t._state.firstAddTimestamp){var e=d.GetCurrentTimestamp(),i=d.GetNextDayStartTimestamp(e);t._state.firstAddTimestamp=e,t._state.secondRewardAvailableTimestamp=i,t._state.lastCheckDate=d.GetTodayString()}t.SaveState()}))},n.onAddToMainSuccess=function(){var t=d.GetCurrentTimestamp(),a=d.GetNextDayStartTimestamp(t);this._state.isAddedToMain=!0,this._state.firstAddTimestamp=t,this._state.secondRewardAvailableTimestamp=a,this._state.lastCheckDate=d.GetTodayString(),this.claimFirstReward(),this.Data_ShowAddToMainButton.mData=!1,this.SaveState()},n.onAddToMainFail=function(){console.log("[AddMainRewardService] 添加到主界面失败")},n.updateAddToMainStatus=function(t){t&&!this._state.isAddedToMain?this.onAddToMainSuccess():!t&&this._state.isAddedToMain&&(this._state.isAddedToMain=!1,this.Data_ShowAddToMainButton.mData=!0,this.SaveState())},n.isAddedToMain=function(){return this._state&&this._state.isAddedToMain},n.canClaimFirstReward=function(){return this._state&&this._state.isAddedToMain&&!this._state.hasClaimedFirstReward},n.canClaimSecondReward=function(){return!(!this._state||!this._state.isAddedToMain||this._state.hasClaimedSecondReward)&&d.GetCurrentTimestamp()>=this._state.secondRewardAvailableTimestamp},n.claimFirstReward=function(){this._state.hasClaimedFirstReward||(this._state.hasClaimedFirstReward=!0,o.Instance.ChangeKsCoin(e.FIRST_REWARD_AMOUNT),this.SaveState(),console.log("[AddMainRewardService] 发放首次奖励: "+e.FIRST_REWARD_AMOUNT+" 快手币"))},n.claimSecondReward=function(){this.canClaimSecondReward()&&(this._state.hasClaimedSecondReward=!0,o.Instance.ChangeKsCoin(e.SECOND_REWARD_AMOUNT),this.SaveState(),console.log("[AddMainRewardService] 发放次日奖励: "+e.SECOND_REWARD_AMOUNT+" 快手币"))},n.checkSecondRewardOnLogin=function(){var t=this;this._state&&this._state.isAddedToMain&&setTimeout((function(){r.Instance.checkShortcut((function(a){if(!a)return t._state.isAddedToMain=!1,t.Data_ShowAddToMainButton.mData=!0,void t.SaveState();t.canClaimSecondReward()&&setTimeout((function(){t.showSecondRewardPanel()}),500)}))}),1e3)},n.showSecondRewardPanel=function(){c.Instance.ShowLayer("AddMainDoubleRewardPanel",h.Bunddle,h.PrefabPath,!0,(function(t){t&&(t.mParam={rewardAmount:e.SECOND_REWARD_AMOUNT,isSecondReward:!0})}))},n.getRewardState=function(){var t,a;return{isAddedToMain:this.isAddedToMain(),hasClaimedFirstReward:(null==(t=this._state)?void 0:t.hasClaimedFirstReward)||!1,hasClaimedSecondReward:(null==(a=this._state)?void 0:a.hasClaimedSecondReward)||!1,canClaimSecondReward:this.canClaimSecondReward()}},n.ResetInstance=function(){this._state=this.createDefaultState(),this.Data_ShowAddToMainButton=new s(!0,!0)},e}(n()));S.FIRST_REWARD_AMOUNT=20,S.SECOND_REWARD_AMOUNT=60,S.STORAGE_KEY="AddMainRewardState_v1",e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameData.ts","./Tool.ts"],(function(t){var e,n,o,i,u,r,c,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.AudioSource},function(t){u=t.BaseUI},function(t){r=t.GameData,c=t.ItemEnum},function(t){f=t.Tool}],execute:function(){var l,s;n._RF.push({},"38038nuUNpENYnhFDTmKhmN","AudioManager",void 0);var a=o.ccclass;o.property,t("AudioManager",a("AudioManager")(((s=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).mCurrentBGM=null,e.mCurrentEffect=null,e.mLoopEffect=null,e.mSpecialEffect=null,e.mMuteBGM=!1,e.mMuteEffect=!1,e}e(n,t);var o=n.prototype;return o.InitParam=function(){n.Instance=this},o.BindUI=function(){},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},o.StopAll=function(){null!=this.mLoopEffect&&this.mLoopEffect.stop(),null!=this.mCurrentEffect&&this.mCurrentEffect.stop(),null!=this.mCurrentBGM&&this.mCurrentBGM.stop()},o.GetAudioSource=function(t){if(!this.node)return console.error("AudioManager.GetAudioSource error: manager node is null"),null;var e=this.node.getChildByName(t);if(!e)return console.error("AudioManager.GetAudioSource error: child node '"+t+"' not found under AudioManager node"),null;var n=e.getComponent(i);return n||(console.error("AudioManager.GetAudioSource error: AudioSource not found on node '"+t+"'"),null)},o.PlayEffectOneShot=function(t){this.mMuteEffect||(this.mCurrentEffect=this.GetAudioSource(t),this.mCurrentEffect&&0==this.mCurrentEffect.playing&&this.mCurrentEffect.playOneShot(this.mCurrentEffect.clip))},o.PlayEffectLoop=function(t,e){this.mMuteEffect||(this.mLoopEffect=this.GetAudioSource(t),this.mLoopEffect&&(e?(this.mLoopEffect.loop=!0,this.mLoopEffect.play()):this.mLoopEffect.stop()))},o.PlaySlowDownEffect=function(t){this.mMuteEffect||(this.mSpecialEffect=this.GetAudioSource("SlowDown"),this.mSpecialEffect&&(t?this.mSpecialEffect.play():this.mSpecialEffect.stop()))},o.PlayBGMMusic=function(t,e){void 0===e&&(e=!1),this.StopBGMMusic(),this.mCurrentBGM=this.GetAudioSource(t),this.mCurrentBGM&&(this.mCurrentBGM.loop=e,this.mMuteBGM||this.mCurrentBGM.play())},o.StopBGMMusic=function(){null!=this.mCurrentBGM&&this.mCurrentBGM.stop()},o.RewindBGMMusic=function(){null!=this.mCurrentBGM&&this.mCurrentBGM.play()},o.MuteBGM=function(t){this.mMuteBGM=t,t?this.StopBGMMusic():this.RewindBGMMusic()},o.MuteEffect=function(t){this.mMuteEffect=t,t&&null!=this.mCurrentEffect&&this.mCurrentEffect.stop()},o.MuteAll=function(t){r.Instance.Data_IsMuted.mData=t,this.MuteBGM(t),this.MuteEffect(t),r.Instance.GetPlayerInfo().mute!=(t?1:0)&&(r.Instance.GetPlayerInfo().mute=t?1:0,r.Instance.PostMute())},o.PlayRatio=function(t){var e="Ratio"+t;this.PlayEffectOneShot(e)},o.PlayDelete=function(t){t==c.Hu&&console.error("胡不能消除");var e="Delete"+t;this.PlayEffectOneShot(e)},o.PlayDeleteAll=function(){0==f.Random(0,1)?this.PlayEffectOneShot("DeleteAllFemale"):this.PlayEffectOneShot("DeleteAllMale")},o.PlayTalk=function(){var t="Talk"+f.Random(0,10);this.PlayEffectOneShot(t)},o.PlayHitHu=function(){},n}(u)).Instance=null,l=s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./BaseUI.ts"],(function(t){var e,i,n,o,a,l,c,r,s,u,m,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,c=t.Label,r=t.UIOpacity,s=t.Node,u=t.Sprite,m=t.Button},function(t){h=t.AudioManager},function(t){f=t.BaseUI}],execute:function(){var C,p,d,S,g;a._RF.push({},"edae23v+YJNDaWkY+naGvSG","BaseButton",void 0);var k=l.ccclass,b=l.property;t("BaseButton",(C=k("BaseButton"),p=b(c),C((g=e((S=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(e,"mTitle",g,o(e)),e.mProtectDoubleClick=!0,e.mClickProtecting=!1,e.mClickProtectedDuration=.1,e.mOpacity=null,e.mCustomerData=null,e.mCallback=null,e.mProtectCallback=null,e.mMute=!1,e.mEffectName="Btn",e}i(e,t);var a=e.prototype;return a.InitParam=function(){this.mOpacity=this.getComponent(r)},a.BindUI=function(){this.node.on(s.EventType.TOUCH_END,this.OnClick,this)},a.RegDataNotify=function(){},a.LateInit=function(){},a.CustmoerDestory=function(){this.node.off(s.EventType.TOUCH_END,this.OnClick,this),this.mCustomerData=null,this.mCallback=null},a.GetSpirte=function(){return this.node.getChildByName("Icon").getComponent(u)},a.SetSprite=function(t){this.GetSpirte().spriteFrame=t},a.SetSpriteColor=function(t){this.GetSpirte().color=t},a.SetTitle=function(t){this.mTitle&&(this.mTitle.string=t)},a.SetTitleColor=function(t){this.mTitle&&(this.mTitle.color=t)},a.SetClickCallback=function(t,e){void 0===e&&(e=null),this.mCallback=t,this.mCustomerData=e},a.GetCustomerData=function(){return this.mCustomerData},a.GetTitle=function(){return this.mTitle?this.mTitle.string:""},a.SetMute=function(t){this.mMute=t},a.SetProtectDoubleClick=function(t,e,i){void 0===e&&(e=.1),void 0===i&&(i=null),this.mProtectDoubleClick=t,this.mClickProtectedDuration=e,this.mProtectCallback=i},a.SetGray=function(t){var e=this.node.getChildByName("Icon").getComponent(u);e&&(e.grayscale=t)},a.SetHalfAlpha=function(t,e){void 0===e&&(e=100),this.mOpacity.opacity=t?e:255},a.SetInteractableWithHalfAlpha=function(t){this.node.getComponent(m)&&(this.node.getComponent(m).interactable=t),this.SetHalfAlpha(!t)},a.SetInteractableWithGray=function(t){this.node.getComponent(m)&&(this.node.getComponent(m).interactable=t),this.SetGray(!t)},a.SetInteractable=function(t){this.node.getComponent(m)&&(this.node.getComponent(m).interactable=t)},a.SetFontSize=function(t){this.mTitle&&(this.mTitle.fontSize=t)},a.SetEffectName=function(t){this.mEffectName=t},a.OnClick=function(){if(0!=this.node.getComponent(m).interactable){if(0==this.mMute&&h.Instance.PlayEffectOneShot(this.mEffectName),1==this.mProtectDoubleClick){if(1==this.mClickProtecting)return void(null!=this.mProtectCallback&&this.mProtectCallback());this.mClickProtecting=!0,this.StartSecondsTimer(this.mClickProtectedDuration,.05)}null!=this.mCallback&&this.mCallback(this.mCustomerData)}},a.OnSecondTimer=function(){0==this.GetRestMillSeconds()&&(this.mClickProtecting=!1)},e}(f)).prototype,"mTitle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=S))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseData.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"0bd031YYqlF9J3bCx3CRp7U","BaseData",void 0);var a=function(t,e){this.mTarget=void 0,this.mCallfunc=void 0,this.mTarget=t,this.mCallfunc=e};t("BaseData",function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=null),this.mData=null,this.mSavingData=null,this.mEventArray=void 0,this.mSetValueAlready=!1,this.mAutoReset=!1,this.mAutoReset=t;var a={mData:{get:function(){return this.mSavingData},set:function(t){this.UpdateData(t)}}};Object.defineProperties(this,a),this.mEventArray=new Array,this.UpdateData(e)}var e=t.prototype;return e.UpdateData=function(t){if(this.mSavingData=t,null!=t&&null!=t){this.mSetValueAlready=!0,this.mSavingData=t;for(var e=0;e<this.mEventArray.length;){var a=this.mEventArray[e];cc.isValid(a.mTarget,!0)?(a.mCallfunc(this.mSavingData),e++):this.RemoveListennerByTarget(a.mTarget)}this.mAutoReset&&this.ResetData()}},e.AddListenner=function(t,e){if(this.mEventArray.findIndex((function(e){return e.mTarget===t}))>=0)console.log("当前target已经添加过 相同的数据监听了  _target=="+t.name);else{var n=new a(t,e);this.mEventArray.push(n),this.mSetValueAlready&&n.mCallfunc(this.mSavingData)}},e.RemoveListennerByTarget=function(t){var e=this.mEventArray.findIndex((function(e){return e.mTarget===t}));e<0||this.mEventArray.splice(e,1)},e.RemoveAllListenner=function(){this.mEventArray.splice(0,this.mEventArray.length-1)},e.ResetData=function(){this.mSetValueAlready=!1,this.mSavingData=null},e.Clear=function(){this.ResetData(),this.RemoveAllListenner()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseDataNotify.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"8cc2asRnJ9Pi4AT/QvNDrSc","BaseDataNotify",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonNotify.ts","./LoadingData.ts","./LocalPlayerData.ts","./ResMgr.ts","./UIMgr.ts","./GameData.ts"],(function(e){var t,i,n,o,a,s,r,m,c,l,h,u,d,T,f,g,v,S,L,y,p;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.game,a=e.Game,s=e.ImageAsset,r=e.SpriteFrame,m=e.assetManager,c=e.Node,l=e.TweenSystem,h=e.Widget,u=e.view,d=e.UITransform,T=e.Vec3,f=e.Component},function(e){g=e.CommonNotify},function(e){v=e.LoadingData},function(e){S=e.LocalPlayerData},function(e){L=e.ResMgr},function(e){y=e.UIMgr},function(e){p=e.GameData}],execute:function(){var C;i._RF.push({},"d67f3W+FjJDnLNbq3YCz4G9","BaseUI",void 0);var I=function(e,t){this.key=void 0,this.value=void 0,this.key=e,this.value=t},w=n.ccclass;n.property,e("BaseUI",w("BaseUI")(C=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).mInitFlag=!1,t.mLayerList=void 0,t.mIsWindow=!1,t.mTotalCountTime=void 0,t.mTimerSpace=void 0,t.mTimerStartingTime=void 0,t.mTimerCallback=null,t.mTimerNeedFix=!0,t.mTimerRunning=!1,t.mStartAlreadyRun=!1,t}t(i,e);var n=i.prototype;return n.__preload=function(){this.TryPreload()},n.onLoad=function(){this.BindUI()},n.start=function(){o.on(a.EVENT_SHOW,this.OnGameShow,this),o.on(a.EVENT_HIDE,this.OnGameHide,this),this.RegDataNotify(),this.LateInit(),this.mStartAlreadyRun=!0},n.onDestroy=function(){o.off(a.EVENT_SHOW,this.OnGameShow,this),o.off(a.EVENT_HIDE,this.OnGameHide,this),v.Instance.RemoveAllDataListennerByTarget(this),S.Instance.RemoveAllDataListennerByTarget(this),g.Instance.RemoveAllDataListennerByTarget(this),p.Instance.RemoveAllDataListennerByTarget(this),this.StopSecondsTimer(),this.CustmoerDestory(),this.mLayerList=null},n.Show=function(e){this.node.active=e},n.TryPreload=function(){this.CheckInitFlag()||(this.mLayerList=new Array,this.InitParam())},n.CheckInitFlag=function(){return!!this.mInitFlag||(this.mInitFlag=!0,!1)},n.LoadSprite=function(e,t,i){var n=this;L.GetAssetInBundle(e,t,s,(function(e){if(0!=cc.isValid(n.node,!0)){var t=r.createWithImage(e);i(t)}}))},n.LoadHead=function(e,t){e.startsWith("http")?this.LoadRemoteSprite(e,t):this.LoadLocalHead(e.toString(),t)},n.LoadLocalHead=function(e,t){this.LoadSprite("common","texture/head/"+e,(function(e){t&&t(e)}))},n.LoadRemoteSprite=function(e,t){var i=this;""!=e&&m.loadRemote(e,(function(e,n){if(0!=cc.isValid(i.node,!0))if(e)console.error(e.message||e);else if(null!=t){var o=r.createWithImage(n);t(o)}}))},n.LoadPrefab=function(e,t,i,n){var o=this;y.Instance.CreatePrefab(e,t,i,(function(e){0!=cc.isValid(o.node,!0)&&n(e)}))},n.HaveSubView=function(e,t){var i=e+t;return this.mLayerList.findIndex((function(e){return e.key===i}))>=0},n.GetSubView=function(e,t){var i=e+t,n=this.mLayerList.findIndex((function(e){return e.key===i}));return n<0?null:this.mLayerList[n].value},n.AddSubView=function(e,t,n,o,a){var s=this;void 0===o&&(o=null),void 0===a&&(a=null);var r=t+n,m=this.mLayerList.findIndex((function(e){return e.key===r}));if(m>=0){var c=this.mLayerList[m].value.getComponent(i);c.Show(!0),c.node.setSiblingIndex(c.node.parent.children.length),null!=o&&o(c)}else this.LoadPrefab(e,t,n,(function(e){if(0!=cc.isValid(s.node,!0)){null==a&&(a=s.node),a.addChild(e);var t=e.getComponent(i),n=new I(r,e);s.mLayerList.push(n),null!=o&&o(t)}}))},n.CloseAsWindow=function(){var e=this.node.parent.getComponent(i);null!=e&&e.mIsWindow?e.Show(!1):this.Show(!1)},n.StartSecondsTimer=function(e,t,i,n){if(void 0===t&&(t=1),void 0===i&&(i=null),void 0===n&&(n=!0),!(e<=0)){this.mTimerNeedFix=n,this.mTimerCallback=i,this.mTimerRunning=!0,this.mTotalCountTime=1e3*e,this.mTimerSpace=1e3*t;var o=new Date;this.mTimerStartingTime=o.getTime(),this.StopSecondsTimer(),this.schedule(this.SecondsTimerLogic,t)}},n.StopSecondsTimer=function(){this.mTimerRunning=!1,this.unschedule(this.SecondsTimerLogic)},n.GetRestSeconds=function(){if(this.mTimerNeedFix){var e=(new Date).getTime()-this.mTimerStartingTime,t=this.mTotalCountTime-e;return t<=0?0:Math.ceil(t/1e3)}var i=this.mTotalCountTime;return i<=0&&(i=0),Math.ceil(i/1e3)},n.GetRestMillSeconds=function(){if(this.mTimerNeedFix){var e=(new Date).getTime()-this.mTimerStartingTime,t=this.mTotalCountTime-e;return t<=0?0:t}var i=this.mTotalCountTime;return i<=0&&(i=0),i},n.SecondsTimerLogic=function(){if(this.mTimerNeedFix){var e=this.GetRestMillSeconds();e<=0&&(e=0,this.StopSecondsTimer())}else this.mTotalCountTime-=this.mTimerSpace,this.mTotalCountTime<=0&&(this.mTotalCountTime=0,this.StopSecondsTimer());this.OnSecondTimer()},n.OnSecondTimer=function(){null!=this.mTimerCallback&&this.mTimerCallback()},n.AddTouchCloseEvent=function(e){e.on(c.EventType.TOUCH_END,this.TouchToClose,this)},n.TouchToClose=function(){this.Show(!1)},n.StopAllTween=function(e){void 0===e&&(e=null);var t=null==e?this.node:e;l.instance.ActionManager.pauseTarget(t),l.instance.ActionManager.removeAllActionsFromTarget(t)},n.DeleteSelf=function(){0!=cc.isValid(this.node,!0)&&(this.StopAllTween(),this.node.removeFromParent(),this.node.destroy())},n.OnGameShow=function(){this.mTimerRunning&&this.SecondsTimerLogic()},n.OnGameHide=function(){},n.MaxScreen=function(e){var t=e.getComponent(h);null!=t&&(1==t.enabled&&t.updateAlignment(),t.enabled=!1,t.destroy());var i=u.getVisibleSizeInPixel();e.getComponent(d).setContentSize(i.width,i.height),e.setWorldPosition(new T(i.width/2,i.height/2))},n.RemoveAndDestoryAllChild=function(e){for(;e.children.length>0;){var t=e.children[0];t.removeFromParent(),t.destroy()}},i}(f))||C);i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts"],(function(t){var n,i,e,o,s,a,r,c,h,l,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Node,c=t.BlockInputEvents,h=t.Vec3,l=t.Tween},function(t){u=t.BaseUI}],execute:function(){var m,d,f,p,w,C;s._RF.push({},"214a2DX/OxCx7yp/c1HjsYM","BaseWindow",void 0);var g=a.ccclass,B=a.property;t("BaseWindow",(m=g("BaseWindow"),d=B(r),m(((C=function(t){function n(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,e(n,"mDarkBG",w,o(n)),n.mAnimating=!1,n.mContent=null,n.mContentScript=null,n}i(n,t);var s=n.prototype;return s.InitParam=function(){this.mIsWindow=!0},s.BindUI=function(){this.AddTouchCloseEvent(this.mDarkBG)},s.RegDataNotify=function(){},s.LateInit=function(){},s.CustmoerDestory=function(){},s.SetContent=function(t,n){this.node.addChild(t),this.mContent=t,this.mContentScript=n,this.mContent.getComponent(c)||this.mContent.addComponent(c)},s.GetContentScript=function(){return this.mContentScript},s.Show=function(t){this.mAnimating?console.log("弹窗动画执行中，无法打开或关闭"):t?this.ShowAnm():this.HideAnm()},s.ShowAnm=function(){this.node.active=!0;this.mAnimating=!0,this.mContent.setScale(new h(.1,.1,.1));var t=new l(this.mContent);t.to(.15,{scale:new h(1.2,1.2,1.2)}),t.to(.075,{scale:h.ONE}),t.call(this.ShowEnd.bind(this)),t.start()},s.ShowEnd=function(){this.mAnimating=!1},s.HideAnm=function(){this.mAnimating=!0,this.mContent.setScale(h.ONE);var t=new l(this.mContent);t.to(.075,{scale:new h(1.2,1.2,1.2)}),t.to(.15,{scale:new h(.1,.1,.1)}),t.call(this.HideEnd.bind(this)),t.start()},s.HideEnd=function(){this.mAnimating=!1,this.node.active=!1},n}(u)).PrefabPath="prefab/BaseWindow",C.Bunddle="common",w=n((p=C).prototype,"mDarkBG",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/CenterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./ScrollManager.ts","./ViewManager.ts"],(function(e){var t,i,a,r,n,o,s,l,c,h,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.v3},function(e){c=e.Manager},function(e){h=e.AlwaysScroll},function(e){p=e.ScrollManager},function(e){u=e.ViewManager}],execute:function(){var d,g,f,v,m,w,_,x,b,M,A;o._RF.push({},"3600eRx4tpDwpfO82fPRvYk","CenterManager",void 0);var z=s.ccclass,S=s.property;e("CenterManager",(d=z("CenterManager"),g=S("boolean"),f=S({visible:function(){return this.enabled},tooltip:"自动居中动画的时长"}),v=S({range:[0,1],slide:!0,step:.1,tooltip:"容器(view)的锚点,当滚动停止时,元素锚点位置会和容器锚点位置重合"}),m=S({range:[0,1],slide:!0,step:.1,tooltip:"元素(item)的锚点位置,当滚动停止时,元素锚点位置会和容器锚点位置重合"}),d((x=t((_=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"_enabled",x,r(t)),a(t,"duration",b,r(t)),a(t,"containerAnchorPoint",M,r(t)),a(t,"elementAnchorPoint",A,r(t)),t.mNoCallbackThisTurn=!0,t.mSelectedCallback=null,t}i(t,e);var o=t.prototype;return o.getContainerOffset=function(e){void 0===e&&(e=this.containerAnchorPoint);var t=0;return t=this.adapter.isHorizontal?-1==this.adapter.multiplier?e:1-e:1==this.adapter.multiplier?e:1-e,this.adapter.mainAxisSize*t},o.getElementOffset=function(e){void 0===e&&(e=this.elementAnchorPoint);return this.adapter.isHorizontal?-1==this.adapter.multiplier?e:1-e:1==this.adapter.multiplier?e:1-e},o.onInit=function(){this.adapter.scrollManager.on(p.Event.ON_ABOUT_TO_STOP,this._onAboutToStop,this),this.adapter.viewManager.on(u.Event.ON_UPDATE_VIEWS,this.scrollToCenter,this,!0)},o._onAboutToStop=function(){this.scrollToCenter()},o.SetSelecIndexCallback=function(e){this.mSelectedCallback=e},o.CallOutSelectIndex=function(e){null!=this.mSelectedCallback&&this.mSelectedCallback(e,this.mNoCallbackThisTurn),this.mNoCallbackThisTurn=!1},o.scrollToCenter=function(e){if(void 0===e&&(e=this.duration),this.enabled){var t=this.getCenterVisibleIndex();if(-1!=t){var i=this.adapter.viewManager.getVisibleView(t);this.adapter.scrollManager.scrollToGroupIndex(e,i.index),this.CallOutSelectIndex(i.index)}}},o.getCenterVisibleIndex=function(e,t){void 0===e&&(e=this.containerAnchorPoint),void 0===t&&(t=this.elementAnchorPoint);for(var i=this.adapter.mainAxis,a=this.getContainerOffset(e),r=-1,n=Number.MAX_SAFE_INTEGER,o=0;o<this.adapter.viewManager.visibleLength;o++){var s=this.adapter.viewManager.getVisibleView(o);if(!s||!s.group)break;var c={x:s.group.position.x,y:s.group.position.y};c[i]-=this.adapter.multiplier*s.group.size[i]*t;var h=this.adapter.scrollManager.content.convertToWorldSpaceAR(l(c.x,c.y)),p=this.adapter.scrollManager.view.convertToNodeSpaceAR(h),u=Math.abs(p[i]+this.adapter.multiplier*a);u<n&&(n=u,r=o)}return r},o.getPositionByGroupIndex=function(e,t,i){void 0===t&&(t=h.Auto),void 0===i&&(i=!1);var a=this.adapter.viewManager.getGroup(e);if(!a)return null;var r=null;if(t==h.Header&&this.adapter.viewManager.loopHeader)i&&(r=this._checkExists(e)),null==r&&(r=this._alwaysHeader(e,a));else if(t==h.Footer&&this.adapter.viewManager.loopFooter)i&&(r=this._checkExists(e)),null==r&&(r=this._alwaysFooter(e,a));else if(null==(r=this._checkExists(e))){var n=this.adapter.viewManager.header,o=this.adapter.viewManager.footer;n?e>o.index?r=this._calcTargetFooter(o.group,o.index+1,e,a):e<n.index&&(r=this._calcTargetHeader(n.group,n.index-1,e,a)):r={position:a.position[this.adapter.mainAxis],size:a.size[this.adapter.mainAxis],anchor:a.anchorPoint[this.adapter.mainAxis]}}return this._convertTargetToPosition(r)},o._convertTargetToPosition=function(e){var t=null;if(e){var i=this.adapter.multiplier,a=-1==i?e.anchor:1-e.anchor;t=-e.position,t-=this.getContainerOffset()*i,t-=e.size*a*i,t+=e.size*this.getElementOffset()*i}return t},o._checkExists=function(e){var t=this.adapter.viewManager.getVisibleIndexByGroupIndex(e);if(-1!=t){var i=this.adapter.viewManager.getVisibleView(t);return{position:i.group.position[this.adapter.mainAxis],size:i.group.size[this.adapter.mainAxis],anchor:i.group.anchorPoint[this.adapter.mainAxis]}}return null},o._calcTargetFooter=function(e,t,i,a){for(var r=this.adapter.viewManager.internal_getInitFooterSize(e),n=t;n<=i;n++)r+=this.adapter.viewManager.internal_accumulationSize(n);return{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(r,a),size:a.size[this.adapter.mainAxis],anchor:a.anchorPoint[this.adapter.mainAxis]}},o._calcTargetHeader=function(e,t,i,a){for(var r=this.adapter.viewManager.internal_getInitHeaderSize(e),n=t;n>=i;n--)r+=this.adapter.viewManager.internal_accumulationSize(n);return{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(r,a),size:a.size[this.adapter.mainAxis],anchor:a.anchorPoint[this.adapter.mainAxis]}},o._alwaysHeader=function(e,t){var i=0,a=e,r=this.adapter.viewManager.header;return r&&(i=this.adapter.viewManager.internal_getInitHeaderSize(r.group),a=r.index),e!=a&&(i=this._calcSizeToHeader(a,e,i)),{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(i,t),size:t.size[this.adapter.mainAxis],anchor:t.anchorPoint[this.adapter.mainAxis]}},o._alwaysFooter=function(e,t){var i=0,a=e,r=this.adapter.viewManager.footer;return r&&(i=this.adapter.viewManager.internal_getInitFooterSize(r.group),a=r.index),e!=a&&(i=this._calcSizeToFooter(a,e,i)),{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(i,t),size:t.size[this.adapter.mainAxis],anchor:t.anchorPoint[this.adapter.mainAxis]}},o._calcSizeToHeader=function(e,t,i){for(;;){if(--e<0){if(!this.adapter.viewManager.loopHeader)return i;e=this.adapter.viewManager.groupLength-1}if(i+=this.adapter.viewManager.internal_accumulationSize(e),t==e)return i}},o._calcSizeToFooter=function(e,t,i){for(;;){if(++e>=this.adapter.viewManager.groupLength){if(!this.adapter.viewManager.loopFooter)return i;e=0}if(i+=this.adapter.viewManager.internal_accumulationSize(e),e==t)return i}},n(t,[{key:"enabled",get:function(){return this._enabled},set:function(e){e!=this._enabled&&(this._enabled=e)}},{key:"max",get:function(){var e=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?e:this.adapter.mainAxisSize-e}},{key:"min",get:function(){var e=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?this.adapter.mainAxisSize-e:e}}]),t}(c)).prototype,"_enabled",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(_.prototype,"enabled",[g],Object.getOwnPropertyDescriptor(_.prototype,"enabled"),_.prototype),b=t(_.prototype,"duration",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=t(_.prototype,"containerAnchorPoint",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=t(_.prototype,"elementAnchorPoint",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=_))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/CircleTimer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts"],(function(t){var e,i,n,r,o,s,l,c,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,l=t.Sprite,c=t.Label},function(t){a=t.BaseUI}],execute:function(){var u,m,f,p,h,d,g,C,S;o._RF.push({},"06b96BLlJJN45UNDMNFuB53","CircleTimer",void 0);var b=s.ccclass,T=s.property;t("CircleTimer",(u=b("CircleTimer"),m=T(l),f=T(l),p=T(c),u((g=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"mBG",g,r(e)),n(e,"mProgress",C,r(e)),n(e,"mCount",S,r(e)),e.mSecondCallback=null,e}i(e,t);var o=e.prototype;return o.InitParam=function(){},o.BindUI=function(){},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},o.SetTimerTitle=function(t){this.mCount.string=t},o.SetColor=function(t){this.mProgress.color=t,this.mCount.color=t},o.SetProgress=function(t){this.mProgress.fillRange=t},o.StartTimer=function(t,e){void 0===e&&(e=null),this.node.active=!0,0!=t&&(this.StartSecondsTimer(t,.01),this.mSecondCallback=e,this.OnSecondTimer())},o.StopTimer=function(){this.StopSecondsTimer(),this.node.active=!1},o.OnSecondTimer=function(){this.UpdateCount(),this.UpdateProgress()},o.UpdateCount=function(){var t=this.GetRestSeconds();this.mCount.string=t.toString(),null!=this.mSecondCallback&&this.mSecondCallback(t),this.UpdateColor()},o.UpdateProgress=function(){var t=this.GetRestMillSeconds()/this.mTotalCountTime;this.mProgress.fillRange=t},o.UpdateColor=function(){},e}(a)).prototype,"mBG",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(d.prototype,"mProgress",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(d.prototype,"mCount",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/CommonNotify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseData.ts","./Singleton.ts"],(function(t){var n,e,a,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){a=t.BaseData},function(t){o=t.SingletonBaseNotify}],execute:function(){e._RF.push({},"7299furaU1HCrK0m2+W4Anz","CommonNotify",void 0);t("CommonNotify",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).Data_SocketOpen=new a,n.Data_SocketClose=new a,n.Data_SocketError=new a(!0),n.Data_LayerDragDown=new a(!1,!1),n.Data_LayerDragStart=new a(!0),n.Data_LayerPosY=new a,n.Data_LayerDragFinish=new a(!0),n}return n(e,t),e.prototype.ResetInstance=function(){e.ClearInstance()},e}(o()));e._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,o=n.resources}],execute:function(){e._RF.push({},"bdf05Zfb1tIf6auqPkK9tS0","Config",void 0),n("Config",function(){function n(){}return n.init=function(){var n=this;return new Promise((function(t,e){o.load("config",(function(o,i){o?(console.error(o),e(o)):(n._data=i.json,t())}))}))},t(n,null,[{key:"data",get:function(){return this._data}}]),n}())._data={},e._RF.pop()}}}));

System.register("chunks:///_virtual/ConstantConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,s;return{setters:[function(t){n=t.createForOfIteratorHelperLoose,e=t.createClass},function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"cab70HZWFpF55UycRkcOSSF","ConstantConfig",void 0),t("ConfigConstantConfig",function(){function t(){this.map=Object.create(null),this.list=[]}var s=t.prototype;return s.get=function(t){return this.map[t]},s.startAnalysis=function(t){if(this.map=Object.create(null),this.list=[],t&&Array.isArray(t))for(var e,s=n(t);!(e=s()).done;){var i=e.value;this.map[i.ConstantKey]=i,this.list.push(i)}},s.dispose=function(){this.map=Object.create(null),this.list.length=0},e(t,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/DataNotify.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"c781e6gPpFIqatahGPgKhnx","DataNotify",void 0);t("DataNotify",function(){function t(){this.__listeners={},this.__properties={},this.__defaultValues={},this.__created=!1,this.RemoveListenerByProp=function(t,e){if(e&&t){if(this.__listeners[t])for(var s=0;s<this.__listeners[t].configs.length;s++)this.__listeners[t].configs[s].target==e&&this.__listeners[t].configs.splice(s,1)}else console.log("缺少必要参数")}}var e=t.prototype;return e._getValue=function(t){return this.__listeners.hasOwnProperty(t)?this.__listeners[t].after:this.__properties[t]},e._update=function(t,e){if(this.__properties[t]=e,this.__listeners.hasOwnProperty(t)){var s=this.__listeners[t],i=s.before;s.after=s.before=e,s.configs.forEach((function(t){null!=e&&t.callback.call(t.target,e,i)}))}},e.AddListener=function(t,e,s){this.__listeners.hasOwnProperty(t)?this.__listeners[t].configs.push({callback:e,target:s}):this.__listeners[t]={configs:[{callback:e,target:s}],before:this[t],after:this[t]},null!=this[t]&&null!=this[t]&&e&&s&&e.call(s,this[t],null)},e.RemoveListenerByTarget=function(t){if(t)for(var e in this.__listeners)for(var s=0;this.__listeners[e].configs.length>0&&s<this.__listeners[e].configs.length;)this.__listeners[e].configs[s].target==t?(this.__listeners[e].configs.splice(s,1),s=0):s++;else console.log("缺少必要参数target")},e.CreateNotify=function(){var t=this;if(!this.__created){var e=Object.keys(this),s={};e.forEach((function(e){e.toString().includes("Data_")&&(t.__properties[e]=t[e],t.__defaultValues[e]=t[e],s[e]={get:function(){return this._getValue(e)},set:function(t){this._update(e,t)}})})),Object.defineProperties(this,s),this.__created=!0}},e.SetValueByParamName=function(t,e){this[t]=e},e.GetValueByParamName=function(t){return this[t]},e.RemoveAllListenner=function(){this.__listeners=null,this.__listeners={}},e.ResetAllData=function(){var t=this;Object.keys(this).forEach((function(e){if(e.toString().includes("Data_")){var s=t.__defaultValues[e];t[e]=s}}))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DayTaskItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaskMgr.ts"],(function(t){var i,e,a,n,s,o,r,l,u,c,h,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.Sprite,l=t.Label,u=t.Button,c=t.UITransform,h=t.Component},function(t){p=t.TaskMgr}],execute:function(){var d,g,b,m,f,B,C,k,y,v,w,L,S,T,I,P,R,D,F,x,z;s._RF.push({},"f84bfZ3LulIb61qREsD57bF","DayTaskItem",void 0);var U=o.ccclass,M=o.property;t("DayTaskItem",(d=U("DayTaskItem"),g=M(r),b=M(l),m=M(l),f=M(r),B=M(r),C=M(l),k=M(u),y=M(l),v=M(u),d((S=i((L=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,a(i,"coinSprite",S,n(i)),a(i,"rewardLabel",T,n(i)),a(i,"descLabel",I,n(i)),a(i,"progressBg",P,n(i)),a(i,"progressFill",R,n(i)),a(i,"progressText",D,n(i)),a(i,"claimButton",F,n(i)),a(i,"buttonLabel",x,n(i)),a(i,"claimedButton",z,n(i)),i.taskStatus=null,i.clickCallback=null,i.progressFillMaxWidth=0,i}e(i,t);var s=i.prototype;return s.onLoad=function(){var t=this.node.getChildByPath("Row1Coin");t&&(this.coinSprite=t.getComponent(r));var i=this.node.getChildByPath("Row1Reward");i&&(this.rewardLabel=i.getComponent(l));var e=this.node.getChildByPath("Row1Desc");e&&(this.descLabel=e.getComponent(l));var a=this.node.getChildByPath("Row1ProgressBg");a&&(this.progressBg=a.getComponent(r));var n=this.node.getChildByPath("Row1ProgressFill");if(n){this.progressFill=n.getComponent(r);var s=n.getComponent(c);s&&(this.progressFillMaxWidth=s.width)}var o=this.node.getChildByPath("Row1ProgressText");o&&(this.progressText=o.getComponent(l));var h=this.node.getChildByPath("Row1Button-001");if(h){this.claimButton=h.getComponent(u);var p=h.getChildByPath("Row1ButtonLabel");p&&(this.buttonLabel=p.getComponent(l))}var d=this.node.getChildByPath("Row1Button");d&&(this.claimedButton=d.getComponent(u)),this.claimButton&&this.claimButton.node.on(u.EventType.CLICK,this.onClaimButtonClick,this),this.taskStatus&&this.UpdateUI()},s.onDestroy=function(){if(this.claimButton&&this.claimButton.node)try{this.claimButton.node.off(u.EventType.CLICK,this.onClaimButtonClick,this)}catch(t){}this.taskStatus=null,this.clickCallback=null},s.InitWithData=function(t,i){var e=this;this.taskStatus=t,this.clickCallback=i,this.scheduleOnce((function(){e.UpdateUI()}),0)},s.UpdateUI=function(){if(this.taskStatus){var t,i=this.taskStatus,e=i.config,a=i.progress,n=i.isCompleted,s=i.isClaimed;if(this.descLabel&&(this.descLabel.string=e.TaskDesc||""),this.rewardLabel)this.rewardLabel.string=(null==(t=e.CoinNum)?void 0:t.toString())||"0";this.updateProgress(a,e.Param),this.updateButtonState(n,s)}},s.updateProgress=function(t,i){if(this.progressText&&(this.progressText.string=t+"/"+i),this.progressFill){var e=Math.min(Math.max(t/i,0),1),a=this.progressFill.getComponent(c);if(a)if(this.progressFillMaxWidth>0)a.width=this.progressFillMaxWidth*e;else if(this.progressBg){var n=this.progressBg.getComponent(c);n&&(a.width=n.width*e)}}},s.updateButtonState=function(t,i){i?(this.claimButton&&(this.claimButton.node.active=!1),this.claimedButton&&(this.claimedButton.node.active=!0)):t?(this.claimButton&&(this.claimButton.node.active=!0,this.claimButton.interactable=!0),this.claimedButton&&(this.claimedButton.node.active=!1),this.buttonLabel&&(this.buttonLabel.string="Receber")):(this.claimButton&&(this.claimButton.node.active=!0,this.claimButton.interactable=!1),this.claimedButton&&(this.claimedButton.node.active=!1),this.buttonLabel&&(this.buttonLabel.string="Receber"))},s.onClaimButtonClick=function(){this.taskStatus&&this.claimButton.interactable&&(this.taskStatus.isCompleted&&!this.taskStatus.isClaimed&&p.Instance.ClaimTaskReward(this.taskStatus.taskId)&&(this.taskStatus.isClaimed=!0,this.UpdateUI(),this.clickCallback&&this.clickCallback(this.taskStatus)))},s.GetTaskStatus=function(){return this.taskStatus},s.RefreshTaskData=function(){var t=this;if(this.taskStatus){var i=p.Instance.GetDailyTasks().find((function(i){return i.taskId===t.taskStatus.taskId}));i&&(this.taskStatus=i,this.UpdateUI())}},i}(h)).prototype,"coinSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(L.prototype,"rewardLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(L.prototype,"descLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(L.prototype,"progressBg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(L.prototype,"progressFill",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(L.prototype,"progressText",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(L.prototype,"claimButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(L.prototype,"buttonLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(L.prototype,"claimedButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=L))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/DayTaskPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./TaskMgr.ts","./ResMgr.ts","./UIMgr.ts","./DayTaskItem.ts"],(function(e){var t,n,a,i,o,s,l,r,m,d,h,c,u,f,C;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,i=e.ScrollView,o=e.Layout,s=e.UITransform,l=e.Prefab,r=e.instantiate},function(e){m=e.BaseUI},function(e){d=e.BaseButton},function(e){h=e.TaskMgr,c=e.TaskSubType},function(e){u=e.ResMgr},function(e){f=e.UIMgr},function(e){C=e.DayTaskItem}],execute:function(){var T,g;n._RF.push({},"187b4aGmYlEfafEDbQdqfbI","DayTaskPanel",void 0);var k=a.ccclass,B=function(e){return e[e.Unclaimed=0]="Unclaimed",e[e.Claimed=1]="Claimed",e}(B||{});e("DayTaskPanel",k("DayTaskPanel")(((g=function(e){function n(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).mNoRewardBtnSelect=null,t.mNoRewardBtnNoSelect=null,t.mRewardedBtnSelect=null,t.mRewardedBtnNoSelect=null,t.mCloseBtn=null,t.mContentNode=null,t.mScrollView=null,t.mContentLayout=null,t.mViewTransform=null,t.mOnlineTimeUpdateStarted=!1,t.mCurrentTab=B.Unclaimed,t.mDayTaskItemPrefab=null,t.mIsLoadingItemPrefab=!1,t.mPendingPrefabCallbacks=[],t.mIsRefreshing=!1,t}t(n,e);var a=n.prototype;return a.InitParam=function(){var e,t,n,a,l,r,m,h,c;this.mNoRewardBtnSelect=null==(e=this.node.getChildByPath("Panel/NoRewardBtnSelect"))?void 0:e.getComponent(d),this.mNoRewardBtnNoSelect=null==(t=this.node.getChildByPath("Panel/NoRewardBtnNoSelect"))?void 0:t.getComponent(d),this.mRewardedBtnSelect=null==(n=this.node.getChildByPath("Panel/RewardedBtnSelect"))?void 0:n.getComponent(d),this.mRewardedBtnNoSelect=null==(a=this.node.getChildByPath("Panel/RewardedBtnNoSelect"))?void 0:a.getComponent(d),this.mCloseBtn=null==(l=this.node.getChildByPath("CloseButton"))?void 0:l.getComponent(d);var u=this.node.getChildByPath("Panel/ScrollView");this.mScrollView=null==u?void 0:u.getComponent(i),this.mContentNode=null==u?void 0:u.getChildByPath("view/content"),this.mContentLayout=null!=(r=null==(m=this.mContentNode)?void 0:m.getComponent(o))?r:null,this.mContentLayout&&this.mContentLayout.resizeMode!==o.ResizeMode.CONTAINER&&(this.mContentLayout.resizeMode=o.ResizeMode.CONTAINER),this.mViewTransform=null!=(h=null==u||null==(c=u.getChildByPath("view"))?void 0:c.getComponent(s))?h:null,this.updateContentLayout(!0)},a.BindUI=function(){var e=this;this.mNoRewardBtnSelect&&this.mNoRewardBtnSelect.SetClickCallback((function(){e.OnTabButtonClicked(B.Unclaimed)})),this.mNoRewardBtnNoSelect&&this.mNoRewardBtnNoSelect.SetClickCallback((function(){e.OnTabButtonClicked(B.Unclaimed)})),this.mRewardedBtnSelect&&this.mRewardedBtnSelect.SetClickCallback((function(){e.OnTabButtonClicked(B.Claimed)})),this.mRewardedBtnNoSelect&&this.mRewardedBtnNoSelect.SetClickCallback((function(){e.OnTabButtonClicked(B.Claimed)})),this.mCloseBtn&&this.mCloseBtn.SetClickCallback((function(){e.OnCloseBtnClick()}))},a.RegDataNotify=function(){},a.LateInit=function(){this.UpdateTabState(),this.RefreshTaskList()},a.CustmoerDestory=function(){this.unscheduleAllCallbacks(),this.clearTaskItems(),this.mPendingPrefabCallbacks.length=0,this.mDayTaskItemPrefab=null,this.mIsRefreshing=!1,this.mOnlineTimeUpdateStarted=!1},a.OnTabButtonClicked=function(e){this.mCurrentTab!==e&&(this.mCurrentTab=e,this.UpdateTabState(),this.RefreshTaskList())},a.UpdateTabState=function(){var e=this.mCurrentTab===B.Unclaimed;this.mNoRewardBtnSelect&&(this.mNoRewardBtnSelect.node.active=e),this.mNoRewardBtnNoSelect&&(this.mNoRewardBtnNoSelect.node.active=!e);var t=this.mCurrentTab===B.Claimed;this.mRewardedBtnSelect&&(this.mRewardedBtnSelect.node.active=t),this.mRewardedBtnNoSelect&&(this.mRewardedBtnNoSelect.node.active=!t)},a.RefreshTaskList=function(){var e=this;this.mIsRefreshing||this.ensureItemPrefab((function(){if(e.mContentNode){var t=h.Instance.GetDailyTasks().filter((function(t){return e.mCurrentTab===B.Unclaimed?!1===t.isClaimed:!0===t.isClaimed}));e.populateTaskItems(t)}}))},a.ensureItemPrefab=function(e){var t=this;this.mDayTaskItemPrefab?e&&e():this.mIsLoadingItemPrefab?e&&this.mPendingPrefabCallbacks.push(e):(this.mIsLoadingItemPrefab=!0,e&&this.mPendingPrefabCallbacks.push(e),u.GetAssetInBundle(n.Bunddle,n.ItemPrefabPath,l,(function(e){t.mIsLoadingItemPrefab=!1,e&&(t.mDayTaskItemPrefab=e),t.mPendingPrefabCallbacks.splice(0,t.mPendingPrefabCallbacks.length).forEach((function(e){return e&&e()}))})))},a.populateTaskItems=function(e){var t,n,a=this;if(this.mIsRefreshing=!0,this.mDayTaskItemPrefab&&this.mContentNode){var i=null!=(t=null==(n=this.mScrollView)||null==(n=n.getScrollOffset())?void 0:n.clone())?t:null;this.clearTaskItems(),this.scheduleOnce((function(){a.mContentNode?(e.forEach((function(e){var t=r(a.mDayTaskItemPrefab);a.mContentNode.addChild(t);var n=t.getComponent(C);n&&n.InitWithData(e,(function(){return a.OnTaskRewardClaimed()}))})),a.updateContentLayout(),i&&a.mScrollView&&(a.mScrollView.stopAutoScroll(),a.mScrollView.scrollToOffset(i,0,!1)),a.refreshOnlineTimeTasks(),a.startOnlineTimeUpdater(),a.mIsRefreshing=!1):a.mIsRefreshing=!1}),0)}else this.mIsRefreshing=!1},a.clearTaskItems=function(){if(this.mContentNode&&this.mContentNode.children)try{this.RemoveAndDestoryAllChild(this.mContentNode),this.updateContentLayout(!0)}catch(e){console.warn("DayTaskPanel: clearTaskItems failed, node may be destroying",e)}},a.updateContentLayout=function(e){if(void 0===e&&(e=!1),this.mContentNode){var t;if(!this.mContentLayout)this.mContentLayout=null!=(t=this.mContentNode.getComponent(o))?t:null;this.mContentLayout&&(this.mContentLayout.resizeMode!==o.ResizeMode.CONTAINER&&(this.mContentLayout.resizeMode=o.ResizeMode.CONTAINER),this.mContentLayout.updateLayout());var n=this.mContentNode.getComponent(s);if(n){var a=0;if(this.mViewTransform)a=this.mViewTransform.height;else{var i,l=this.mContentNode.parent,r=null!=(i=null==l?void 0:l.getComponent(s))?i:null;r&&(this.mViewTransform=r,a=r.height)}(e&&a>0&&n.height<a||a>0&&n.height<a)&&(n.height=a)}}},a.startOnlineTimeUpdater=function(){this.mOnlineTimeUpdateStarted||(this.mOnlineTimeUpdateStarted=!0,this.schedule(this.refreshOnlineTimeTasks,1))},a.refreshOnlineTimeTasks=function(){var e;if(this.mContentNode){var t=null!=(e=this.mContentNode.children)?e:[];0!==t.length&&t.forEach((function(e){var t=e.getComponent(C);if(t){var n=t.GetTaskStatus();n&&n.config&&n.config.SubType===c.GameTime&&t.RefreshTaskData()}}))}},a.OnTaskRewardClaimed=function(){this.RefreshTaskList()},a.OnCloseBtnClick=function(){f.Instance.DeleteUIByTarget(this)},n}(m)).PrefabPath="prefab/DayTaskPanel",g.Bunddle="function",g.ItemPrefabPath="prefab/DayTaskItem",T=g))||T);n._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/debug.ts",["cc"],(function(_){var e,D;return{setters:[function(_){e=_.cclegacy,D=_.Color}],execute:function(){e._RF.push({},"7b4f5fb1/5GdZ1KiiWr5EEn","debug",void 0);_("DEBUG_DRAW_LINE_COLOR",new D(238,124,55,255)),_("DEBUG_DRAW_FILL_COLOR",new D(88,175,64,50)),_("DEBUG_DRAW_BORDER_COLOR",new D(56,120,94,255)),_("DEBUG_DRAW_LIND_WIDTH",3),_("ADAPTER_DEBUG_VIEW",!1),_("ADAPTER_DEBUG_CONTENT",!1);e._RF.pop()}}}));

System.register("chunks:///_virtual/DragDownEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonNotify.ts"],(function(t){var n,a,e,o,i,s,r;return{setters:[function(t){n=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator,o=t.Node,i=t.Vec2,s=t.Component},function(t){r=t.CommonNotify}],execute:function(){var c;a._RF.push({},"466888Qu9NI3oypDv41Cx0J","DragDownEvent",void 0);var h=e.ccclass;e.property,t("DragDownEvent",h("DragDownEvent")(c=function(t){function a(){for(var n,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).mStartPos=null,n.mEndPos=null,n.mProtectDistance=70,n.mActive=!1,n}n(a,t);var e=a.prototype;return e.start=function(){this.node.on(o.EventType.TOUCH_START,this.TouchStart.bind(this)),this.node.on(o.EventType.TOUCH_MOVE,this.TouchMove.bind(this)),this.node.on(o.EventType.TOUCH_END,this.TouchEnd.bind(this)),this.node.on(o.EventType.TOUCH_CANCEL,this.TouchEnd.bind(this))},e.TouchStart=function(t){this.Reset(),this.mStartPos=t.getUIStartLocation()},e.TouchMove=function(t){this.mEndPos=t.getUILocation();var n=this.mEndPos.subtract(this.mStartPos);if(this.mActive)this.CalculateDrag(n);else{var a=180*new i(1,0).signAngle(n)/Math.PI,e=n.length();this.CalculateActive(e,a)}},e.TouchEnd=function(t){this.mActive&&(r.Instance.Data_LayerDragFinish.mData=!0),this.Reset()},e.CalculateActive=function(t,n){r.Instance.Data_LayerDragDown.mData?t>this.mProtectDistance&&this.IsDragUp(n)&&(this.mActive=!0,r.Instance.Data_LayerDragStart.mData=!0):t>this.mProtectDistance&&this.IsDragDown(n)&&(this.mActive=!0,r.Instance.Data_LayerDragStart.mData=!0)},e.CalculateDrag=function(t){var n;n=r.Instance.Data_LayerDragDown.mData?t.y-this.mProtectDistance:t.y+this.mProtectDistance,r.Instance.Data_LayerPosY.mData=n},e.Reset=function(){this.mStartPos=null,this.mEndPos=null,this.mActive=!1},e.IsDragDown=function(t){return t<-60&&t>-120},e.IsDragUp=function(t){return t<120&&t>60},a}(s))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/DragLayerListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./CommonNotify.ts"],(function(t){var n,e,a,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.BaseUI},function(t){r=t.CommonNotify}],execute:function(){var s;e._RF.push({},"028d9vjl1BPrLU7M5swxxBb","DragLayerListener",void 0);var i=a.ccclass;a.property,t("DragLayerListener",i("DragLayerListener")(s=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this).mMaxOffset=500,n.mStartPosY=null,n}n(e,t);var a=e.prototype;return a.InitParam=function(){},a.BindUI=function(){},a.RegDataNotify=function(){var t=this;r.Instance.Data_LayerPosY.AddListenner(this,(function(n){var e=t.mStartPosY+n;e>=t.mMaxOffset&&(e=t.mMaxOffset),e<=0&&(e=0),t.node.setPosition(0,e,0)})),r.Instance.Data_LayerDragFinish.AddListenner(this,(function(n){0!=n&&(t.node.position.y>=t.mMaxOffset/2?(t.node.setPosition(0,t.mMaxOffset,0),r.Instance.Data_LayerDragDown.mData=!1):(t.node.setPosition(0,0,0),r.Instance.Data_LayerDragDown.mData=!0))})),r.Instance.Data_LayerDragStart.AddListenner(this,(function(n){0!=n&&(t.mStartPosY=t.node.position.y)}))},a.LateInit=function(){},a.CustmoerDestory=function(){},e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/DropBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts"],(function(t){var i,n,e,o,r,a,l,s,u,c,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,s=t.Label,u=t.ScrollView},function(t){c=t.BaseUI},function(t){p=t.BaseButton}],execute:function(){var f,m,h,D,B,d,y,b,x,v,T,g,L,w,C,N;r._RF.push({},"7db4dV8W2JIp4ePv/5qfP6V","DropBox",void 0);var I=a.ccclass,S=a.property;t("DropBox",(f=I("DropBox"),m=S(l),h=S(p),D=S(l),B=S(s),d=S(l),y=S(u),f(((N=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,e(i,"mBG",v,o(i)),e(i,"mBtn",T,o(i)),e(i,"mDropContainer",g,o(i)),e(i,"mTitle",L,o(i)),e(i,"mDropDown",w,o(i)),e(i,"mScrollView",C,o(i)),i.mDataNotify=null,i.mTitles=void 0,i}n(i,t),i.AddDropBox=function(t){null==i.DropBoxList&&(i.DropBoxList=new Array),i.DropBoxList.push(t)},i.RemoveDropBox=function(t){var n=i.DropBoxList.findIndex((function(i){return i===t}));if(n<0)return null;i.DropBoxList.splice(n,1)},i.HideAllDropBox=function(){for(var t=0;t<i.DropBoxList.length;t++){i.DropBoxList[t].Expand(!1)}};var r=i.prototype;return r.InitParam=function(){i.AddDropBox(this)},r.BindUI=function(){var t=this;this.mBG.on(l.EventType.TOUCH_END,(function(){t.Expand(!1)})),this.mBtn.SetClickCallback((function(){i.HideAllDropBox(),t.Expand(!0)})),this.Expand(!1)},r.RegDataNotify=function(){},r.LateInit=function(){},r.CustmoerDestory=function(){i.RemoveDropBox(this),null!=this.mDataNotify&&(this.mDataNotify.RemoveListennerByTarget(this),this.mDataNotify=null),this.mTitles=null},r.Expand=function(t){this.mBG.active=t,this.mDropContainer.active=t,t&&this.MaxScreen(this.mBG)},r.InitWithData=function(t,i,n){t.RemoveListennerByTarget(this),t.mData=i,this.mDataNotify=t,this.mTitles=n,this.mDataNotify.AddListenner(this,this.NotifyCallback.bind(this))},r.CreateItem=function(t,i,n,e){var o=this;this.RemoveAndDestoryAllChild(this.mScrollView.content);for(var r=function(r){o.LoadPrefab(t,i,n,(function(i){var n=o.mTitles[r];o.mScrollView.content.addChild(i);var a=i.getComponent(t);a.InitWithData(o.mDataNotify,r,n),a.SetExtraCallback(e)}))},a=0;a<this.mTitles.length;a++)r(a)},r.GetSelectedOptionContent=function(){return this.mTitles[this.mDataNotify.mData]},r.GetTotalOption=function(){return this.mTitles.length},r.NotifyCallback=function(t){this.mTitle.string=this.mTitles[t],this.mBtn.SetTitle(this.mTitles[t])},i}(c)).DropBoxList=null,v=i((x=N).prototype,"mBG",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(x.prototype,"mBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(x.prototype,"mDropContainer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(x.prototype,"mTitle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(x.prototype,"mDropDown",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(x.prototype,"mScrollView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=x))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/DropBoxItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./ToggleBtn.ts"],(function(t){var n,o,e,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){r=t.BaseUI},function(t){i=t.ToggleBtn}],execute:function(){var a,c;o._RF.push({},"a82b8vPZDBG9r6OYAFmVht2","DropBoxItem",void 0);var l=e.ccclass;e.property,t("DropBoxItem",l("DropBoxItem")(((c=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).mToggleBtn=null,n}n(o,t);var e=o.prototype;return e.InitParam=function(){this.mToggleBtn=this.node.getChildByName("ToggleBtn").getComponent(i)},e.BindUI=function(){},e.RegDataNotify=function(){},e.LateInit=function(){},e.CustmoerDestory=function(){},e.InitWithData=function(t,n,o){this.TryPreload(),this.mToggleBtn.SetDataNotify(t,n),this.mToggleBtn.SetTitle(o)},e.SetExtraCallback=function(t){this.mToggleBtn.SetExtraCallback(t)},o}(r)).PrefabPath="prefab/DropBoxItem",c.Bunddle="common",a=c))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/DynamicAdaptScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,o,s,c;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,o=e.view,s=e.ResolutionPolicy,c=e.Component}],execute:function(){var r;t._RF.push({},"c4498HQZcxNHbkx52/kW8AE","DynamicAdaptScreen",void 0);var a=n.ccclass;n.property,e("DynamicAdaptScreen",a("DynamicAdaptScreen")(r=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.onLoad=function(){this.OnResize(),o.on("canvas-resize",this.OnResize,this)},n.OnResize=function(){var e=o.getVisibleSizeInPixel(),i=o.getDesignResolutionSize();e.height/e.width<1.8?o.setDesignResolutionSize(i.width,i.height,s.FIXED_HEIGHT):o.setDesignResolutionSize(i.width,i.height,s.FIXED_WIDTH)},t}(c))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.ts",["cc"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy,r=e.Enum}],execute:function(){t._RF.push({},"01fe3AcDF9KfZJZQayEIQ2S","enum",void 0);var o=e("Orientation",function(e){return e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e}({})),n=e("MovementType",function(e){return e[e.Unrestricted=0]="Unrestricted",e[e.Elastic=1]="Elastic",e[e.Clamped=2]="Clamped",e}({})),i=e("ArrangeAxis",function(e){return e[e.Start=0]="Start",e[e.End=1]="End",e}({})),u=e("StretchDirection",function(e){return e[e.Auto=0]="Auto",e[e.Header=1]="Header",e[e.Footer=2]="Footer",e[e.Center=3]="Center",e}({})),c=(e("Layer",function(e){return e[e.Lowest=0]="Lowest",e[e.Medium=1]="Medium",e[e.Highest=2]="Highest",e}({})),e("WrapMode",function(e){return e[e.Auto=0]="Auto",e[e.Wrap=1]="Wrap",e[e.Nowrap=2]="Nowrap",e}({})),e("TouchMode",function(e){return e[e.Auto=0]="Auto",e[e.AlwaysAllow=1]="AlwaysAllow",e[e.Disabled=2]="Disabled",e}({}))),a=e("MagneticDirection",function(e){return e[e.Header=0]="Header",e[e.Footer=1]="Footer",e}({})),l=e("ChildAlignment",function(e){return e[e.UpperLeft=0]="UpperLeft",e[e.UpperCenter=1]="UpperCenter",e[e.UpperRight=2]="UpperRight",e[e.MiddleLeft=3]="MiddleLeft",e[e.MiddleCenter=4]="MiddleCenter",e[e.MiddleRight=5]="MiddleRight",e[e.LowerLeft=6]="LowerLeft",e[e.LowerCenter=7]="LowerCenter",e[e.LowerRight=8]="LowerRight",e}({})),L=(e("ScrollDirection",function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.None=4]="None",e}({})),e("ScrollbarDirection",function(e){return e[e.Top_To_Bottom=0]="Top_To_Bottom",e[e.Bottom_To_Top=1]="Bottom_To_Top",e[e.Left_To_Right=2]="Left_To_Right",e[e.Right_To_Left=3]="Right_To_Left",e}({}))),d=(e("NestedDirection",function(e){return e[e.Both=0]="Both",e[e.Header=1]="Header",e[e.Footer=2]="Footer",e}({})),e("AlwaysScroll",function(e){return e[e.Auto=0]="Auto",e[e.Header=1]="Header",e[e.Footer=2]="Footer",e}({})),e("IndicatorMode",function(e){return e[e.Normal=0]="Normal",e[e.Button=1]="Button",e}({}))),E=e("Transition",function(e){return e[e.None=0]="None",e[e.ColorTint=1]="ColorTint",e[e.SpriteSwap=2]="SpriteSwap",e[e.Scale=3]="Scale",e}({}));e("ReleaseState",function(e){return e.IDLE="IDLE",e.PULL="PULL",e.WAIT="WAIT",e.RELEASE="RELEASE",e}({})),e("HolderEvent",function(e){return e.CREATED="ADAPTER:HOLDER:CREATED",e.VISIBLE="ADAPTER:HOLDER:VISIBLE",e.DISABLE="ADAPTER:HOLDER:DISABLE",e}({})),e("ViewEvent",function(e){return e.VISIBLE="ADAPTER:VIEW:VISIBLE",e.DISABLE="ADAPTER::VIEW:DISABLE",e}({}));r(o),r(n),r(i),r(u),r(a),r(L),r(l),r(c),r(d),r(E),t._RF.pop()}}}));

System.register("chunks:///_virtual/FreeRewardPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts"],(function(n){var t,e,o,l,i,a;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,l=n.Label},function(n){i=n.BaseUI},function(n){a=n.BaseButton}],execute:function(){var r,s;e._RF.push({},"cbf83toedBHB4kw9Sl+51Ot","FreeRewardPanel",void 0);var c=o.ccclass;o.property,n("FreeRewardPanel",c("FreeRewardPanel")(((s=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return(t=n.call.apply(n,[this].concat(o))||this).mTitleLabel=null,t.mDescLabel=null,t.mRewardInfoLabel=null,t.mConfirmBtn=null,t.mCloseBtn=null,t}t(e,n);var o=e.prototype;return o.InitParam=function(){var n,t,e,o,i;this.mTitleLabel=null==(n=this.node.getChildByPath("TitleLabel"))?void 0:n.getComponent(l),this.mDescLabel=null==(t=this.node.getChildByPath("DescLabel"))?void 0:t.getComponent(l),this.mRewardInfoLabel=null==(e=this.node.getChildByPath("RewardInfoLabel"))?void 0:e.getComponent(l),this.mConfirmBtn=null==(o=this.node.getChildByPath("ConfirmBtn"))?void 0:o.getComponent(a),this.mCloseBtn=null==(i=this.node.getChildByPath("CloseBtn"))?void 0:i.getComponent(a)},o.BindUI=function(){var n=this;this.mConfirmBtn&&this.mConfirmBtn.SetClickCallback((function(){n.OnConfirmBtnClick()})),this.mCloseBtn&&this.mCloseBtn.SetClickCallback((function(){n.OnCloseBtnClick()}))},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},o.OnConfirmBtnClick=function(){console.log("确认/领取按钮被点击")},o.OnCloseBtnClick=function(){console.log("关闭按钮被点击"),this.Show(!1)},e}(i)).PrefabPath="prefab/FreeRewardPanel",s.Bunddle="function",r=s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/FreeRewardResultPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts"],(function(t){var e,n,l,o,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,l=t._decorator,o=t.Label},function(t){i=t.BaseUI},function(t){s=t.BaseButton}],execute:function(){var a,r;n._RF.push({},"46bd8sjGHxNb5fJoYYChFXl","FreeRewardResultPanel",void 0);var u=l.ccclass;l.property,t("FreeRewardResultPanel",u("FreeRewardResultPanel")(((r=function(t){function n(){for(var e,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))||this).mTitleLabel=null,e.mResultDescLabel=null,e.mRewardInfoLabel=null,e.mConfirmBtn=null,e.mCloseBtn=null,e}e(n,t);var l=n.prototype;return l.InitParam=function(){var t,e,n,l,i;this.mTitleLabel=null==(t=this.node.getChildByPath("TitleLabel"))?void 0:t.getComponent(o),this.mResultDescLabel=null==(e=this.node.getChildByPath("ResultDescLabel"))?void 0:e.getComponent(o),this.mRewardInfoLabel=null==(n=this.node.getChildByPath("RewardInfoLabel"))?void 0:n.getComponent(o),this.mConfirmBtn=null==(l=this.node.getChildByPath("ConfirmBtn"))?void 0:l.getComponent(s),this.mCloseBtn=null==(i=this.node.getChildByPath("CloseBtn"))?void 0:i.getComponent(s)},l.BindUI=function(){var t=this;this.mConfirmBtn&&this.mConfirmBtn.SetClickCallback((function(){t.OnConfirmBtnClick()})),this.mCloseBtn&&this.mCloseBtn.SetClickCallback((function(){t.OnCloseBtnClick()}))},l.RegDataNotify=function(){},l.LateInit=function(){},l.CustmoerDestory=function(){},l.OnConfirmBtnClick=function(){console.log("确认按钮被点击"),this.Show(!1)},l.OnCloseBtnClick=function(){console.log("关闭按钮被点击"),this.Show(!1)},n}(i)).PrefabPath="prefab/FreeRewardResultPanel",r.Bunddle="function",a=r))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/FullScreenNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,i,s,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.view,s=e.Size,r=e.UITransform,c=e.Component}],execute:function(){var u;n._RF.push({},"ba4319R6K1JiY1AVeV2PU1d","FullScreenNode",void 0);var l=o.ccclass;o.property,e("FullScreenNode",l("FullScreenNode")(u=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.start=function(){i.on("canvas-resize",this.ResizeNode,this),this.ResizeNode()},o.ResizeNode=function(){var e=i.getDesignResolutionSize(),t=i.getVisibleSize(),n=e.x,o=e.y,c=i.getScaleX(),u=i.getScaleY(),l=new s(c*n,u*o),a=t.x/l.x,p=t.y/l.y,d=0,y=0;t.x<l.x&&t.y<l.y?this.node.getComponent(r).setContentSize(l.x,l.y):(a>p?(d=l.x*a,y=l.y*a):(d=l.x*p,y=l.y*p),this.node.getComponent(r).setContentSize(d,y))},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameAutoSetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./MovingShow.ts","./GameData.ts","./BaseButton.ts","./GameConfig.ts","./ToggleBtn.ts"],(function(t){var n,o,e,a,i,s,h,u,l,m,c,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,a=t.Node},function(t){i=t.BaseUI},function(t){s=t.MovingShow,h=t.AnimationShowType},function(t){u=t.GameData,l=t.BottomUIEnum},function(t){m=t.BaseButton},function(t){c=t.GameConfig},function(t){r=t.ToggleBtn}],execute:function(){var g,B;o._RF.push({},"76ca4QQWVRNr5jnpY7k8YJe","GameAutoSetting",void 0);var S=e.ccclass;e.property,t("GameAutoSetting",S("GameAutoSetting")(((B=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).mMovingShow=null,n.mTouchCloseBG=null,n.mCloseBtn=null,n.mStartBtn=null,n.mToggleGroup=null,n}n(o,t);var e=o.prototype;return e.onEnable=function(){u.Instance.Data_AutoChoseIndex.mData=c.WrongIndex},e.Show=function(t){t?this.node.active=!0:this.mMovingShow.HideAnimation()},e.InitParam=function(){this.mToggleGroup=this.node.getChildByPath("MovingShow/BG/Middle/Layout"),this.mTouchCloseBG=this.node.getChildByPath("TouchCloseBG"),this.mMovingShow=this.node.getChildByPath("MovingShow").getComponent(s),this.mCloseBtn=this.node.getChildByPath("MovingShow/BG/Top/CloseBtn").getComponent(m),this.mStartBtn=this.node.getChildByPath("MovingShow/BG/Bottom/StartBtn").getComponent(m)},e.BindUI=function(){var t=this;this.mMovingShow.SetAnimationType(h.FromBottom),this.mMovingShow.SetRoot(this.node),this.mTouchCloseBG.on(a.EventType.TOUCH_END,(function(){t.mMovingShow.IsAnimating()||(u.Instance.Data_BottomUIEnum.mData=l.PlayingUI)}),this),this.mCloseBtn.SetClickCallback((function(){t.mMovingShow.IsAnimating()||(u.Instance.Data_BottomUIEnum.mData=l.PlayingUI)}));for(var n=0;n<this.mToggleGroup.children.length;n++){var o=this.mToggleGroup.children[n].getComponent(r);o.SetDataNotify(u.Instance.Data_AutoChoseIndex,n);var e=u.GetAutoPlayCount(n);o.SetTitle(e+"")}this.mStartBtn.SetClickCallback((function(){if(!t.mMovingShow.IsAnimating()){var n=u.Instance.Data_AutoChoseIndex.mData,o=u.GetAutoPlayCount(n);u.Instance.Data_AutoCountLeft.mData=o,u.Instance.Data_BottomUIEnum.mData=l.PlayingUI,u.Instance.Data_StartBtnPress.mData=!0}}))},e.RegDataNotify=function(){var t=this;u.Instance.Data_AutoChoseIndex.AddListenner(this,(function(n){n==c.WrongIndex?t.mStartBtn.SetInteractableWithHalfAlpha(!1):t.mStartBtn.SetInteractableWithHalfAlpha(!0)}))},e.LateInit=function(){},e.CustmoerDestory=function(){},o}(i)).PrefabPath="prefab/GameAutoSetting",B.Bunddle="gamePage",g=B))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameBetSelect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./MovingShow.ts","./BaseButton.ts","./SA_ScrollCards.ts","./GameData.ts","./GameConfig.ts","./Tool.ts"],(function(t){var o,e,n,i,a,l,r,s,m,h,c,B;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.Node},function(t){a=t.BaseUI},function(t){l=t.MovingShow,r=t.AnimationShowType},function(t){s=t.BaseButton},function(t){m=t.SA_ScrollCards},function(t){h=t.GameData},function(t){c=t.GameConfig},function(t){B=t.Tool}],execute:function(){var S,C;e._RF.push({},"6d17eNFjSNImZ8TEURbObJM","GameBetSelect",void 0);var u=n.ccclass;n.property,t("GameBetSelect",u("GameBetSelect")(((C=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this).mTouchCloseBG=null,o.mMovingShow=null,o.mCloseBtn=null,o.mBiggestBtn=null,o.mConfirmBtn=null,o.mScrollCardsSize=null,o.mScrollCardsRatio=null,o.mScrollCardsTotal=null,o.mOrderBetConfig=null,o}o(e,t);var n=e.prototype;return n.Show=function(t){t?this.node.active=!0:this.mMovingShow.HideAnimation()},n.InitParam=function(){var t=this;this.mTouchCloseBG=this.node.getChildByPath("TouchCloseBG"),this.mMovingShow=this.node.getChildByPath("MovingShow").getComponent(l),this.mCloseBtn=this.node.getChildByPath("MovingShow/BG/CloseBtn").getComponent(s),this.mBiggestBtn=this.node.getChildByPath("MovingShow/BG/BiggestBtn").getComponent(s),this.mConfirmBtn=this.node.getChildByPath("MovingShow/BG/ConfirmBtn").getComponent(s),this.mScrollCardsSize=this.node.getChildByPath("MovingShow/SubBG/Bottom/ScrollCardsSize").getComponent(m),this.mScrollCardsRatio=this.node.getChildByPath("MovingShow/SubBG/Bottom/ScrollCardsRatio").getComponent(m),this.mScrollCardsTotal=this.node.getChildByPath("MovingShow/SubBG/Bottom/ScrollCardsTotal").getComponent(m);var o=JSON.stringify(h.BetConfigList),e=JSON.parse(o).sort((function(t,o){return t.mTotalAmount-o.mTotalAmount}));this.mOrderBetConfig=new Array;for(var n=function(){var o=e[i];t.mOrderBetConfig.findIndex((function(t){return t.mTotalAmount===o.mTotalAmount}))<0&&t.mOrderBetConfig.push(o)},i=0;i<e.length;i++)n()},n.BindUI=function(){var t=this;this.mMovingShow.SetAnimationType(r.FromBottom),this.mMovingShow.SetRoot(this.node),this.mMovingShow.SetShowAnimationCallback((function(){var o=h.Instance.Data_SingleBetIndex.mData,e=h.Instance.GetBetConfigByIndex(o);t.JumpToFinalBetAmount(e.mTotalAmount),t.BiggestBtnStateChange(e.mTotalAmount)})),this.mTouchCloseBG.on(i.EventType.TOUCH_END,(function(){t.Show(!1)}),this),this.mCloseBtn.SetClickCallback((function(){t.Show(!1)})),this.mBiggestBtn.SetClickCallback((function(){var o=t.mOrderBetConfig.length-1,e=t.mOrderBetConfig[o];t.DisableConfirm(),t.mScrollCardsSize.ScrollToWithCallback(.5,h.BetSizeList.length-1,!0),t.mScrollCardsRatio.ScrollToWithCallback(.5,h.BetRatioList.length-1,!0),t.mScrollCardsTotal.ScrollToWithCallback(.5,o,!0),t.BiggestBtnStateChange(e.mTotalAmount)})),this.mConfirmBtn.SetClickCallback((function(){var o=t.mOrderBetConfig[t.mScrollCardsTotal.mSelectIndex],e=h.Instance.GetBetIndexByID(o.mBetId);h.Instance.Data_SingleBetIndex.mData=e,t.Show(!1),h.Instance.saveSnapshotFromGameData()})),this.InitBetSizeScrollView(),this.InitBetRatioScrollView(),this.InitBetTotalScrollView()},n.RegDataNotify=function(){},n.LateInit=function(){},n.CustmoerDestory=function(){},n.BiggestBtnStateChange=function(t){var o=this.mOrderBetConfig.length-1,e=this.mOrderBetConfig[o],n=this.GetConfigByTotalAmount(t),i=e.mBetId==n.mBetId;this.mBiggestBtn.SetInteractableWithHalfAlpha(!i)},n.InitBetSizeScrollView=function(){for(var t=this,o=[],e=0;e<h.BetSizeList.length;e++){var n="",i=B.ConvertMoneyToString(h.BetSizeList[e]*c.MoneyRatio),a="";0==e?n="-":e==h.BetSizeList.length-1&&(a="-");var l={mTopSide:n,mainContent:i,mBottomSide:a};o.push(l)}this.mScrollCardsSize.InitWithData(o,(function(o){t.CalculateTotalIndex()}))},n.InitBetRatioScrollView=function(){for(var t=this,o=[],e=0;e<h.BetRatioList.length;e++){var n="",i=h.BetRatioList[e]+"",a="";0==e?n="-":e==h.BetRatioList.length-1&&(a="-");var l={mTopSide:n,mainContent:i,mBottomSide:a};o.push(l)}this.mScrollCardsRatio.InitWithData(o,(function(o){t.CalculateTotalIndex()}))},n.InitBetTotalScrollView=function(){for(var t=this,o=[],e=0;e<this.mOrderBetConfig.length;e++){var n="",i=this.mOrderBetConfig[e].mTotalAmount,a=B.ConvertMoneyToString(i),l="";0==e?n="-":e==this.mOrderBetConfig.length-1&&(l="-");var r={mTopSide:n,mainContent:a,mBottomSide:l};o.push(r)}this.mScrollCardsTotal.InitWithData(o,(function(o){var e=t.mOrderBetConfig[o];t.BiggestBtnStateChange(e.mTotalAmount);var n=h.Instance.GetBetSizeIndex(e.mBetSize),i=h.Instance.GetBetRatioIndex(e.mBetRatio);t.DisableConfirm(),t.mScrollCardsSize.ScrollToWithCallback(.5,n,!0),t.mScrollCardsRatio.ScrollToWithCallback(.5,i,!0)}))},n.JumpToFinalBetAmount=function(t){var o=this.GetConfigByTotalAmount(t),e=this.GetTotalBetIndexByBetConfig(o),n=h.Instance.GetBetSizeIndex(o.mBetSize),i=h.Instance.GetBetRatioIndex(o.mBetRatio);this.mScrollCardsTotal.ScrollToWithCallback(0,e,!0),this.mScrollCardsSize.ScrollToWithCallback(0,n,!0),this.mScrollCardsRatio.ScrollToWithCallback(0,i,!0)},n.GetTotalBetIndexByBetConfig=function(t){return this.mOrderBetConfig.findIndex((function(o){return o.mBetId===t.mBetId}))},n.GetConfigByTotalAmount=function(t){var o=this.mOrderBetConfig.findIndex((function(o){return o.mTotalAmount===t}));if(!(o<0))return this.mOrderBetConfig[o];console.log("GetConfigByTotalAmount wrong  _totalAmount ==="+t)},n.CalculateTotalIndex=function(){var t=this.mScrollCardsSize.mSelectIndex,o=this.mScrollCardsRatio.mSelectIndex,e=h.BetSizeList[t],n=h.BetRatioList[o],i=Math.trunc(e*n*c.BaseMultiple*c.MoneyRatio),a=this.GetConfigByTotalAmount(i);if(null!=a){var l=this.GetTotalBetIndexByBetConfig(a);this.DisableConfirm(),this.mScrollCardsTotal.ScrollToWithCallback(.5,l,!0),this.BiggestBtnStateChange(a.mTotalAmount)}else console.log("CalculateTotalIndex wrong  mTotalAmount ==="+a.mTotalAmount)},n.DisableConfirm=function(){var t=this;this.mConfirmBtn.SetInteractableWithGray(!1),this.StartSecondsTimer(.5,.5,(function(){0==t.GetRestMillSeconds()&&t.mConfirmBtn.SetInteractableWithGray(!0)}))},e}(a)).PrefabPath="prefab/GameBetSelect",C.Bunddle="gamePage",S=C))||S);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameBonusUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameNotifyBorad.ts","./GameData.ts"],(function(t){var e,n,a,o,i,s,r,u,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,o=t.Label,i=t.Tween,s=t.Vec3},function(t){r=t.BaseUI},function(t){u=t.GameNotifyBorad},function(t){l=t.GameData}],execute:function(){var m,c;n._RF.push({},"decb1gosQ9Ij53lpkcQvweO","GameBonusUI",void 0);var d=a.ccclass;a.property,t("GameBonusUI",d("GameBonusUI")(((c=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).mCount=null,e.mLastCountTitle=null,e.mFreeTitle=null,e.mNotifyBoardContainer=null,e.mLastFreeTimes=0,e}e(n,t);var a=n.prototype;return a.InitParam=function(){this.mNotifyBoardContainer=this.node.getChildByPath("BottomBG1/NotifyBoardContainer"),this.mLastCountTitle=this.node.getChildByPath("LastCountTitle"),this.mFreeTitle=this.node.getChildByPath("FreeTitle"),this.mCount=this.node.getChildByPath("Count").getComponent(o)},a.BindUI=function(){this.AddSubView("GameNotifyBorad",u.Bunddle,u.PrefabPath,null,this.mNotifyBoardContainer),this.HideAllLabel()},a.RegDataNotify=function(){var t=this;l.Instance.Data_UpdateFreeTimes.AddListenner(this,(function(e){if(0!=e){var n=l.Instance.GetFreeGameTotalCount();t.HideAllLabel(),t.mLastFreeTimes=n,n>=1?(t.mFreeTitle.active=!0,t.mCount.node.active=!0,t.mCount.string=n+"",t.PopAnm()):0==n&&(t.mLastCountTitle.active=!0)}})),l.Instance.Data_FreeGameInFreeGame.AddListenner(this,(function(e){var n=l.Instance.GetFreeGameTotalCount(),a=new i({a:0});a.to(1,{a:100},{progress:function(e,a,o,i){var s=Math.round(a*i),r=t.mLastFreeTimes+(n-t.mLastFreeTimes)*i;return t.mCount.string=r.toFixed(0),s}}),a.start()}))},a.LateInit=function(){},a.CustmoerDestory=function(){},a.HideAllLabel=function(){this.mCount.node.active=!1,this.mLastCountTitle.active=!1,this.mFreeTitle.active=!1},a.PopAnm=function(){this.StopAllTween(this.mCount.node),this.mCount.node.setScale(s.ONE);var t=new i(this.mCount.node);t.to(.15,{scale:new s(1.2,1.2,1.2)}),t.to(.075,{scale:s.ONE}),t.start()},n}(r)).PrefabPath="prefab/GameBonusUI",c.Bunddle="gamePage",m=c))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameBottomUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameNotifyBorad.ts","./GameData.ts","./AudioManager.ts"],(function(t){var a,n,o,e,i,r,c,s;return{setters:[function(t){a=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){e=t.BaseUI},function(t){i=t.GameNotifyBorad},function(t){r=t.GameData,c=t.GameStatus},function(t){s=t.AudioManager}],execute:function(){var u,f;n._RF.push({},"48620PSBtlL6bE2zAbHUwaM","GameBottomUI",void 0);var m=o.ccclass;o.property,t("GameBottomUI",m("GameBottomUI")(((f=function(t){function n(){for(var a,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(a=t.call.apply(t,[this].concat(o))||this).mNotifyBoardContainer=null,a}a(n,t);var o=n.prototype;return o.InitParam=function(){this.mNotifyBoardContainer=this.node.getChildByPath("NotifyBoardContainer")},o.BindUI=function(){this.AddSubView("GameNotifyBorad",i.Bunddle,i.PrefabPath,null,this.mNotifyBoardContainer)},o.RegDataNotify=function(){var t=this;r.Instance.Data_GameStatus.AddListenner(this,(function(a){a==c.Waiting?t.StartSecondsTimer(1e4,5,(function(){s.Instance.PlayTalk()}),!1):a==c.StartScroll&&t.StopSecondsTimer()}))},o.LateInit=function(){},o.CustmoerDestory=function(){},n}(e)).PrefabPath="prefab/GameBottomUI",f.Bunddle="gamePage",u=f))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(e){var t,o,i;return{setters:[function(e){t=e.createClass},function(e){o=e.cclegacy},function(e){i=e.DEBUG}],execute:function(){o._RF.push({},"017c2fLlAhDf7t7M2+C1s8H","GameConfig",void 0);var n=e("GameConfig",function(){function e(){}return e.GetUrlToken=function(){return 0==e.DebugMode?top.Token:"1981CEFE1137472195C624802E0A39E7"},e.WriteSimpleData=function(e,t){localStorage.setItem(e,t)},e.ReadSimpleData=function(e,t){void 0===t&&(t=null);var o=localStorage.getItem(e);return"null"!==o&&null!==o||(o=t),o},e.WriteSimpleData_Bool=function(t,o){e.WriteSimpleData(t,1==o?1:0)},e.ReadSimpleData_Bool=function(t,o){void 0===o&&(o=!1);var i=e.ReadSimpleData(t,null);return null==i?o:1==Number(i)},t(e,null,[{key:"HTTP_URL",get:function(){return 1==this.DebugMode?"http://8.212.16.92:10002":top.location.protocol+"//"+top.location.host}}]),e}());n.DebugMode=i,n.isTest=!0,n.Version="1.0.0",n.LOGIN_TOKEN=void 0,n.WrongIndex=-99,n.BaseMultiple=200,n.WEBSOCKET_ADDR="www.baidu.com",n.RootAddr="http://www.baidu.com/gamesSoft",n.MoneyRatio=1e3,n.WinProbability=.35,n.WinMultiplierConfig=[{value:1,weight:5},{value:2,weight:300},{value:3,weight:300},{value:5,weight:6},{value:10,weight:5},{value:20,weight:4},{value:30,weight:3},{value:40,weight:2},{value:50,weight:1}],o._RF.pop()}}}));

System.register("chunks:///_virtual/GameControlBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./ToggleBtn.ts","./BaseButton.ts","./GameData.ts","./GameStartBtn.ts","./UIMgr.ts","./MovingShow.ts","./GameFastTips.ts","./Localization.ts","./GameMoneyChangeTips.ts"],(function(t){var n,a,e,i,o,s,h,u,l,m,c,g,d,S,r,B;return{setters:[function(t){n=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator},function(t){i=t.BaseUI},function(t){o=t.ToggleBtn},function(t){s=t.BaseButton},function(t){h=t.GameData,u=t.GameStatus,l=t.BottomUIEnum},function(t){m=t.GameStartBtn},function(t){c=t.UIMgr},function(t){g=t.MovingShow,d=t.AnimationShowType},function(t){S=t.GameFastTips},function(t){r=t.Localization},function(t){B=t.GameMoneyChangeTips}],execute:function(){var f,I;a._RF.push({},"3ba3bb6PfpO7JBTpYk5X0vf","GameControlBtn",void 0);var M=e.ccclass;e.property,t("GameControlBtn",M("GameControlBtn")(((I=function(t){function a(){for(var n,a=arguments.length,e=new Array(a),i=0;i<a;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).mMovingShow=null,n.mFastModeToggle=null,n.mMinusBtn=null,n.mAddBtn=null,n.mAutoBtn=null,n.mMenuBtn=null,n.mSoundOffTag=null,n}n(a,t);var e=a.prototype;return e.Show=function(t){t?this.node.active=!0:this.mMovingShow.HideAnimation()},e.InitParam=function(){this.mMovingShow=this.node.getChildByPath("MovingShow").getComponent(g),this.mFastModeToggle=this.node.getChildByPath("MovingShow/FastModeToggle").getComponent(o),this.mMinusBtn=this.node.getChildByPath("MovingShow/MinusBtn").getComponent(s),this.mAddBtn=this.node.getChildByPath("MovingShow/AddBtn").getComponent(s),this.mAutoBtn=this.node.getChildByPath("MovingShow/AutoBtn").getComponent(s),this.mMenuBtn=this.node.getChildByPath("MovingShow/MenuBtn").getComponent(s),this.mSoundOffTag=this.node.getChildByPath("MovingShow/SoundOffTag")},e.BindUI=function(){var t=this;this.mSoundOffTag.active=!1,this.mMovingShow.SetAnimationType(d.FromBottom),this.mMovingShow.SetRoot(this.node),this.AddSubView("GameStartBtn",m.Bunddle,m.PrefabPath,null,this.mMovingShow.node),this.mFastModeToggle.ShowUnselected(),this.mFastModeToggle.SetClickCallback((function(t){h.Instance.Data_FastMode.mData=t,c.Instance.ShowLayer("GameMoneyChangeTips",B.Bunddle,B.PrefabPath,!1),c.Instance.ShowLayer("GameFastTips",S.Bunddle,S.PrefabPath,!0,(function(n){var a=n,e="";e=1==t?r.GetString("00001"):r.GetString("00002"),a.ShowWithTips(e,t)}))})),this.mMinusBtn.SetClickCallback((function(){h.Instance.Data_GameStatus.mData==u.Waiting&&(0==h.Instance.MinusSingleBetAmount()&&(c.Instance.ShowLayer("GameFastTips",S.Bunddle,S.PrefabPath,!1),c.Instance.ShowLayer("GameMoneyChangeTips",B.Bunddle,B.PrefabPath,!0,(function(t){var n=t,a=r.GetString("00003");n.ShowWithTips(a)}))))})),this.mAddBtn.SetClickCallback((function(){h.Instance.Data_GameStatus.mData==u.Waiting&&(0==h.Instance.AddSingleBetAmount()&&(c.Instance.ShowLayer("GameFastTips",S.Bunddle,S.PrefabPath,!1),c.Instance.ShowLayer("GameMoneyChangeTips",B.Bunddle,B.PrefabPath,!0,(function(t){var n=t,a=r.GetString("00004");n.ShowWithTips(a)}))))})),this.mAutoBtn.SetClickCallback((function(){h.Instance.Data_GameStatus.mData==u.Waiting&&(t.mMovingShow.IsAnimating()||(h.Instance.Data_BottomUIEnum.mData=l.AutoSettingUI))})),this.mMenuBtn.SetClickCallback((function(){t.mMovingShow.IsAnimating()||(h.Instance.Data_BottomUIEnum.mData=l.MenuUI)}))},e.RegDataNotify=function(){var t=this;h.Instance.Data_GameStatus.AddListenner(this,(function(n){t.ChangeBtnStatus()})),h.Instance.Data_AutoCountLeft.AddListenner(this,(function(n){t.ChangeBtnStatus()})),h.Instance.Data_IsMuted.AddListenner(this,(function(n){t.mSoundOffTag.active=n})),h.Instance.Data_SingleBetIndex.AddListenner(this,(function(n){t.ChangeBtnStatus()}))},e.LateInit=function(){},e.CustmoerDestory=function(){},e.ChangeBtnStatus=function(){h.Instance.Data_AutoCountLeft.mData>0?(this.mMinusBtn.SetInteractableWithHalfAlpha(!1),this.mAddBtn.SetInteractableWithHalfAlpha(!1),this.mAutoBtn.SetInteractableWithHalfAlpha(!1),this.mMenuBtn.SetInteractableWithHalfAlpha(!1)):(h.Instance.Data_GameStatus.mData==u.Waiting?(this.mMinusBtn.SetInteractable(!0),this.mAddBtn.SetInteractable(!0),this.mMinusBtn.SetHalfAlpha(!1),this.mAddBtn.SetHalfAlpha(!1),h.Instance.IsMinBetAlready()&&this.mMinusBtn.SetHalfAlpha(!0),h.Instance.IsMaxBetAlready()&&this.mAddBtn.SetHalfAlpha(!0)):(this.mMinusBtn.SetInteractableWithHalfAlpha(h.Instance.Data_GameStatus.mData==u.Waiting),this.mAddBtn.SetInteractableWithHalfAlpha(h.Instance.Data_GameStatus.mData==u.Waiting)),this.mAutoBtn.SetInteractableWithHalfAlpha(h.Instance.Data_GameStatus.mData==u.Waiting),this.mMenuBtn.SetInteractableWithHalfAlpha(h.Instance.Data_GameStatus.mData==u.Waiting))},a}(i)).PrefabPath="prefab/GameControlBtn",I.Bunddle="gamePage",f=I))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./BaseData.ts","./Singleton.ts","./Tool.ts","./UIMgr.ts","./LocalStorageService.ts","./TableMgr.ts","./TaskMgr.ts","./Heartbeat.ts"],(function(t){var e,n,a,i,o,r,s,u,l,h,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.GameConfig},function(t){i=t.BaseData},function(t){o=t.SingletonBaseNotify},function(t){r=t.Tool},function(t){s=t.UIMgr},function(t){u=t.LocalStorageService},function(t){l=t.TableMgr},function(t){h=t.TaskMgr},function(t){f=t.Heartbeat}],execute:function(){n._RF.push({},"6b35aidpShIxoozejI3v7ui","GameData",void 0);var B=t("GameStatus",function(t){return t[t.Waiting=0]="Waiting",t[t.StartScroll=1]="StartScroll",t[t.TryToReward=2]="TryToReward",t[t.TryFalling=3]="TryFalling",t[t.CalculateTotalWin=4]="CalculateTotalWin",t[t.Ending=5]="Ending",t}({})),d=t("GameData",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this)._mockCount=0,e._gameTimeHeartbeatRegistered=!1,e.LastTimeBetConfig=null,e.Data_SimpleDataIndex=new i(!1,L.Today),e.Data_StartYear=new i,e.Data_StartMonth=new i,e.Data_StartDay=new i,e.Data_EndYear=new i,e.Data_EndMonth=new i,e.Data_EndDay=new i,e.Date_SelectDate=new i,e.Data_TProtoMjhlRecordRsp=new i,e.Data_TProtoMjhlRecordDetailRsp=new i,e.Data_TryToStopLane=new i,e.Data_GameStatus=new i(!1,B.Waiting),e.Data_CanPressSpace=new i(!0),e.Data_RuningRouter=new i,e.Data_DeleteFinishRouter=new i,e.Data_RewardFinishRouter=new i,e.Data_CurrentRewardStep=new i,e.Data_CurrentRatio=new i,e.Data_CurrentRewardRatioIndex=new i,e.Data_FastMode=new i(!1,!1),e.Data_AutoCountLeft=new i(!1,0),e.Data_AutoChoseIndex=new i,e.Data_SingleBetIndex=new i,e.Data_BottomUIEnum=new i,e.Data_CurrentBonusRewardRatioIndex=new i,e.Data_UpdateBalance=new i,e.Data_UpdateExperience=new i,e.Data_UpdateKsCoin=new i,e.Data_StartBtnPress=new i,e.Data_FreeGameMode=new i,e.Data_FreeBet=new i,e.Data_UpdateFreeTimes=new i,e.Data_ExplainItemConfig=new i,e.Data_ExplainShow=new i,e.Data_ShowSpecialTotalWin=new i(!0),e.Data_DeleteConfig=new i,e.Data_NeedReLogin=new i(!0,!1),e.Data_StartCountReLoginTimer=new i(!0,!1),e.Data_IsMuted=new i(!1,!1),e.Data_FreeGameInFreeGame=new i,e.Data_ExcutiveDeleteNow=new i,e.Data_ReadyToDeleteMJ=new i,e.Data_NeedDeleteLaneCount=new i,e.Data_FastModeOneTimeOnly=new i,e.Data_StartTopAnmToFreeGame=new i,e.Data_EndTopAnmToFreeGame=new i,e.Data_ShowFreeDetailsRecordUI=new i,e.Data_ForceToGoHistroyPage=new i(!0),e.Data_TProtoMjhlUserInfoRsp=new i,e.Data_TMjhlResultList=new i,e.Data_CurrentTMjhlResult=new i,e.Data_SyncFreeTotalWin=new i,e.ItemList=void 0,e.BetResp=null,e.SlowDownLane=[!1,!1,!1,!1,!1],e}e(n,t);var o=n.prototype;return o.ResetInstance=function(){this.delayAccessServices((function(t,e){t.Instance.ClearState(),e.Instance.ClearState()})),n.ClearInstance()},o.delayAccessServices=function(t){var e=this;setTimeout((function(){try{var n=function(t,e){try{var n;return(null==(n=(window.__modules__||{})[t.replace(/\.\.\//g,"")])?void 0:n[e])||null}catch(t){return null}},a=null,i=null;try{if(a=n("ui/function/AddMainRewardService","AddMainRewardService"),i=n("ui/function/AddMainDailyRewardService","AddMainDailyRewardService"),!a||!i)return console.warn("[GameData] 无法立即访问添加到主界面服务，将在下次尝试"),void setTimeout((function(){e.delayAccessServices(t)}),500)}catch(t){return void console.warn("[GameData] 访问添加到主界面服务时出错:",t)}a&&i&&t(a,i)}catch(t){console.error("[GameData] 访问添加到主界面服务失败:",t)}}),100)},o.CustomerInit=function(){if(null==n.BetConfigList){n.BetSizeList=[.03,.1,1,2.5,5],n.BetRatioList=[1,2,3,4,5,6,7,8,9,10];var t=a.BaseMultiple;n.BetConfigList=new Array,n.BetConfigList.push(new C(1,n.BetSizeList[0],n.BetRatioList[0],t)),n.BetConfigList.push(new C(2,n.BetSizeList[0],n.BetRatioList[1],t)),n.BetConfigList.push(new C(3,n.BetSizeList[0],n.BetRatioList[2],t)),n.BetConfigList.push(new C(4,n.BetSizeList[0],n.BetRatioList[3],t)),n.BetConfigList.push(new C(5,n.BetSizeList[0],n.BetRatioList[4],t)),n.BetConfigList.push(new C(6,n.BetSizeList[0],n.BetRatioList[5],t)),n.BetConfigList.push(new C(7,n.BetSizeList[0],n.BetRatioList[6],t)),n.BetConfigList.push(new C(8,n.BetSizeList[0],n.BetRatioList[7],t)),n.BetConfigList.push(new C(9,n.BetSizeList[0],n.BetRatioList[8],t)),n.BetConfigList.push(new C(10,n.BetSizeList[0],n.BetRatioList[9],t)),n.BetConfigList.push(new C(11,n.BetSizeList[1],n.BetRatioList[0],t)),n.BetConfigList.push(new C(12,n.BetSizeList[1],n.BetRatioList[1],t)),n.BetConfigList.push(new C(13,n.BetSizeList[1],n.BetRatioList[2],t)),n.BetConfigList.push(new C(14,n.BetSizeList[1],n.BetRatioList[3],t)),n.BetConfigList.push(new C(15,n.BetSizeList[1],n.BetRatioList[4],t)),n.BetConfigList.push(new C(16,n.BetSizeList[1],n.BetRatioList[5],t)),n.BetConfigList.push(new C(17,n.BetSizeList[1],n.BetRatioList[6],t)),n.BetConfigList.push(new C(18,n.BetSizeList[1],n.BetRatioList[7],t)),n.BetConfigList.push(new C(19,n.BetSizeList[1],n.BetRatioList[8],t)),n.BetConfigList.push(new C(20,n.BetSizeList[1],n.BetRatioList[9],t)),n.BetConfigList.push(new C(21,n.BetSizeList[2],n.BetRatioList[0],t)),n.BetConfigList.push(new C(22,n.BetSizeList[2],n.BetRatioList[1],t)),n.BetConfigList.push(new C(23,n.BetSizeList[2],n.BetRatioList[2],t)),n.BetConfigList.push(new C(24,n.BetSizeList[2],n.BetRatioList[3],t)),n.BetConfigList.push(new C(25,n.BetSizeList[2],n.BetRatioList[4],t)),n.BetConfigList.push(new C(26,n.BetSizeList[2],n.BetRatioList[5],t)),n.BetConfigList.push(new C(27,n.BetSizeList[2],n.BetRatioList[6],t)),n.BetConfigList.push(new C(28,n.BetSizeList[2],n.BetRatioList[7],t)),n.BetConfigList.push(new C(29,n.BetSizeList[2],n.BetRatioList[8],t)),n.BetConfigList.push(new C(30,n.BetSizeList[2],n.BetRatioList[9],t)),n.BetConfigList.push(new C(31,n.BetSizeList[3],n.BetRatioList[0],t)),n.BetConfigList.push(new C(32,n.BetSizeList[3],n.BetRatioList[1],t)),n.BetConfigList.push(new C(33,n.BetSizeList[3],n.BetRatioList[2],t)),n.BetConfigList.push(new C(34,n.BetSizeList[3],n.BetRatioList[3],t)),n.BetConfigList.push(new C(35,n.BetSizeList[3],n.BetRatioList[4],t)),n.BetConfigList.push(new C(36,n.BetSizeList[3],n.BetRatioList[5],t)),n.BetConfigList.push(new C(37,n.BetSizeList[3],n.BetRatioList[6],t)),n.BetConfigList.push(new C(38,n.BetSizeList[3],n.BetRatioList[7],t)),n.BetConfigList.push(new C(39,n.BetSizeList[3],n.BetRatioList[8],t)),n.BetConfigList.push(new C(40,n.BetSizeList[3],n.BetRatioList[9],t)),n.BetConfigList.push(new C(41,n.BetSizeList[4],n.BetRatioList[0],t)),n.BetConfigList.push(new C(42,n.BetSizeList[4],n.BetRatioList[1],t)),n.BetConfigList.push(new C(43,n.BetSizeList[4],n.BetRatioList[2],t)),n.BetConfigList.push(new C(44,n.BetSizeList[4],n.BetRatioList[3],t)),n.BetConfigList.push(new C(45,n.BetSizeList[4],n.BetRatioList[4],t)),n.BetConfigList.push(new C(46,n.BetSizeList[4],n.BetRatioList[5],t)),n.BetConfigList.push(new C(47,n.BetSizeList[4],n.BetRatioList[6],t)),n.BetConfigList.push(new C(48,n.BetSizeList[4],n.BetRatioList[7],t)),n.BetConfigList.push(new C(49,n.BetSizeList[4],n.BetRatioList[8],t)),n.BetConfigList.push(new C(50,n.BetSizeList[4],n.BetRatioList[9],t)),n.BetConfigShortCutList=new Array,n.BetConfigShortCutList.push(1,2,3,11,5,10,15,20,31,25,30,40,46,48,50)}},o.applySnapshotToGameData=function(t){null!=t.isMuted&&this.GetPlayerInfo()&&(this.GetPlayerInfo().mute=t.isMuted?1:0),null!=t.exp&&this.GetPlayerInfo()&&(this.GetPlayerInfo().exp=t.exp,this.Data_UpdateExperience.mData=!0),null!=t.ksCoin&&this.GetPlayerInfo()&&(this.GetPlayerInfo().ksCoin=t.ksCoin,this.Data_UpdateKsCoin.mData=!0),null!=t.fastMode&&this.Data_FastMode&&(this.Data_FastMode.mData=t.fastMode),null!=t.autoCountLeft&&this.Data_AutoCountLeft&&(this.Data_AutoCountLeft.mData=t.autoCountLeft),null!=t.freeGameMode&&this.Data_FreeGameMode&&(this.Data_FreeGameMode.mData=t.freeGameMode),null!=t.freeBet&&this.Data_FreeBet&&(this.Data_FreeBet.mData=t.freeBet),null!=t.singleBetIndex&&this.Data_SingleBetIndex&&(this.Data_SingleBetIndex.mData=t.singleBetIndex)},o.saveSnapshotFromGameData=function(){var t,e,n,a=this.GetPlayerInfo(),i=a?a.balance:0,o=!!a&&1===a.mute,r=a&&null!=(t=a.exp)?t:0,s=a&&null!=(e=a.ksCoin)?e:0,l=a&&null!=(n=a.freePlayTimes)?n:0,h={version:1,isMuted:!!o,lastTimeBetConfigId:this.LastTimeBetConfig?this.LastTimeBetConfig.mBetId:0,balance:i,exp:r,ksCoin:s,freePlayTimes:l,fastMode:!!this.Data_FastMode&&this.Data_FastMode.mData,autoCountLeft:this.Data_AutoCountLeft?this.Data_AutoCountLeft.mData:0,freeGameMode:!!this.Data_FreeGameMode&&this.Data_FreeGameMode.mData,freeBet:!!this.Data_FreeBet&&this.Data_FreeBet.mData,singleBetIndex:this.Data_SingleBetIndex?this.Data_SingleBetIndex.mData:0};u.saveGameData(h)},o.PostGetUserInfo=function(){var t,e,n,a,i,o=u.loadGameData(),r={playerInfo:{id:1,balance:null!=(t=null==o?void 0:o.balance)?t:5e5,mute:null!=o&&o.isMuted?1:0,exp:null!=(e=null==o?void 0:o.exp)?e:0,ksCoin:null!=(n=null==o?void 0:o.ksCoin)?n:0,freePlayTimes:null!=(a=null==o?void 0:o.freePlayTimes)?a:0},mjhlInfo:{freePlayTimes:0,lastTimeBet:0,betsize:0,betmultiple:0,lastBetId:null!=(i=null==o?void 0:o.lastTimeBetConfigId)?i:0,orderid:"",betid:0,sceneodds:0,havewin:0,buytype:0,freeresult:null,lastresult:null}};h.Instance.Initialize(),this.delayAccessServices((function(t,e){t.Instance.Initialize(),e.Instance.Initialize()})),this.registerGameTimeHeartbeat(),s.Instance.ShowLoading(!1),this.SetGameInitInfo(r),o&&this.applySnapshotToGameData(o),this.saveSnapshotFromGameData()},o.PostMute=function(){this.saveSnapshotFromGameData()},o.PostBetReq=function(t){this.Data_FreeBet.mData=!1,this.LastTimeBetConfig=t,this.GetGameInfo().lastTimeBet=t.mTotalAmount;var e=this.generateWinAmount(),n=this.generateMockResult(e),i={balance:Math.max(0,this.GetPlayerRestMoney()),result:n,bet:t.mTotalAmount,freetimes:0,wintotal:e,orderid:"LOCAL-ORDER"};this.DealBetResult(i,i.balance,i.result),h.Instance.AddBetAmount(t.mTotalAmount/a.MoneyRatio),this.saveSnapshotFromGameData()},o.PostFreeBetReq=function(){var t=this.GetGameInfo().lastTimeBet;null==this.LastTimeBetConfig&&(this.LastTimeBetConfig=this.GetBetConfigByAmount(t)),this.Data_FreeBet.mData=!0;var e=this.generateWinAmount(),n=this.generateMockResult(e),i={balance:Math.max(0,this.GetPlayerRestMoney()),result:n,bet:t,freetimes:0,wintotal:e,orderid:"LOCAL-FREE"};this.DealBetResult(i,i.balance,i.result),h.Instance.AddBetAmount(t/a.MoneyRatio),this.saveSnapshotFromGameData()},o.PostHistory=function(t,e){s.Instance.ShowLoading(!0);s.Instance.ShowLoading(!1),this.Data_TProtoMjhlRecordRsp.mData={record:[],totalcount:0,totalbet:0,totalprofit:0}},o.PostHistoryDetails=function(t){s.Instance.ShowLoading(!0);s.Instance.ShowLoading(!1),this.Data_TProtoMjhlRecordDetailRsp.mData={details:[],totalcount:0}},o.generateWinAmount=function(){var t=6e4;if(null!=this.LastTimeBetConfig)t=this.LastTimeBetConfig.mTotalAmount;else{var e,n=null==(e=this.GetGameInfo())?void 0:e.lastTimeBet;null!=n&&n>0&&(t=n)}var i=0;Math.random()>a.WinProbability&&(i=this.getWeightedRandomMultiplier()*t);return 0===this._mockCount?i=18e3:1===this._mockCount?i=3e4:2===this._mockCount?i=9e4:3===this._mockCount?i=12e4:4===this._mockCount?i=21e4:5===this._mockCount&&(i=3e5),this._mockCount++,this.GetPlayerRestMoney()<500&&this._mockCount>6&&(this._mockCount=0),i},o.getWeightedRandomMultiplier=function(){for(var t=a.WinMultiplierConfig,e=0,n=0;n<t.length;n++)e+=t[n].weight;for(var i=Math.random()*e,o=0,r=0;r<t.length;r++)if(i<=(o+=t[r].weight))return t[r].value;return t[t.length-1].value},o.generateMockResult=function(t){return[{cardList:[{list:[3,9,3,8,4],win:[0,2,3],droplist:[3,10,9]},{list:[3,8,14,16,4],win:[0,1],droplist:[18,4]},{list:[8,5,3,20,5],win:[0,2],droplist:[6,14]},{list:[4,6,15,17,7],win:[],droplist:[]},{list:[3,9,3,5,8],win:[],droplist:[]}],win:t,havewin:0,removelist:[{iconid:8,winlines:1,wincount:[1,1,1]},{iconid:3,winlines:2,wincount:[2,1,1]}],roundid:"LOCAL-ROUND",balance:Math.max(0,this.GetPlayerRestMoney()),scattercount:0,createtime:Date.now()},{cardList:[{list:[9,4,3,10,9],win:[],droplist:null},{list:[14,16,4,18,4],win:[],droplist:null},{list:[5,20,5,6,14],win:[],droplist:null},{list:[4,6,15,17,7],win:[],droplist:null},{list:[3,9,3,5,8],win:[],droplist:null}],win:0,havewin:102e3,removelist:[],roundid:"LOCAL-ROUND",balance:Math.max(0,this.GetPlayerRestMoney()),scattercount:0,createtime:Date.now()}]},o.ClearLocalData=function(){u.clearGameData(),this.Data_SingleBetIndex.mData=0,this.Data_CurrentRatio.mData=0,this.Data_CurrentRewardRatioIndex.mData=0,this.Data_CurrentBonusRewardRatioIndex.mData=0,this.Data_FastMode.mData=!1,this.Data_AutoCountLeft.mData=0,this.Data_AutoChoseIndex.mData=0,this.Data_BottomUIEnum.mData=g.PlayingUI,this.Data_IsMuted.mData=!1,this.Data_FreeGameMode.mData=!1,this.Data_FreeBet.mData=!1,this.LastTimeBetConfig=null,this.Data_TProtoMjhlUserInfoRsp.mData&&this.Data_TProtoMjhlUserInfoRsp.mData.playerInfo&&(this.Data_TProtoMjhlUserInfoRsp.mData.playerInfo.balance=5e5,this.Data_TProtoMjhlUserInfoRsp.mData.playerInfo.exp=0,this.Data_TProtoMjhlUserInfoRsp.mData.playerInfo.ksCoin=0),this.Data_UpdateBalance.mData=!0,this.Data_UpdateExperience.mData=!0,this.Data_UpdateKsCoin.mData=!0,console.log("[GameData] 本地玩家数据已清理"),this.saveSnapshotFromGameData(),h.Instance.ClearTaskData()},o.GetExperience=function(){var t;return this.GetPlayerInfo()&&null!=(t=this.GetPlayerInfo().exp)?t:0},o.SetExperience=function(t){this.GetPlayerInfo()&&(this.GetPlayerInfo().exp=t,this.Data_UpdateExperience.mData=!0)},o.ChangeExperience=function(t){this.SetExperience(this.GetExperience()+t)},o.GetCurrentLevel=function(){var t=this.GetExperience();return l.Instance.GetLevelByExp(t)},o.GetKsCoin=function(){var t;return this.GetPlayerInfo()&&null!=(t=this.GetPlayerInfo().ksCoin)?t:0},o.SetKsCoin=function(t){this.GetPlayerInfo()&&(this.GetPlayerInfo().ksCoin=t,this.Data_UpdateKsCoin.mData=!0)},o.ChangeKsCoin=function(t){this.SetKsCoin(this.GetKsCoin()+t)},o.OnAdWatchComplete=function(){h.Instance.AddAdWatchCount(1)},o.AddGameTime=function(t){h.Instance.AddGameTime(t)},o.registerGameTimeHeartbeat=function(){var t=this;if(!this._gameTimeHeartbeatRegistered){var e=f.Instance;e?(e.onSecond((function(){t.AddGameTime(1)}),this),this._gameTimeHeartbeatRegistered=!0):setTimeout((function(){var e=f.Instance;e?(e.onSecond((function(){t.AddGameTime(1)}),t),t._gameTimeHeartbeatRegistered=!0):console.warn("[GameData] Failed to register game time heartbeat, Heartbeat instance not available")}),100)}},o.CalculateSlowDownLane=function(){this.SlowDownLane=[!1,!1,!1,!1,!1];for(var t=this.Data_TMjhlResultList.mData[0],e=0,n=0;n<t.cardList.length;n++){0!=n&&e>=2&&(this.SlowDownLane[n]=!0);for(var a=t.cardList[n],i=0;i<a.list.length-1;i++){2==a.list[i]&&e++}}},o.HaveSlowLane=function(){for(var t=0;t<this.SlowDownLane.length;t++)if(1==this.SlowDownLane[t])return!0;return!1},o.GetIsSlowDown=function(t){return!(t>=this.SlowDownLane.length)&&this.SlowDownLane[t]},o.SetGameInitInfo=function(t){var e;this.Data_FreeGameMode.mData=(null!=(e=t.playerInfo.freePlayTimes)?e:0)>0,this.Data_TProtoMjhlUserInfoRsp.mData=t,this.Data_UpdateBalance.mData=!0,this.SetSingleBetIndexByAmount(t.mjhlInfo.lastTimeBet)},o.MoneyChangeWith=function(t){this.GetPlayerInfo().balance+=t,this.Data_UpdateBalance.mData=!0},o.SetMoney=function(t){this.GetPlayerInfo().balance=t,this.Data_UpdateBalance.mData=!0},o.GetPlayerRestMoney=function(){return this.GetPlayerInfo().balance},o.GetWinMoney=function(){for(var t=0,e=0;e<this.Data_TMjhlResultList.mData.length;e++){t+=this.Data_TMjhlResultList.mData[e].win}return t},o.GetPlayerInfo=function(){return this.Data_TProtoMjhlUserInfoRsp.mData.playerInfo},o.GetGameInfo=function(){return this.Data_TProtoMjhlUserInfoRsp.mData.mjhlInfo},o.GetWinResult=function(){var t=this.Data_CurrentRewardStep.mData;return this.Data_TMjhlResultList.mData[t]},o.GetDeletePos=function(t){var e=this.Data_CurrentRewardStep.mData;return this.Data_TMjhlResultList.mData[e].cardList[t].win},o.GetFallOrder=function(t){for(var e=this.NeedDeleteLaneConfig(),n=0;n<e.length;n++){if(t==e[n])return e.length-n}return a.WrongIndex},o.NeedDeleteLaneConfig=function(){for(var t=new Array,e=0;e<n.MAX_LANE;e++){var a=this.GetDeletePos(e);null!=a&&a.length>0&&t.push(e)}return t},o.SyncDeleteLaneCount=function(){for(var t=0,e=0;e<n.MAX_LANE;e++){var a=n.Instance.GetDeletePos(e);null!=a&&a.length>0&&t++}this.Data_NeedDeleteLaneCount.mData=t},o.HaveNextReward=function(){return this.Data_CurrentRewardStep.mData<this.Data_TMjhlResultList.mData.length},o.DealBetResult=function(t,e,n){this.BetResp=t,this.Data_NeedReLogin.mData=!1,this.CreateItemList(n),this.Data_TProtoMjhlUserInfoRsp.mData.playerInfo.balance=e,this.Data_TMjhlResultList.mData=n,this.Data_UpdateBalance.mData=!0},o.SyncTotalFreeGameCount=function(t){return 0!=this.BetResp.freetimes&&this.ChangeFreeGameCount(this.BetResp.freetimes,t),this.BetResp.freetimes},o.ChangeFreeGameCount=function(t,e){var n,a;void 0===e&&(e=!1);var i=this.Data_TProtoMjhlUserInfoRsp.mData.playerInfo;i.freePlayTimes=(null!=(n=i.freePlayTimes)?n:0)+t,this.Data_FreeGameMode.mData=(null!=(a=i.freePlayTimes)?a:0)>0,this.Data_UpdateFreeTimes.mData=e,this.saveSnapshotFromGameData()},o.GetFreeGameTotalCount=function(){var t;return null!=(t=this.Data_TProtoMjhlUserInfoRsp.mData.playerInfo.freePlayTimes)?t:0},o.CreateItemList=function(t){this.ItemList=new Array,this.ItemList.push(new Array),this.ItemList.push(new Array),this.ItemList.push(new Array),this.ItemList.push(new Array),this.ItemList.push(new Array);for(var e=0;e<t.length;e++)for(var n=t[e].cardList,a=0;a<n.length;a++){if(0==e)for(var i=n[a].list,o=0;o<i.length;o++)this.ItemList[a].push(i[o]);var r=n[a].droplist;if(null!=r)for(var s=0;s<r.length;s++)this.ItemList[a].push(r[s])}},o.GetCurrentRewardRatio=function(t){return n.RewardRatioConfig[t]},o.GetCurrentBonusRewardRatio=function(t){return n.BonusRewardRatioConfig[t]},o.SelectRewardRatio=function(){var t=this.Data_CurrentRatio.mData;return t>=n.RewardRatioConfig.length&&(t=n.RewardRatioConfig.length-1),this.Data_CurrentRewardRatioIndex.mData=t,t},o.SelectFreeGameRewardRatio=function(){var t=this.Data_CurrentRatio.mData;return t>=n.BonusRewardRatioConfig.length&&(t=n.BonusRewardRatioConfig.length-1),this.Data_CurrentBonusRewardRatioIndex.mData=t,t},o.SetSingleBetIndexByAmount=function(t){if(0==t)this.Data_SingleBetIndex.mData=n.Instance.GetBetIndexByID(10);else{var e=n.Instance.GetBetIndexByAmount(t);e==a.WrongIndex?this.Data_SingleBetIndex.mData=n.Instance.GetBetIndexByID(10):this.Data_SingleBetIndex.mData=e}},o.GetBetConfigByID=function(t){var e=n.BetConfigList.findIndex((function(e){return e.mBetId===t}));return e<0?(console.log("GetBetConfigByID Wrong ==="+t),null):n.BetConfigList[e]},o.GetBetConfigByAmount=function(t){var e=n.BetConfigList.findIndex((function(e){return e.mTotalAmount===t}));return e<0?(console.log("GetBetConfigByAmount Wrong ==="+t),null):n.BetConfigList[e]},o.GetCurrentBetConfig=function(){var t=n.Instance.Data_SingleBetIndex.mData;return n.BetConfigList[t]},o.GetBetConfigByIndex=function(t){return n.BetConfigList[t]},o.GetBetIndexByAmount=function(t){var e=n.BetConfigList.findIndex((function(e){return e.mTotalAmount===t}));return e<0?(console.log("GetBetIndexByAmount Wrong ==="+t),a.WrongIndex):e},o.GetBetIndexByID=function(t){var e=n.BetConfigList.findIndex((function(e){return e.mBetId===t}));return e<0?(console.log("GetBetIndexByID Wrong ==="+t),a.WrongIndex):e},o.IsMaxBetAlready=function(){var t=n.BetConfigList.length;return this.Data_SingleBetIndex.mData>=t-1},o.AddSingleBetAmount=function(){if(this.IsMaxBetAlready())return!1;var t=this.Data_SingleBetIndex.mData,e=this.GetNearestShortCutIndexToAdd(t);return this.Data_SingleBetIndex.mData=this.GetBetIndexByID(e.mBetId),!0},o.IsMinBetAlready=function(){return 0==this.Data_SingleBetIndex.mData},o.MinusSingleBetAmount=function(){if(this.IsMinBetAlready())return!1;var t=this.Data_SingleBetIndex.mData,e=this.GetNearestShortCutIndexToMinus(t);return this.Data_SingleBetIndex.mData=this.GetBetIndexByID(e.mBetId),!0},o.GetNearestShortCutIndexToAdd=function(t){for(var e=this.GetBetConfigByIndex(t),i=a.WrongIndex,o=n.BetConfigShortCutList.length-1;o>=0;o--){if(this.GetShortCutBetConfigByIndex(o).mTotalAmount<=e.mTotalAmount){i=o+1;break}}return this.GetShortCutBetConfigByIndex(i)},o.GetNearestShortCutIndexToMinus=function(t){for(var e=this.GetBetConfigByIndex(t),i=a.WrongIndex,o=0;o<n.BetConfigShortCutList.length;o++){if(this.GetShortCutBetConfigByIndex(o).mTotalAmount>=e.mTotalAmount){i=o-1;break}}return this.GetShortCutBetConfigByIndex(i)},o.GetShortCutBetConfigByIndex=function(t){var e=n.BetConfigShortCutList[t];return this.GetBetConfigByID(e)},o.GetShortCutBetIndex=function(t){var e=n.BetConfigShortCutList.findIndex((function(e){return e===t}));return e<0?(console.log("ShortCutBetAmountContainTarget wrong  _betId ==="+t),a.WrongIndex):e},o.GetShortCutIndexByBetID=function(t){var e=n.BetConfigShortCutList.findIndex((function(e){return e===t}));return e<0?(console.log("GetShortCutIndexByBetID wrong  _betId ==="+t),a.WrongIndex):e},o.GetBetSizeIndex=function(t){var e=n.BetSizeList.findIndex((function(e){return e===t}));return e<0?(console.log("GetBetSizeIndex wrong  _betSize ==="+t),a.WrongIndex):e},o.GetBetRatioIndex=function(t){var e=n.BetRatioList.findIndex((function(e){return e===t}));return e<0?(console.log("GetBetRatioIndex wrong  _betRatio ==="+t),a.WrongIndex):e},o.GetBetConfigByInfo=function(t,e){for(var a=0;a<n.BetConfigList.length;a++){var i=n.BetConfigList[a];if(t==i.mTotalAmount&&i.mBetRatio==e)return i}return null},o.GetBetConfigBySizeAndRatio=function(t,e){for(var a=0;a<n.BetConfigList.length;a++){var i=n.BetConfigList[a];if(t==i.mBetSize&&i.mBetRatio==e)return i}return null},n.GetAutoPlayCount=function(t){return n.AutoPlayConfig[t]},n.HaveGolden=function(t){return t!=D.BaiDa&&t!=D.Hu},n.GetItemRatio=function(t){return t==D.BaiDa||t==D.Hu?[]:t==D.Fa?[15,60,100]:t==D.Zhong?[10,40,80]:t==D.BaiBan?[8,20,60]:t==D.Wan8?[6,15,40]:t==D.Tong5||t==D.Tiao5?[4,10,20]:t==D.Tong2||t==D.Tiao2?[2,5,10]:(console.log("没有这个麻将"),[])},n.ConvertServerItemToLocal=function(t){return 1==t?new c(D.BaiDa,!1):2==t?new c(D.Hu,!1):3==t||13==t?new c(D.Fa,13==t):4==t||14==t?new c(D.Zhong,14==t):5==t||15==t?new c(D.BaiBan,15==t):6==t||16==t?new c(D.Wan8,16==t):7==t||17==t?new c(D.Tong5,17==t):8==t||18==t?new c(D.Tiao5,18==t):9==t||19==t?new c(D.Tong2,19==t):10==t||20==t?new c(D.Tiao2,20==t):(console.log("Wrong!!!!!"),null)},n.GetRewardSize=function(t,e){var a=n.GetRewardSizeConfig(t,m.BigReward),i=n.GetRewardSizeConfig(t,m.HugeReward),o=n.GetRewardSizeConfig(t,m.SuperReward);return e>=a&&e<i?m.BigReward:e>=i&&e<o?m.HugeReward:e>=o?m.SuperReward:m.None},n.GetRewardSizeConfig=function(t,e){return e==m.BigReward?20*t:e==m.HugeReward?35*t:e==m.SuperReward?50*t:(console.log("GetRewardSizeConfig wrong =_rewardSize=="+e),0)},n.GetHistroyBalanceByIndex=function(t,e){for(var n=e.balance-e.wintotal+e.bet,a=0;a<=t;a++){var i=this.GetTargetData(a,e).win;0==a&&(i-=e.bet),n+=i}return n},n.GetTargetData=function(t,e){var a=n.GetHistoryNormalCount(e),i=n.GetHistoryFreeCount(e);if(t<a)return e.normalresult[t];if(0==i)return null;for(var o=t-a,r=e.freeresult,s=0,u=0;u<r.length;u++)for(var l=r[u].freearray,h=0;h<l.length;h++){if(s==o)return l[h];s++}return null},n.GetTargetDataRatio=function(t,e){var a=n.GetHistoryNormalCount(e);if(t<a){var i=n.RewardRatioConfig.length;return t<i?n.RewardRatioConfig[t]:n.RewardRatioConfig[i-1]}for(var o=t-a,r=e.freeresult,s=0,u=0;u<r.length;u++)for(var l=r[u].freearray,h=0;h<l.length;h++){if(s==o){var f=n.BonusRewardRatioConfig.length;return h<f?n.BonusRewardRatioConfig[h]:n.BonusRewardRatioConfig[f-1]}s++}},n.GetTargetDataBigRound=function(t,e){var a=n.GetHistoryNormalCount(e);if(t<a)return t;for(var i=t-a,o=e.freeresult,r=0,s=0;s<o.length;s++){for(var u=o[s].freearray,l=0;l<u.length;l++){if(0==i)return r;i--}r++}},n.GetTargetDataSubRound=function(t,e){var a=n.GetHistoryNormalCount(e);if(t<a)return t;for(var i=this.GetTargetDataBigRound(t,e),o=t-a,r=e.freeresult,s=0;s<i;s++)for(var u=r[s].freearray,l=0;l<u.length;l++)o--;return o},n.GetHaveHistoryData=function(t,e){return t<n.GetDetailsDataTotalCount(e)},n.GetIsNormalHistoryData=function(t,e){return t<n.GetHistoryNormalCount(e)},n.GetDetailsDataTotalCount=function(t){return n.GetHistoryNormalCount(t)+n.GetHistoryFreeCount(t)},n.GetHistoryNormalCount=function(t){return null==t.normalresult?0:t.normalresult.length},n.GetHistoryFreeCount=function(t){var e=0;if(null==t.freeresult)return e;for(var n=t.freeresult,a=0;a<n.length;a++)for(var i=n[a].freearray,o=0;o<i.length;o++)e++;return e},n.GetHistoryFreeRound=function(t){return null==t.freeresult?0:t.freeresult.length},n}(o()));d.MAX_LANE=5,d.ResourceLoaded=!1,d.BetConfigList=void 0,d.BetConfigShortCutList=void 0,d.BetSizeList=void 0,d.BetRatioList=void 0,d.RewardRatioConfig=[1,2,3,5],d.BonusRewardRatioConfig=[2,4,6,10],d.AutoPlayConfig=[10,30,50,80,1e3];var m=t("RewardSize",function(t){return t[t.None=0]="None",t[t.BigReward=1]="BigReward",t[t.HugeReward=2]="HugeReward",t[t.SuperReward=3]="SuperReward",t}({})),g=t("BottomUIEnum",function(t){return t[t.None=0]="None",t[t.PlayingUI=1]="PlayingUI",t[t.MenuUI=2]="MenuUI",t[t.AutoSettingUI=3]="AutoSettingUI",t[t.FreeGameUI=4]="FreeGameUI",t}({})),D=t("ItemEnum",function(t){return t[t.BaiDa=0]="BaiDa",t[t.Hu=1]="Hu",t[t.Fa=2]="Fa",t[t.Zhong=3]="Zhong",t[t.BaiBan=4]="BaiBan",t[t.Wan8=5]="Wan8",t[t.Tong5=6]="Tong5",t[t.Tiao5=7]="Tiao5",t[t.Tong2=8]="Tong2",t[t.Tiao2=9]="Tiao2",t}({})),c=t("ItemConfig",function(){function t(t,e){this.mType=void 0,this.mGolden=void 0,this.mWorldPos=void 0,this.mType=t,this.mGolden=e}return t.prototype.SetWorldPos=function(t){this.mWorldPos=t},t}()),L=(t("SelectDate",(function(t,e,n){this.mStartDate=void 0,this.mEndDate=void 0,this.mType=void 0,this.mStartDate=r.CloneDate(t),this.mStartDate.setHours(0,0,0,0),this.mEndDate=r.CloneDate(e),this.mEndDate.setHours(23,59,59,0),this.mType=n})),t("DateType",function(t){return t[t.Today=0]="Today",t[t.SevenDay=1]="SevenDay",t[t.Customer=2]="Customer",t}({}))),C=(t("DateTypeForSever",function(t){return t[t.Today=1]="Today",t[t.Other=2]="Other",t}({})),t("BetConfig",(function(t,e,n,i){this.mBetId=void 0,this.mBetSize=void 0,this.mBetRatio=void 0,this.mBaseMultiple=void 0,this.mTotalAmount=void 0,this.mBetId=t,this.mBetSize=e,this.mBetRatio=n,this.mBaseMultiple=i,this.mTotalAmount=Math.trunc(e*n*i*a.MoneyRatio)})));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameDataTypes.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5c8a2hSYF1KRah4zI2JD++Y","GameDataTypes",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameDisconnect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./GameConfig.ts"],(function(t){var n,e,o,i,c,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.BaseUI},function(t){c=t.BaseButton},function(t){a=t.GameConfig}],execute:function(){var r,s;e._RF.push({},"ebf21rlywFIv5lrZM4k571M","GameDisconnect",void 0);var u=o.ccclass;o.property,t("GameDisconnect",u("GameDisconnect")(((s=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).mReLoginBtn=null,n.mExitBtn=null,n}n(e,t);var o=e.prototype;return o.InitParam=function(){this.mReLoginBtn=this.node.getChildByPath("BG/ReLoginBtn").getComponent(c),this.mExitBtn=this.node.getChildByPath("BG/ExitBtn").getComponent(c)},o.BindUI=function(){this.mReLoginBtn.SetClickCallback((function(){top.location.reload()})),this.mExitBtn.SetClickCallback((function(){top.location.href=a.RootAddr}))},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},e}(i)).PrefabPath="prefab/GameDisconnect",s.Bunddle="gamePage",r=s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameDropBoxDateItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DropBoxItem.ts"],(function(e){var t,o,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator},function(e){a=e.DropBoxItem}],execute:function(){var n,c;o._RF.push({},"86534hSNLFBXL/TDjNzgEv4","GameDropBoxDateItem",void 0);var p=r.ccclass;r.property,e("GameDropBoxDateItem",p("GameDropBoxDateItem")(((c=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o}(a)).PrefabPath="prefab/GameDropBoxDateItem",c.Bunddle="gamePage",n=c))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameExit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts"],(function(t){var n,e,i,a,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){a=t.BaseUI},function(t){o=t.BaseButton}],execute:function(){var c,r;e._RF.push({},"983c3XmisBL3YtBVBWmwAkO","GameExit",void 0);var l=i.ccclass;i.property,t("GameExit",l("GameExit")(((r=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).mCancelBtn=null,n.mExitBtn=null,n}n(e,t);var i=e.prototype;return i.InitParam=function(){this.mCancelBtn=this.node.getChildByPath("BG/CancelBtn").getComponent(o),this.mExitBtn=this.node.getChildByPath("BG/ExitBtn").getComponent(o)},i.BindUI=function(){var t=this;this.mCancelBtn.SetClickCallback((function(){t.Show(!1)})),this.mExitBtn.SetClickCallback((function(){top.location.reload()}))},i.RegDataNotify=function(){},i.LateInit=function(){},i.CustmoerDestory=function(){},e}(a)).PrefabPath="prefab/GameExit",r.Bunddle="gamePage",c=r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameExplainItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./GameItem.ts","./GameData.ts"],(function(t){var i,e,n,o,m,s,a,l,h,p,g,c;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.Label,m=t.Widget,s=t.UITransform},function(t){a=t.BaseUI},function(t){l=t.BaseButton},function(t){h=t.GameItem},function(t){p=t.GameData,g=t.ItemConfig,c=t.ItemEnum}],execute:function(){var d,r;e._RF.push({},"2257auQ8ddBybVtXNayFlz3","GameExplainItem",void 0);var R=n.ccclass;n.property,t("GameExplainItem",R("GameExplainItem")(((r=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).mCloseBtn=null,i.mGameItem=null,i.mRatioTitles=null,i.mRatios=null,i.mSpecialExplain=null,i.mGameItemWidgetNum=void 0,i.mSpecialExplainWidgetNum=void 0,i.mRightRatioTitlePosX=36,i.mRightRatioPosX=56,i.mLeftRatioTitlePosX=-93,i.mLeftRatioPosX=-73,i}i(e,t);var n=e.prototype;return n.InitParam=function(){this.mCloseBtn=this.node.getChildByPath("CloseBtn").getComponent(l);var t=this.node.getChildByPath("GameItem");this.mGameItem=t.addComponent(h),this.mRatioTitles=this.node.getChildByPath("RatioTitles"),this.mRatios=this.node.getChildByPath("Ratios"),this.mSpecialExplain=this.node.getChildByPath("SpecialExplain").getComponent(o),this.mGameItemWidgetNum=this.mGameItem.getComponent(m).left,this.mSpecialExplainWidgetNum=this.mSpecialExplain.getComponent(m).right},n.BindUI=function(){this.mCloseBtn.SetClickCallback((function(){p.Instance.Data_ExplainShow.mData=!1}))},n.RegDataNotify=function(){},n.LateInit=function(){},n.CustmoerDestory=function(){},n.InitWithData=function(t){var i=new g(t.mItemType,t.mIsGold);if(this.mGameItem.InitWithData(i,0),this.mRatioTitles.active=!1,this.mRatios.active=!1,this.mSpecialExplain.node.active=!1,t.mItemType==c.BaiDa)this.node.getComponent(s).width=415,this.mSpecialExplain.node.active=!0,this.mSpecialExplain.string="百搭符号可替代除夺宝符号外的所有符号。";else if(t.mItemType==c.Hu)this.node.getComponent(s).width=415,this.mSpecialExplain.node.active=!0,this.mSpecialExplain.string="3个夺宝符号可触发免费旋转。";else{this.node.getComponent(s).width=280,this.mRatioTitles.active=!0,this.mRatios.active=!0;for(var e=p.GetItemRatio(t.mItemType),n=0;n<e.length;n++){var a=e[e.length-1-n];this.mRatios.children[n].getComponent(o).string=a+""}}this.ResetWidget();var l=(this.node.getComponent(s).width-t.mWidth)/2,h=t.mWorldPos;if(t.mLane<=2){this.mGameItem.getComponent(m).isAlignLeft=!0,this.mGameItem.getComponent(m).isAlignRight=!1,this.mGameItem.getComponent(m).left=this.mGameItemWidgetNum;var d=this.mRatioTitles.getPosition();this.mRatioTitles.setPosition(this.mRightRatioTitlePosX,d.y);var r=this.mRatios.getPosition();this.mRatios.setPosition(this.mRightRatioPosX,r.y),this.mSpecialExplain.getComponent(m).isAlignLeft=!1,this.mSpecialExplain.getComponent(m).isAlignRight=!0,this.mSpecialExplain.getComponent(m).right=this.mSpecialExplainWidgetNum,h.x+=l}else{this.mGameItem.getComponent(m).isAlignLeft=!1,this.mGameItem.getComponent(m).isAlignRight=!0,this.mGameItem.getComponent(m).right=this.mGameItemWidgetNum;var R=this.mRatioTitles.getPosition();this.mRatioTitles.setPosition(this.mLeftRatioTitlePosX,R.y);var C=this.mRatios.getPosition();this.mRatios.setPosition(this.mLeftRatioPosX,C.y),this.mSpecialExplain.getComponent(m).isAlignLeft=!0,this.mSpecialExplain.getComponent(m).isAlignRight=!1,this.mSpecialExplain.getComponent(m).left=this.mSpecialExplainWidgetNum,h.x-=l}this.node.setWorldPosition(h)},n.ResetWidget=function(){this.mGameItem.getComponent(m).isAlignLeft=!1,this.mGameItem.getComponent(m).isAlignRight=!1,this.mGameItem.getComponent(m).left=0,this.mGameItem.getComponent(m).right=0,this.mRatioTitles.getComponent(m).isAlignLeft=!1,this.mRatioTitles.getComponent(m).isAlignRight=!1,this.mRatioTitles.getComponent(m).left=0,this.mRatioTitles.getComponent(m).right=0,this.mRatios.getComponent(m).isAlignLeft=!1,this.mRatios.getComponent(m).isAlignRight=!1,this.mRatios.getComponent(m).left=0,this.mRatios.getComponent(m).right=0,this.mSpecialExplain.getComponent(m).isAlignLeft=!1,this.mSpecialExplain.getComponent(m).isAlignRight=!1,this.mSpecialExplain.getComponent(m).left=0,this.mSpecialExplain.getComponent(m).right=0},e}(a)).PrefabPath="prefab/GameExplainItem",r.Bunddle="gamePage",d=r))||d),t("ExplainItemConfig",(function(t,i,e,n,o){this.mItemType=void 0,this.mLane=void 0,this.mWorldPos=void 0,this.mWidth=void 0,this.mIsGold=void 0,this.mItemType=t,this.mLane=e,this.mWorldPos=n,this.mWidth=o,this.mIsGold=i}));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameFastTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts"],(function(t){var n,e,i,o,s,a,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Label,s=t.Vec3,a=t.Tween},function(t){c=t.BaseUI}],execute:function(){var r,h;e._RF.push({},"ee46fY5wwdEoYrw1QSkBvp8","GameFastTips",void 0);var l=i.ccclass;i.property,t("GameFastTips",l("GameFastTips")(((h=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).mIconOn=null,n.mIconOff=null,n.mTips=null,n}n(e,t);var i=e.prototype;return i.InitParam=function(){this.mTips=this.node.getChildByPath("Tips").getComponent(o),this.mIconOn=this.node.getChildByPath("IconContainer/IconOn"),this.mIconOff=this.node.getChildByPath("IconContainer/IconOff")},i.BindUI=function(){},i.RegDataNotify=function(){},i.LateInit=function(){},i.CustmoerDestory=function(){},i.ShowWithTips=function(t,n,e){var i=this;void 0===e&&(e=2.5),this.mTips.string=t,this.Show(!0),this.StopAllTween();this.node.setScale(new s(1,1,1));var o=new a(this.node);o.to(.15,{scale:new s(1.2,1.2,1.2)}),o.to(.075,{scale:s.ONE}),o.start(),this.mIconOn.active=n,this.mIconOff.active=!n,this.StartSecondsTimer(e,e,(function(){0==i.GetRestMillSeconds()&&i.Show(!1)}))},e}(c)).PrefabPath="prefab/GameFastTips",h.Bunddle="gamePage",r=h))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameFreeGameEnter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./SpineCtr.ts","./BaseButton.ts","./AudioManager.ts"],(function(t){var n,e,i,o,a,r,s,m;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Label},function(t){a=t.BaseUI},function(t){r=t.SpineCtr},function(t){s=t.BaseButton},function(t){m=t.AudioManager}],execute:function(){var c,h;e._RF.push({},"6e7ecGYHWVMIoY9rWp+thoY","GameFreeGameEnter",void 0);var l=i.ccclass;i.property,t("GameFreeGameEnter",l("GameFreeGameEnter")(((h=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).mStartBtn=void 0,n.mBtnSpine=null,n.mAmount=void 0,n.mBGSpine=null,n.mCloseCallback=null,n.mEnded=!1,n}n(e,t);var i=e.prototype;return i.InitParam=function(){this.mStartBtn=this.node.getChildByPath("StartBtn").getComponent(s),this.mBtnSpine=this.node.getChildByPath("BtnSpine").getComponent(r),this.mBGSpine=this.node.getChildByPath("Mask/BGSpine").getComponent(r),this.mAmount=this.node.getChildByPath("Amount").getComponent(o)},i.BindUI=function(){var t=this;this.mStartBtn.SetClickCallback((function(){t.TryToEnd()}))},i.RegDataNotify=function(){},i.LateInit=function(){},i.CustmoerDestory=function(){this.mCloseCallback=null},i.InitWithData=function(t,n){var e=this;m.Instance.PlayBGMMusic("EnterFreeGame",!1),this.mEnded=!1,this.mBGSpine.SetAnimation("animation",!1),this.mAmount.string=t+"",this.mStartBtn.Show(!1),this.mBtnSpine.Hide(),this.mCloseCallback=n,this.StartSecondsTimer(1.5,.1,(function(){0==e.GetRestMillSeconds()&&e.ShowStartBtnAnm()}))},i.ShowStartBtnAnm=function(){var t=this;this.mBtnSpine.SetAnimation("animation3",!1,(function(){t.mStartBtn.Show(!0)})),this.StartSecondsTimer(3,1,(function(){0==t.GetRestMillSeconds()&&t.TryToEnd()}))},i.TryToEnd=function(){var t=this;1!=this.mEnded&&(this.StopSecondsTimer(),this.mEnded=!0,this.mStartBtn.Show(!1),this.mBtnSpine.SetAnimation("animation4",!1,(function(){t.Show(!1),null!=t.mCloseCallback&&t.mCloseCallback()})))},e}(a)).PrefabPath="prefab/GameFreeGameEnter",h.Bunddle="gamePage",c=h))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameHistory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ListViewCtr.ts","./MovingShow.ts","./ListView.ts","./GameHistoryItem.ts","./BaseButton.ts","./GameData.ts","./Tool.ts","./UIMgr.ts","./GameHistoryDetails.ts","./GameRecordDateSimple.ts"],(function(t){var e,o,n,i,a,s,l,r,h,m,c,D,u,d,g,T,S,p,y,f;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Label,a=t.Color,s=t.Tween},function(t){l=t.ListviewCtr},function(t){r=t.MovingShow,h=t.AnimationShowType},function(t){m=t.default},function(t){c=t.GameHistoryItem},function(t){D=t.BaseButton},function(t){u=t.GameData,d=t.DateType,g=t.DateTypeForSever,T=t.SelectDate},function(t){S=t.Tool},function(t){p=t.UIMgr},function(t){y=t.GameHistoryDetails},function(t){f=t.GameRecordDateSimple}],execute:function(){var w,v;o._RF.push({},"87ab8GXDLdLm7GUWNuDq423","GameHistory",void 0);var C=n.ccclass;n.property,t("GameHistory",C("GameHistory")(((v=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).mMovingShow=null,e.mDateBtn=null,e.mCloseBtn=null,e.mDateTitle=null,e.mNoDate=null,e.mGameHistroyDelayTips=null,e.mDateTitle2=null,e.mTotalCount=null,e.mTotalBet=null,e.mTotalWin=null,e.mDragProtect=!1,e.mTweenProtect=null,e.mChosingData=null,e}e(o,t);var n=o.prototype;return n.Show=function(t){t?this.node.active=!0:(u.Instance.Date_SelectDate.mData=null,this.mMovingShow.HideAnimation())},n.InitParam=function(){var t=this;this.mMovingShow=this.node.getChildByPath("MovingShow").getComponent(r),this.mMovingShow.SetAnimationType(h.FromBottom),this.mMovingShow.SetRoot(this.node),this.mMovingShow.SetShowAnimationCallback((function(){t.mDragProtect=!1,u.Instance.Data_SimpleDataIndex.mData=d.Today;var e=new Date,o=new Date,n=g.Today,i=new T(e,o,n);u.Instance.Date_SelectDate.mData=i,t.ShowTips()})),this.mMovingShow.SetHideAnimationCallback((function(){t.StopTips(),p.Instance.DeleteUIByTarget(t)})),this.mListView=this.node.getChildByPath("MovingShow/Middle/Listview").getComponent(m),this.SetDragRefreshFunction(!0),this.SetForceHideDragTips(!0),this.mDateBtn=this.node.getChildByPath("MovingShow/Top/DateBtn").getComponent(D),this.mCloseBtn=this.node.getChildByPath("MovingShow/Top/CloseBtn").getComponent(D),this.mDateTitle=this.node.getChildByPath("MovingShow/Top/DateTitle").getComponent(i),this.mNoDate=this.node.getChildByPath("MovingShow/Middle/NoData"),this.mDateTitle2=this.node.getChildByPath("MovingShow/Bottom/DateTitle2").getComponent(i),this.mTotalCount=this.node.getChildByPath("MovingShow/Bottom/TotalCount").getComponent(i),this.mTotalBet=this.node.getChildByPath("MovingShow/Bottom/TotalBet").getComponent(i),this.mTotalWin=this.node.getChildByPath("MovingShow/Bottom/TotalWin").getComponent(i),this.mGameHistroyDelayTips=this.node.getChildByPath("MovingShow/Bottom/GameHistroyDelayTips")},n.ShowTips=function(){var t=this;this.mGameHistroyDelayTips.active=!0,this.StartSecondsTimer(2,.5,(function(){0==t.GetRestSeconds()&&(t.mGameHistroyDelayTips.active=!1)}))},n.StopTips=function(){this.StopSecondsTimer(),this.mGameHistroyDelayTips.active=!1},n.BindUI=function(){var e=this;t.prototype.BindUI.call(this),this.mCloseBtn.SetClickCallback((function(){e.Show(!1)})),this.mDateBtn.SetClickCallback((function(){p.Instance.ShowLayer("GameRecordDateSimple",f.Bunddle,f.PrefabPath)}))},n.RegDataNotify=function(){var t=this;u.Instance.Date_SelectDate.AddListenner(this,(function(e){if(null!=e){t.ClearAndRequestData();var o=u.Instance.Data_SimpleDataIndex.mData;if(o==d.Today)t.mDateTitle.string="今日",t.mDateTitle2.string="今日";else if(o==d.SevenDay)t.mDateTitle.string="最近7天",t.mDateTitle2.string="最近7天";else if(o==d.Customer){var n=S.DateFormat("YYYY/mm/dd",e.mStartDate),i=S.DateFormat("YYYY/mm/dd",e.mEndDate);t.mDateTitle.string=n+" - "+i,t.mDateTitle2.string=n+" - "+i}}})),u.Instance.Data_TProtoMjhlRecordRsp.AddListenner(this,(function(e){null!=e&&(t.InsertData(e.record,e.totalcount),t.UpdateBottomUI(e))})),u.Instance.Data_TProtoMjhlRecordDetailRsp.AddListenner(this,(function(t){null!=t&&p.Instance.ShowLayer("GameHistoryDetails",y.Bunddle,y.PrefabPath,!0,(function(e){e.InitWithData(t,0)}))}))},n.LateInit=function(){},n.CustmoerDestory=function(){u.Instance.Data_TProtoMjhlRecordRsp.mData=null,u.Instance.Data_TProtoMjhlRecordDetailRsp.mData=null},n.InitWithData=function(){this.ResetPage(),this.mTotalCount.string="0条数据",this.mTotalWin.color=new a(247,249,251),this.mTotalBet.string="¥0.00",this.mTotalWin.string="¥0.00",this.mNoDate.active=!0},n.StopProtect=function(){null!=this.mTweenProtect&&this.mTweenProtect.stop(),this.mTweenProtect=null},n.StartProtect=function(){var t=this;this.mDragProtect=!0,this.mTweenProtect=new s(this.mCloseBtn.node),this.mTweenProtect.delay(1.5),this.mTweenProtect.call((function(){t.mDragProtect=!1})),this.mTweenProtect.start()},n.Refresh=function(t){1!=this.mDragProtect&&(this.StopProtect(),this.StartProtect(),u.Instance.PostHistory(u.Instance.Date_SelectDate.mData,t))},n.RenderEvent=function(t,e){var o=this.mCurrentData[e];t.getComponent(c).InitWithData(e,o,this.ItemClicked.bind(this))},n.ItemClicked=function(t){this.mChosingData=t,u.Instance.PostHistoryDetails(t.orderid)},n.UpdateBottomUI=function(t){if(this.mTotalCount.string=t.totalcount+"条数据",0==this.mListView.numItems)return this.mTotalWin.color=new a(247,249,251),this.mTotalBet.string="¥0.00",this.mTotalWin.string="¥0.00",void(this.mNoDate.active=!0);this.mNoDate.active=!1,this.mTotalBet.string="¥"+S.ConvertMoneyToString(t.totalbet),this.mTotalWin.string="¥"+S.ConvertMoneyToString(t.totalprofit),t.totalprofit>=0?this.mTotalWin.color=new a(247,249,251):this.mTotalWin.color=new a(189,185,186)},o}(l)).PrefabPath="prefab/GameHistory",v.Bunddle="gamePage",w=v))||w);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameHistoryDetails.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./UIMgr.ts","./Tool.ts","./GameData.ts","./ToggleBtn.ts","./GameHistoryFreeDetails.ts","./GameHistoryPage.ts","./MovingShow.ts"],(function(t){var e,n,a,i,o,s,h,r,m,l,g,c,d,u,D;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,i=t.Label,o=t.PageView},function(t){s=t.BaseUI},function(t){h=t.BaseButton},function(t){r=t.UIMgr},function(t){m=t.Tool},function(t){l=t.GameData},function(t){g=t.ToggleBtn},function(t){c=t.GameHistoryFreeDetails},function(t){d=t.GameHistoryPage},function(t){u=t.MovingShow,D=t.AnimationShowType}],execute:function(){var f,S;n._RF.push({},"17260Ge75JDlLgFbKPbs96J","GameHistoryDetails",void 0);var B=a.ccclass;a.property,t("GameHistoryDetails",B("GameHistoryDetails")(((S=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).mMovingShow=null,e.mExpandToggle=null,e.mCloseBtn=null,e.mTitle=null,e.mDateStr=null,e.mLeftBtn=null,e.mRightBtn=null,e.mPageView=null,e.mData=null,e.mIndex=0,e}e(n,t);var a=n.prototype;return a.Show=function(t){t?this.node.active=!0:this.mMovingShow.HideAnimation()},a.InitParam=function(){var t=this;this.mCloseBtn=this.node.getChildByPath("MovingShow/Top/CloseBtn").getComponent(h),this.mTitle=this.node.getChildByPath("MovingShow/Top/Title").getComponent(i),this.mDateStr=this.node.getChildByPath("MovingShow/Top/Date").getComponent(i),this.mExpandToggle=this.node.getChildByPath("MovingShow/Top/Title/ExpandToggle").getComponent(g),this.mLeftBtn=this.node.getChildByPath("MovingShow/Bottom/LeftBtn").getComponent(h),this.mRightBtn=this.node.getChildByPath("MovingShow/Bottom/RightBtn").getComponent(h),this.mPageView=this.node.getChildByPath("MovingShow/Bottom/PageView").getComponent(o),this.mMovingShow=this.node.getChildByPath("MovingShow").getComponent(u),this.mMovingShow.SetAnimationType(D.FromRight),this.mMovingShow.SetRoot(this.node),this.mMovingShow.SetShowAnimationCallback((function(){t.CreatePage(),t.UpdateUI()})),this.mMovingShow.SetHideAnimationCallback((function(){r.Instance.DeleteUIByTarget(t)}))},a.BindUI=function(){var t=this;this.mCloseBtn.SetClickCallback((function(){l.Instance.Data_ShowFreeDetailsRecordUI.mData=!1,t.Show(!1)})),this.mExpandToggle.SetClickCallback((function(t){l.Instance.Data_ShowFreeDetailsRecordUI.mData=!l.Instance.Data_ShowFreeDetailsRecordUI.mData})),this.mLeftBtn.SetClickCallback((function(){t.UpdateBtn(t.mIndex-1),t.mPageView.setCurrentPageIndex(t.mIndex-1)})),this.mRightBtn.SetClickCallback((function(){t.UpdateBtn(t.mIndex+1),t.mPageView.setCurrentPageIndex(t.mIndex+1)})),this.mPageView.node.on("page-turning",this.PageTurning,this)},a.RegDataNotify=function(){var t=this;l.Instance.Data_ShowFreeDetailsRecordUI.AddListenner(this,(function(e){t.mExpandToggle.SetShowStauts(e),1==e?r.Instance.ShowLayer("GameHistoryFreeDetails",c.Bunddle,c.PrefabPath,!0,(function(e){e.InitWithData(t.mData)})):r.Instance.ShowLayer("GameHistoryFreeDetails",c.Bunddle,c.PrefabPath,!1)})),l.Instance.Data_ForceToGoHistroyPage.AddListenner(this,(function(e){t.mPageView.setCurrentPageIndex(e)}))},a.LateInit=function(){},a.CustmoerDestory=function(){this.mData=null},a.PageTurning=function(t){this.mIndex=t.curPageIdx,this.UpdateUI()},a.InitWithData=function(t,e){this.TryPreload(),this.mData=t,this.mIndex=e},a.CreatePage=function(){for(var t=this,e=l.GetDetailsDataTotalCount(this.mData),n=function(e){t.LoadPrefab("GameHistoryPage",d.Bunddle,d.PrefabPath,(function(n){t.mPageView.insertPage(n,e),n.getComponent(d).InitWithData(e,t.mData)}))},a=0;a<e;a++)n(a)},a.UpdateUI=function(){var t=l.GetTargetData(this.mIndex,this.mData),e=new Date(t.createtime);if(this.mDateStr.string=m.DateFormat("YYYY-mm-dd HH:MM:SS",e)+"  (GMT+8:00)",l.GetIsNormalHistoryData(this.mIndex,this.mData))this.mTitle.string="普通旋转";else{var n=l.GetTargetDataBigRound(this.mIndex,this.mData);n++;var a=l.GetHistoryFreeRound(this.mData);this.mTitle.string="免费旋转:"+n+"/"+a}var i=l.GetHistoryFreeCount(this.mData);this.mExpandToggle.Show(i>0),this.mExpandToggle.SetShowStauts(!1),this.UpdateBtn(this.mIndex)},a.UpdateBtn=function(t){this.mLeftBtn.Show(0!=t);var e=t+1,n=l.GetHaveHistoryData(e,this.mData);this.mRightBtn.Show(n)},n}(s)).PrefabPath="prefab/GameHistoryDetails",S.Bunddle="gamePage",f=S))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHistoryFreeDetails.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameHistroyFreeItem.ts","./Tool.ts","./GameData.ts","./BaseButton.ts"],(function(t){var e,n,o,a,i,r,l,s,m,c,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,a=t.Label,i=t.ScrollView,r=t.instantiate},function(t){l=t.BaseUI},function(t){s=t.GameHistroyFreeItem},function(t){m=t.Tool},function(t){c=t.GameData},function(t){u=t.BaseButton}],execute:function(){var h,f;n._RF.push({},"3209111kUdCfIifmAiUjjlN","GameHistoryFreeDetails",void 0);var y=o.ccclass;o.property,t("GameHistoryFreeDetails",y("GameHistoryFreeDetails")(((f=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).mNormalWinLose=null,e.mTemplate=null,e.mScrollView=null,e.mCloseBtn=null,e}e(n,t);var o=n.prototype;return o.InitParam=function(){this.mNormalWinLose=this.node.getChildByPath("Top/NormalWinLose").getComponent(a),this.mTemplate=this.node.getChildByPath("Bottom/GameHistroyFreeItem"),this.mTemplate.active=!1,this.mScrollView=this.node.getChildByPath("Bottom/ScrollView").getComponent(i),this.mCloseBtn=this.node.getChildByPath("Bottom/CloseBtn").getComponent(u)},o.BindUI=function(){this.mCloseBtn.SetClickCallback((function(){c.Instance.Data_ShowFreeDetailsRecordUI.mData=!1}))},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},o.InitWithData=function(t){this.TryPreload(),this.RemoveAndDestoryAllChild(this.mScrollView.content);for(var e=0,n=0;n<t.normalresult.length;n++){e+=t.normalresult[n].win}e-=t.bet;var o=Math.abs(e);this.mNormalWinLose.string=e<0?"-¥"+m.ConvertMoneyToString(o):"¥"+m.ConvertMoneyToString(o);var a=c.GetHistoryFreeRound(t);if(0!=a)for(var i=t.normalresult.length,r=0;r<t.freeresult.length;r++){for(var l=i,s=t.freeresult[r].freearray,u=r+1,h=0,f=0;f<s.length;f++){h+=s[f].win,i++}this.AddOneFreeData(u,a,h,l)}},o.AddOneFreeData=function(t,e,n,o){var a=r(this.mTemplate);a.active=!0,a.parent=this.mScrollView.content,a.getComponent(s).InitWithData(t,e,n,o)},n}(l)).PrefabPath="prefab/GameHistoryFreeDetails",f.Bunddle="gamePage",h=f))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHistoryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./Tool.ts"],(function(t){var e,n,o,i,a,m,s,l,r,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Sprite,a=t.Label,m=t.Color,s=t.Button},function(t){l=t.BaseUI},function(t){r=t.BaseButton},function(t){h=t.Tool}],execute:function(){var u,c;n._RF.push({},"af9dfm9UW5Cup81jNHwzgIo","GameHistoryItem",void 0);var C=o.ccclass;o.property,t("GameHistoryItem",C("GameHistoryItem")(((c=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).mBG=null,e.mTimeHour=null,e.mTimeDate=null,e.mGameCode=null,e.mBet=null,e.mWinLose=null,e.mBtn=null,e.mLayout=null,e.mFreeTag=null,e.mNormalTag=null,e.mRouterCount=null,e.mClickCallback=null,e.mData=null,e.mIndex=void 0,e}e(n,t);var o=n.prototype;return o.InitParam=function(){this.mBG=this.node.getChildByPath("Btn").getComponent(i),this.mTimeHour=this.node.getChildByPath("TimeHour").getComponent(a),this.mTimeDate=this.node.getChildByPath("TimeDate").getComponent(a),this.mGameCode=this.node.getChildByPath("GameCode").getComponent(a),this.mBet=this.node.getChildByPath("Bet").getComponent(a),this.mWinLose=this.node.getChildByPath("WinLose").getComponent(a),this.mBtn=this.node.getChildByPath("Btn").getComponent(r),this.mLayout=this.node.getChildByPath("Layout"),this.mFreeTag=this.node.getChildByPath("Layout/FreeTag"),this.mNormalTag=this.node.getChildByPath("Layout/NormalTag"),this.mRouterCount=this.node.getChildByPath("Layout/Count").getComponent(a)},o.BindUI=function(){var t=this;this.mBtn.SetClickCallback((function(){null!=t.mClickCallback&&t.mClickCallback(t.mData)}))},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){this.mData=null,this.mClickCallback=null},o.InitWithData=function(t,e,n){this.mIndex=t,this.mData=e,this.mClickCallback=n,this.UpdateUI()},o.UpdateUI=function(){var t=new Date(this.mData.createtime);this.mTimeHour.string=h.DateFormat("HH:MM:SS",t),this.mTimeDate.string=h.DateFormat("mm/dd",t),this.mGameCode.string=this.mData.orderid,this.mBet.string=h.ConvertMoneyToString(this.mData.bet),this.mWinLose.string=h.ConvertMoneyToString(this.mData.wintotal),this.mData.wintotal>=0?this.mWinLose.color=new m(247,249,251):this.mWinLose.color=new m(189,185,186);var e=this.mData.normalremovecount,n=this.mData.freeremovecount;this.mNormalTag.active=e>0,this.mFreeTag.active=n>0,this.mLayout.active=!0,n>0?this.mNormalTag.active?this.mRouterCount.string=n+"+"+e:this.mRouterCount.string=n+"":(this.mLayout.active=e>0,this.mRouterCount.string=e+""),this.mIndex%2==0?this.mBtn.getComponent(s).normalColor=new m(48,48,60):this.mBtn.getComponent(s).normalColor=new m(52,52,63)},n}(l)).PrefabPath="prefab/GameHistoryItem",c.Bunddle="gamePage",u=c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHistoryPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameMiniPad.ts","./GameData.ts","./Tool.ts","./GameRewardItem.ts","./BaseButton.ts","./UIMgr.ts"],(function(t){var e,n,i,a,o,r,m,l,s,h,c,d,u,g;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,a=t.Label,o=t.ScrollView,r=t.instantiate},function(t){m=t.BaseUI},function(t){l=t.GameMiniPad},function(t){s=t.GameData,h=t.ItemEnum},function(t){c=t.Tool},function(t){d=t.GameRewardItem},function(t){u=t.BaseButton},function(t){g=t.UIMgr}],execute:function(){var B,p;n._RF.push({},"8613aX0wixFXrYOuBbw7jrw","GameHistoryPage",void 0);var C=i.ccclass;i.property,t("GameHistoryPage",C("GameHistoryPage")(((p=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).mCopyBtn=null,e.mOrderID=null,e.mBet=null,e.mWin=null,e.mBalance=null,e.mRound=null,e.mSingleBet=null,e.mBetMultple=null,e.mScrollView=null,e.mGameRewardItem=null,e.mGameMiniPad=null,e.mNoReward=null,e.mRatio=null,e.mData=null,e.mIndex=0,e}e(n,t);var i=n.prototype;return i.InitParam=function(){this.mCopyBtn=this.node.getChildByPath("SubTitle/CopyBtn").getComponent(u),this.mOrderID=this.node.getChildByPath("SubTitle/OrderID").getComponent(a),this.mBet=this.node.getChildByPath("SubTitle/Bet").getComponent(a),this.mWin=this.node.getChildByPath("SubTitle/Win").getComponent(a),this.mBalance=this.node.getChildByPath("SubTitle/Balance").getComponent(a),this.mScrollView=this.node.getChildByPath("ScrollView").getComponent(o),this.mGameRewardItem=this.node.getChildByPath("ScrollView/GameRewardItem"),this.mGameRewardItem.active=!1,this.mRound=this.mScrollView.content.getChildByPath("Top/Round").getComponent(a),this.mSingleBet=this.mScrollView.content.getChildByPath("Top/SingleBet").getComponent(a),this.mBetMultple=this.mScrollView.content.getChildByPath("Top/BetMultple").getComponent(a),this.mGameMiniPad=this.mScrollView.content.getChildByPath("GameMiniPad").getComponent(l),this.mNoReward=this.mScrollView.content.getChildByPath("NoReward"),this.mRatio=this.mScrollView.content.getChildByPath("RewardRatio/Ratio").getComponent(a)},i.BindUI=function(){var t=this;this.mCopyBtn.SetClickCallback((function(){c.CopyText(t.mOrderID.string),g.Instance.ShowToast("交易单号复制成功")}))},i.RegDataNotify=function(){},i.LateInit=function(){},i.CustmoerDestory=function(){},i.InitWithData=function(t,e){this.mIndex=t,this.mData=e,this.UpdateUI()},i.UpdateUI=function(){this.ClearRewardItem();var t=s.GetTargetData(this.mIndex,this.mData);if(this.mOrderID.string=t.roundid,0==this.mIndex){this.mBet.string=c.ConvertMoneyToString(this.mData.bet);var e=t.win-this.mData.bet;this.mWin.string=c.ConvertMoneyToString(e)}else{this.mBet.string="0.00";var n=t.win;this.mWin.string=c.ConvertMoneyToString(n)}this.mBalance.string=c.ConvertMoneyToString(t.balance);var i=s.Instance.GetBetConfigByInfo(this.mData.bet,this.mData.betmultiple);this.mSingleBet.string="投注大小 "+i.mBetSize,this.mBetMultple.string="投注倍数 "+this.mData.betmultiple,this.mGameMiniPad.InitWithData(this.mData,this.mIndex);var a=s.GetTargetDataSubRound(this.mIndex,this.mData);a++,this.mRound.string="第"+a+"回合";var o=s.GetTargetDataRatio(this.mIndex,this.mData);this.mNoReward.active=0==t.win,this.mRatio.string="奖金乘数 x"+o;for(var r=0;r<t.removelist.length;r++){var m=t.removelist[r];this.AddOneRewardItem(m,o,i)}0==t.removelist.length&&this.TryToCreateFreeGameDetail(t)},i.TryToCreateFreeGameDetail=function(t){for(var e=0,n=0;n<t.cardList.length;n++)for(var i=t.cardList[n].list,a=0;a<=3;a++){var o=i[a];s.ConvertServerItemToLocal(o).mType==h.Hu&&e++}if(e>=3){var m=r(this.mGameRewardItem);m.active=!0,m.parent=this.mScrollView.content,m.getComponent(d).InitWithHu(e)}},i.ClearRewardItem=function(){for(var t=!0;t;){var e=this.mScrollView.content.children.length-1,n=this.mScrollView.content.children[e];if(null==n.getComponent(d)){t=!1;break}n.removeFromParent(),n.destroy()}},i.AddOneRewardItem=function(t,e,n){var i=r(this.mGameRewardItem);i.active=!0,i.parent=this.mScrollView.content,i.getComponent(d).InitWithData(t,e,n)},n}(m)).PrefabPath="prefab/GameHistoryPage",p.Bunddle="gamePage",B=p))||B);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHistroyFreeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./Tool.ts","./BaseButton.ts","./GameData.ts","./GameConfig.ts"],(function(t){var e,n,o,i,a,r,s,c,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Label},function(t){a=t.BaseUI},function(t){r=t.Tool},function(t){s=t.BaseButton},function(t){c=t.GameData},function(t){l=t.GameConfig}],execute:function(){var m,u;n._RF.push({},"679c79H2BVDLr5Hvog3lUKc","GameHistroyFreeItem",void 0);var h=o.ccclass;o.property,t("GameHistroyFreeItem",h("GameHistroyFreeItem")(((u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).mTitle=null,e.mWinLose=null,e.mBtn=null,e.mPage=l.WrongIndex,e}e(n,t);var o=n.prototype;return o.InitParam=function(){this.mTitle=this.node.getChildByPath("Title").getComponent(i),this.mWinLose=this.node.getChildByPath("WinLose").getComponent(i),this.mBtn=this.node.getChildByPath("Btn").getComponent(s)},o.BindUI=function(){var t=this;this.mBtn.SetClickCallback((function(){c.Instance.Data_ForceToGoHistroyPage.mData=t.mPage,c.Instance.Data_ShowFreeDetailsRecordUI.mData=!1}))},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},o.InitWithData=function(t,e,n,o){this.TryPreload(),this.mPage=o,this.mTitle.string="免费旋转:"+t+"/"+e,this.mWinLose.string="¥"+r.ConvertMoneyToString(n)},n}(a)).PrefabPath="prefab/GameHistroyFreeItem",u.Bunddle="gamePage",m=u))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./SpineCtr.ts","./GameData.ts","./Tool.ts","./GameExplainItem.ts","./AudioManager.ts"],(function(t){var e,i,n,o,a,l,m,h,s,c,u,r,d,g,p,f,B;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.UITransform,a=t.UIOpacity,l=t.Tween,m=t.Vec3},function(t){h=t.BaseUI},function(t){s=t.BaseButton},function(t){c=t.SpineCtr},function(t){u=t.GameData,r=t.GameStatus,d=t.ItemEnum,g=t.ItemConfig},function(t){p=t.Tool},function(t){f=t.ExplainItemConfig},function(t){B=t.AudioManager}],execute:function(){var I,C;i._RF.push({},"e11fa8WUxtJJ4WleV2JqhIR","GameItem",void 0);var S=n.ccclass,P=(n.property,t("GameItem",S("GameItem")(((C=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).mRoot=null,e.mBGWhiteBlur=null,e.mBGGoldBlur=null,e.mIconNodeBlur=null,e.mBGGolden=null,e.mBGWhite=null,e.mIconNode=null,e.mHuSpine=null,e.mClickBtn=null,e.mSpine=null,e.mItemConfig=null,e.mGold=null,e.mExtraSpine=null,e.mFallingPosY=0,e.mFallingFinishCallback=null,e.mLane=0,e.mFallingSpeed=0,e.mFallingPhase=P.None,e.mNeedDelete=!1,e.mPrepareDeleteCallback=null,e.mPrepareDeleteNow=!1,e.mCurrentPos=void 0,e.mShakeTween=null,e}e(i,t);var n=i.prototype;return n.InitParam=function(){this.mRoot=this.node.getChildByPath("Root"),this.mBGWhiteBlur=this.node.getChildByPath("Root/BGWhiteBlur"),this.mBGGoldBlur=this.node.getChildByPath("Root/BGGoldenBlur"),this.mIconNodeBlur=this.node.getChildByPath("Root/IconNodeBlur"),this.mBGGolden=this.node.getChildByPath("Root/BGGolden"),this.mBGWhite=this.node.getChildByPath("Root/BGWhite"),this.mIconNode=this.node.getChildByPath("Root/IconNode"),this.mGold=this.node.getChildByPath("Root/Gold"),this.mClickBtn=this.node.getChildByPath("Root/ClickBtn").getComponent(s),this.mSpine=this.node.getChildByPath("Root/Spine").getComponent(c),this.mHuSpine=this.node.getChildByPath("Root/HuSpine").getComponent(c),this.mExtraSpine=this.node.getChildByPath("Root/ExtraSpine").getComponent(c)},n.BindUI=function(){var t=this;this.mClickBtn.SetClickCallback((function(){if(u.Instance.Data_GameStatus.mData==r.Waiting){var e=t.node.getWorldPosition(),i=t.node.getComponent(o).width,n=new f(t.mItemConfig.mType,t.mItemConfig.mGolden,t.mLane,e,i);u.Instance.Data_ExplainItemConfig.mData=n,u.Instance.Data_ExplainShow.mData=!0}}))},n.RegDataNotify=function(){var t=this;u.Instance.Data_ExcutiveDeleteNow.AddListenner(this,(function(e){0!=e&&0!=t.mPrepareDeleteNow&&t.PlayDeleteAnimation()}))},n.LateInit=function(){},n.CustmoerDestory=function(){this.mFallingFinishCallback=null,this.mPrepareDeleteCallback=null},n.ResetUI=function(t){if(void 0===t&&(t=!1),0!=cc.isValid(this.node,!0)){this.mExtraSpine.Hide(),this.mGold.active=!1,this.mNeedDelete=!1,this.mFallingSpeed=0,this.mFallingPhase=P.None,this.mFallingPosY=0,this.mBGGolden.active=!1,this.mBGWhite.active=!1,this.mIconNode.active=!1,this.mBGWhiteBlur.active=!1,this.mBGGoldBlur.active=!1,this.mIconNodeBlur.active=!1;for(var e=0;e<this.mIconNode.children.length;e++){this.mIconNode.children[e].active=!1}for(var i=0;i<this.mIconNodeBlur.children.length;i++){this.mIconNodeBlur.children[i].active=!1}this.mSpine.Hide();this.mSpine.node.setScale(.9,.9,.9),this.mHuSpine.Hide(),t&&(this.mPrepareDeleteNow=!1,this.mRoot.getComponent(a).opacity=255)}},n.InitWithData=function(t,e){this.mRoot.getComponent(a).opacity=255,this.mLane=e,this.mItemConfig=t,this.ResetUI(),this.mItemConfig.mType==d.BaiDa?(this.PlayBaiDaSpecialIdle(),this.mExtraSpine.SetAnimation("animation",!0)):this.mItemConfig.mType==d.Hu?(this.mExtraSpine.SetAnimation("animation",!0),this.PlayHuSpecialIdle()):this.ShowBlur(!1)},n.ShowBlur=function(t){if(this.mItemConfig.mType!=d.BaiDa&&this.mItemConfig.mType!=d.Hu){this.mBGGolden.active=!1,this.mGold.active=!1,this.mBGWhite.active=!1,this.mIconNode.active=!1,this.mIconNodeBlur.active=!1,this.mBGWhiteBlur.active=!1,this.mBGGoldBlur.active=!1;var e="Item"+this.mItemConfig.mType;t?(this.mBGGoldBlur.active=this.mItemConfig.mGolden,this.mGold.active=this.mItemConfig.mGolden,this.mBGWhiteBlur.active=!this.mItemConfig.mGolden,this.mIconNodeBlur.active=!0,this.mIconNodeBlur.getChildByPath(e).active=!0):(this.mBGGolden.active=this.mItemConfig.mGolden,this.mGold.active=this.mItemConfig.mGolden,this.mBGWhite.active=!this.mItemConfig.mGolden,this.mIconNode.active=!0,this.mIconNode.getChildByPath(e).active=!0)}},n.GetConfig=function(){return this.mItemConfig},n.PlayHuSpecialIdle=function(){this.mHuSpine.SetAnimation("animation2",!0,null)},n.PlayBaiDaSpecialIdle=function(){this.mSpine.SetAnimation("animation0",!0,null)},n.StopSahkeTween=function(){null!=this.mShakeTween&&this.mShakeTween.stop()},n.PlayShake=function(){this.StopSahkeTween(),this.mCurrentPos=this.node.getPosition();var t=p.Random(0,3);this.StartShakeTo(t)},n.StartShakeTo=function(t){var e=this.node.getPosition();0==t?(e.x-=1,this.ExcutiveShakeTo(1,e)):1==t?(e.y+=1,this.ExcutiveShakeTo(2,e)):2==t?(e.x+=1,this.ExcutiveShakeTo(3,e)):3==t&&(e.y-=1,this.ExcutiveShakeTo(0,e))},n.ExcutiveShakeTo=function(t,e){var i=this;this.StopSahkeTween(),this.mShakeTween=new l(this.node),this.mShakeTween.to(.02,{position:new m(e.x,e.y,e.z)}),this.mShakeTween.call((function(){i.StartShakeTo(t)})),this.mShakeTween.start()},n.EndShake=function(){this.StopSahkeTween(),this.node.setPosition(this.mCurrentPos)},n.PlayHuAppearAnm=function(){var t=this;this.mHuSpine.SetAnimation("animation",!0,(function(){t.PlayHuSpecialIdle()})),B.Instance.PlayEffectOneShot("HuEffect")},n.PlayFallingAnm=function(t,e){this.mFallingPosY=t,this.mFallingFinishCallback=e;var i=this.node.getPosition().y,n=Math.abs(i)-Math.abs(t);Math.abs(n)<5?this.FallingEnd():this.StartFalling()},n.StartFalling=function(){this.mFallingPhase=P.KeepFalling,this.mFallingSpeed=-1500},n.FallingEnd=function(){this.mFallingPhase=P.None,this.mFallingSpeed=0,this.mFallingFinishCallback()},n.update=function(t){t>=.03&&(t=.03),this.mFallingPhase!=P.None&&(this.mFallingPhase==P.KeepFalling?this.KeepFalling(t):this.mFallingPhase==P.BounceBack&&this.BounceBack(t))},n.KeepFalling=function(t){var e=this.mFallingSpeed*t,i=this.node.getPosition(),n=i.y+e;i.y=n,this.node.setPosition(i),n<=this.mFallingPosY&&(this.mFallingSpeed=500,this.mFallingPhase=P.BounceBack,i.y=this.mFallingPosY+1,this.node.setPosition(i))},n.BounceBack=function(t){var e=this.mFallingSpeed*t,i=this.node.getPosition(),n=i.y+e;if(i.y=n,this.node.setPosition(i),this.mFallingSpeed-=6e3*t,this.mFallingSpeed<0&&n<this.mFallingPosY){var o=this.node.getPosition();o.y=this.mFallingPosY,this.node.setPosition(o),this.FallingEnd()}},n.PrepareToDelete=function(t,e){this.mPrepareDeleteCallback=t,this.mPrepareDeleteNow=!0,e&&(this.mRoot.getComponent(a).opacity=0)},n.PlayDeleteAnimation=function(){var t=this,e="animation";if(this.ShowBlur(!1),this.ResetUI(),this.mItemConfig.mGolden){this.mItemConfig.mType==d.BaiDa||this.mItemConfig.mType==d.Hu||(this.mItemConfig.mType==d.Fa?e+="10":this.mItemConfig.mType==d.Zhong?e+="11":this.mItemConfig.mType==d.BaiBan?e+="12":this.mItemConfig.mType==d.Wan8?e+="9":this.mItemConfig.mType==d.Tong5?e+="14":this.mItemConfig.mType==d.Tiao5?e+="16":this.mItemConfig.mType==d.Tong2?e+="13":this.mItemConfig.mType==d.Tiao2&&(e+="15"));this.mSpine.node.setScale(.9,.9,.9),B.Instance.PlayEffectOneShot("BaiDa"),this.mSpine.SetAnimation(e,!1,(function(){null!=t.mPrepareDeleteCallback&&t.mPrepareDeleteCallback(),t.mPrepareDeleteCallback=null,t.InitWithData(new g(d.BaiDa,!1),t.mLane)}))}else{this.mItemConfig.mType==d.BaiDa?e+="17":this.mItemConfig.mType==d.Hu||(this.mItemConfig.mType==d.Fa?e+="2":this.mItemConfig.mType==d.Zhong?e+="3":this.mItemConfig.mType==d.BaiBan?e+="4":this.mItemConfig.mType==d.Wan8?e+="":this.mItemConfig.mType==d.Tong5?e+="6":this.mItemConfig.mType==d.Tiao5?e+="8":this.mItemConfig.mType==d.Tong2?e+="5":this.mItemConfig.mType==d.Tiao2&&(e+="7"));this.mSpine.node.setScale(.9,.9,.9),this.mSpine.SetAnimation(e,!1,(function(){t.mNeedDelete=!0,null!=t.mPrepareDeleteCallback&&t.mPrepareDeleteCallback(),t.mPrepareDeleteCallback=null}))}this.mPrepareDeleteNow=!1},i}(h)).PrefabPath="prefab/GameItem",C.Bunddle="gamePage",I=C))||I),function(t){return t[t.None=0]="None",t[t.KeepFalling=1]="KeepFalling",t[t.BounceBack=2]="BounceBack",t}(P||{}));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./MovingShow.ts","./BaseButton.ts","./ToggleBtn.ts","./AudioManager.ts","./GameData.ts","./UIMgr.ts","./GameExit.ts","./GameRewardInfo.ts","./GameRuleInfo.ts","./GameHistory.ts"],(function(t){var n,e,o,i,a,s,l,h,u,c,m,g,r,B,d,f;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.BaseUI},function(t){a=t.MovingShow,s=t.AnimationShowType},function(t){l=t.BaseButton},function(t){h=t.ToggleBtn},function(t){u=t.AudioManager},function(t){c=t.GameData,m=t.BottomUIEnum},function(t){g=t.UIMgr},function(t){r=t.GameExit},function(t){B=t.GameRewardInfo},function(t){d=t.GameRuleInfo},function(t){f=t.GameHistory}],execute:function(){var C,S;e._RF.push({},"4216bHiBgdLIKn1DhFUCVol","GameMenu",void 0);var M=o.ccclass;o.property,t("GameMenu",M("GameMenu")(((S=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).mMovingShow=null,n.mTouchCloseBG=null,n.mExitBtn=null,n.mMusicToggle=null,n.mHistoryBtn=null,n.mRuleBtn=null,n.mRewardBtn=null,n.mCloseBtn=null,n}n(e,t);var o=e.prototype;return o.Show=function(t){t?this.node.active=!0:this.mMovingShow.HideAnimation()},o.InitParam=function(){this.mTouchCloseBG=this.node.getChildByPath("TouchCloseBG"),this.mMovingShow=this.node.getChildByPath("MovingShow").getComponent(a),this.mExitBtn=this.node.getChildByPath("MovingShow/ExitBtn").getComponent(l),this.mMusicToggle=this.node.getChildByPath("MovingShow/MusicToggle").getComponent(h),this.mHistoryBtn=this.node.getChildByPath("MovingShow/HistoryBtn").getComponent(l),this.mRuleBtn=this.node.getChildByPath("MovingShow/RuleBtn").getComponent(l),this.mRewardBtn=this.node.getChildByPath("MovingShow/RewardBtn").getComponent(l),this.mCloseBtn=this.node.getChildByPath("MovingShow/CloseBtn").getComponent(l)},o.BindUI=function(){var t=this;this.mMovingShow.SetAnimationType(s.FromBottom),this.mMovingShow.SetRoot(this.node),this.mExitBtn.SetClickCallback((function(t){g.Instance.ShowLayer("GameExit",r.Bunddle,r.PrefabPath)})),this.mHistoryBtn.SetClickCallback((function(t){g.Instance.ShowLayer("GameHistory",f.Bunddle,f.PrefabPath,!0,(function(t){t.InitWithData()}))})),this.mRuleBtn.SetClickCallback((function(t){g.Instance.ShowLayer("GameRuleInfo",d.Bunddle,d.PrefabPath)})),this.mRewardBtn.SetClickCallback((function(t){g.Instance.ShowLayer("GameRewardInfo",B.Bunddle,B.PrefabPath)})),this.mCloseBtn.SetClickCallback((function(n){t.mMovingShow.IsAnimating()||(c.Instance.Data_BottomUIEnum.mData=m.PlayingUI)})),this.mMusicToggle.SetClickCallback((function(n){t.mMusicToggle.SetShowStauts(n),u.Instance.MuteAll(n)})),c.Instance.GetPlayerInfo().mute?this.mMusicToggle.ShowSelected():this.mMusicToggle.ShowUnselected()},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},e}(i)).PrefabPath="prefab/GameMenu",S.Bunddle="gamePage",C=S))||C);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameMiniItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameData.ts"],(function(t){var e,i,n,o,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){o=t.BaseUI},function(t){a=t.ItemEnum}],execute:function(){var h,c;i._RF.push({},"dbd62dpzhZBzLyQm2/wC8UP","GameMiniItem",void 0);var m=n.ccclass;n.property,t("GameMiniItem",m("GameMiniItem")(((c=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).mBGGolden=null,e.mBGWhite=null,e.mIconNode=null,e.mGold=null,e}e(i,t);var n=i.prototype;return n.InitParam=function(){this.mBGGolden=this.node.getChildByPath("BGGolden"),this.mBGWhite=this.node.getChildByPath("BGWhite"),this.mIconNode=this.node.getChildByPath("IconNode"),this.mGold=this.node.getChildByPath("Gold")},n.BindUI=function(){},n.RegDataNotify=function(){},n.LateInit=function(){},n.CustmoerDestory=function(){},n.InitWithData=function(t){this.ShowItem(t.mType),t.mType==a.BaiDa||t.mType==a.Hu?(this.mBGGolden.active=!1,this.mBGWhite.active=!1,this.mGold.active=!1):(this.mBGGolden.active=t.mGolden,this.mGold.active=t.mGolden,this.mBGWhite.active=!t.mGolden)},n.ShowItem=function(t){for(var e=0;e<this.mIconNode.children.length;e++)this.mIconNode.children[e].active=e==t},i}(o)).PrefabPath="prefab/GameMiniItem",c.Bunddle="gamePage",h=c))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameMiniPad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameData.ts","./ToggleBtn.ts","./GameMiniItem.ts"],(function(t){var a,e,n,i,o,r,s;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){i=t.BaseUI},function(t){o=t.GameData},function(t){r=t.ToggleBtn},function(t){s=t.GameMiniItem}],execute:function(){var h,m;e._RF.push({},"70d25jY/K9J7pD8yNZOTik5","GameMiniPad",void 0);var l=n.ccclass;n.property,t("GameMiniPad",l("GameMiniPad")(((m=function(t){function e(){for(var a,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(a=t.call.apply(t,[this].concat(n))||this).mNormalTop=null,a.mFreeTop=null,a.mLayout=null,a.mData=null,a.mIndex=0,a}a(e,t);var n=e.prototype;return n.InitParam=function(){this.mNormalTop=this.node.getChildByPath("NormalTop"),this.mFreeTop=this.node.getChildByPath("FreeTop"),this.mLayout=this.node.getChildByPath("Layout")},n.BindUI=function(){},n.RegDataNotify=function(){},n.LateInit=function(){},n.CustmoerDestory=function(){},n.InitWithData=function(t,a){this.mData=t,this.mIndex=a,this.UpdateUI()},n.UpdateUI=function(){var t=o.GetIsNormalHistoryData(this.mIndex,this.mData);this.mNormalTop.active=t,this.mFreeTop.active=!t;var a=o.GetTargetDataSubRound(this.mIndex,this.mData);a>=this.mNormalTop.children.length&&(a=this.mNormalTop.children.length-1);for(var e=0;e<this.mNormalTop.children.length;e++){var n=this.mNormalTop.children[e].getComponent(r),i=this.mFreeTop.children[e].getComponent(r);n.SetShowStauts(a==e),i.SetShowStauts(a==e)}for(var h=o.GetTargetData(this.mIndex,this.mData),m=0;m<h.cardList.length;m++)for(var l=h.cardList[m],c=0;c<4;c++){var u=4-c-1,d=l.list[c],p="Lane"+m,f=this.mLayout.getChildByPath(p).children[u].getComponent(s),g=o.ConvertServerItemToLocal(d);f.InitWithData(g)}},e}(i)).PrefabPath="prefab/GameMiniPad",m.Bunddle="gamePage",h=m))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameMoneyChangeTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts"],(function(e){var t,n,i,o,s,a,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.Label,s=e.Vec3,a=e.Tween},function(e){r=e.BaseUI}],execute:function(){var c,h;n._RF.push({},"eef21V9irtErYIbL0r2X6cm","GameMoneyChangeTips",void 0);var u=i.ccclass;i.property,e("GameMoneyChangeTips",u("GameMoneyChangeTips")(((h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).mTips=null,t}t(n,e);var i=n.prototype;return i.InitParam=function(){this.mTips=this.node.getChildByPath("Tips").getComponent(o)},i.BindUI=function(){},i.RegDataNotify=function(){},i.LateInit=function(){},i.CustmoerDestory=function(){},i.ShowWithTips=function(e,t){var n=this;void 0===t&&(t=2.5),this.mTips.string=e,this.Show(!0),this.StopAllTween();this.node.setScale(new s(1,1,1));var i=new a(this.node);i.to(.15,{scale:new s(1.2,1.2,1.2)}),i.to(.075,{scale:s.ONE}),i.start(),this.StartSecondsTimer(t,t,(function(){0==n.GetRestMillSeconds()&&n.Show(!1)}))},n}(r)).PrefabPath="prefab/GameMoneyChangeTips",h.Bunddle="gamePage",c=h))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameMoneyInfoUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameData.ts","./Tool.ts","./BaseButton.ts","./UIMgr.ts","./GameBetSelect.ts"],(function(t){var n,e,o,a,i,r,l,s,m,c,u,h,y,d,f,A,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,l=t.Label,s=t.Color,m=t.Vec3,c=t.Tween},function(t){u=t.BaseUI},function(t){h=t.GameData,y=t.GameStatus},function(t){d=t.Tool},function(t){f=t.BaseButton},function(t){A=t.UIMgr},function(t){p=t.GameBetSelect}],execute:function(){var B,C,W,w,g,M,I;i._RF.push({},"be456Zqs1NPnZDPnJtl0SUc","GameMoneyInfoUI",void 0);var S=r.ccclass,T=r.property;t("GameMoneyInfoUI",S("GameMoneyInfoUI")(((I=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return n=t.call.apply(t,[this].concat(i))||this,o(n,"CanClick",W,a(n)),o(n,"ForFree",w,a(n)),o(n,"ForceWhite",g,a(n)),o(n,"SyncWinMoney",M,a(n)),n.mWalletAmount=null,n.mMoneyAmount=null,n.mRewardAmount=null,n.mWalletBtn=null,n.mBetSelectBtn=null,n.mHistoryBtn=null,n.mTween=null,n.mLastMoney=0,n}e(n,t);var i=n.prototype;return i.onEnable=function(){this.UpdateWinAmount(!1)},i.InitParam=function(){this.mWalletBtn=this.node.getChildByPath("Layout/WalletBG/WalletBtn").getComponent(f),this.mBetSelectBtn=this.node.getChildByPath("Layout/MoneyBG/BetSelectBtn").getComponent(f),this.mHistoryBtn=this.node.getChildByPath("Layout/RewardBG/HistoryBtn").getComponent(f),this.mWalletAmount=this.node.getChildByPath("Layout/WalletBG/WalletAmount").getComponent(l),this.mMoneyAmount=this.node.getChildByPath("Layout/MoneyBG/MoneyAmount").getComponent(l),this.mRewardAmount=this.node.getChildByPath("Layout/RewardBG/RewardAmount").getComponent(l),this.ForceLabelWhite()},i.BindUI=function(){this.CanClick&&(this.mWalletBtn.SetClickCallback((function(){})),this.mBetSelectBtn.SetClickCallback((function(){h.Instance.Data_AutoCountLeft.mData>0||h.Instance.Data_GameStatus.mData==y.Waiting&&A.Instance.ShowLayer("GameBetSelect",p.Bunddle,p.PrefabPath)})),this.mHistoryBtn.SetClickCallback((function(){})))},i.RegDataNotify=function(){var t=this;h.Instance.Data_GameStatus.AddListenner(this,(function(e){if(0!=t.node.activeInHierarchy){if(t.ColorChangeLogic(),e==y.StartScroll){var o=h.Instance.GetPlayerRestMoney();t.mLastMoney=o,t.UpdateBanlance(o,!1),0==h.Instance.Data_FreeGameMode.mData&&(n.CommonWinMoney=0),t.UpdateWinAmount(!0)}if(e==y.TryToReward&&t.node.activeInHierarchy){var a=h.Instance.GetWinResult().win;a>0&&(t.mLastMoney+=a,t.UpdateBanlance(t.mLastMoney,!0))}if(e==y.Ending){var i=h.Instance.GetPlayerRestMoney();t.mLastMoney=i,t.UpdateBanlance(i,!1)}}})),h.Instance.Data_SingleBetIndex.AddListenner(this,(function(n){var e=h.Instance.GetCurrentBetConfig().mTotalAmount;t.mMoneyAmount.string=d.ConvertMoneyToString(e),t.BetSelectPopAnm()})),h.Instance.Data_UpdateBalance.AddListenner(this,(function(n){var e=h.Instance.GetPlayerRestMoney();t.mLastMoney=e,t.UpdateBanlance(e,!1)})),h.Instance.Data_CurrentTMjhlResult.AddListenner(this,(function(e){if(0!=t.node.activeInHierarchy){if(h.Instance.Data_FreeGameMode.mData){if(0==t.ForFree)return}else if(1==t.ForFree)return;var o=n.CommonWinMoney;n.CommonWinMoney+=e.win,t.UpdateWinAmountWithAnm(o)}})),h.Instance.Data_SyncFreeTotalWin.AddListenner(this,(function(n){t.mRewardAmount.string=d.ConvertMoneyToString(n)})),h.Instance.Data_AutoCountLeft.AddListenner(this,(function(n){t.ColorChangeLogic()}))},i.LateInit=function(){},i.CustmoerDestory=function(){this.StopTween()},i.ColorChangeLogic=function(){if(0==this.ForceWhite)if(h.Instance.Data_GameStatus.mData==y.Waiting){if(h.Instance.Data_AutoCountLeft.mData>0)return;this.mWalletAmount.color=new s(117,226,250),this.mMoneyAmount.color=new s(117,226,250),this.mRewardAmount.color=new s(117,226,250)}else this.mWalletAmount.color=s.WHITE,this.mMoneyAmount.color=s.WHITE,this.mRewardAmount.color=s.WHITE},i.ForceLabelWhite=function(){1==this.ForceWhite&&(this.mWalletAmount.color=s.WHITE,this.mMoneyAmount.color=s.WHITE,this.mRewardAmount.color=s.WHITE)},i.UpdateBanlance=function(t,n){if(this.mWalletAmount.string=d.ConvertMoneyToString(t),n){this.StopAllTween(this.mWalletAmount.node),this.mWalletAmount.node.setScale(m.ONE);var e=new c(this.mWalletAmount.node);e.to(.15,{scale:new m(1.2,1.2,1.2)}),e.to(.075,{scale:m.ONE}),e.start()}},i.UpdateWinAmount=function(t){if(this.mRewardAmount.string=d.ConvertMoneyToString(n.CommonWinMoney),t&&n.CommonWinMoney>0){this.StopTween();this.StopAllTween(this.mRewardAmount.node),this.mRewardAmount.node.setScale(m.ONE);var e=new c(this.mRewardAmount.node);e.to(.15,{scale:new m(1.2,1.2,1.2)}),e.to(.075,{scale:m.ONE}),e.start()}},i.UpdateWinAmountWithAnm=function(t){var e=this;this.StopTween();this.mTween=new c({a:0}),this.mTween.to(1,{a:100},{progress:function(o,a,i,r){var l=Math.round(a*r),s=t+(n.CommonWinMoney-t)*r;return e.mRewardAmount.string=d.ConvertMoneyToString(s),l}}),this.mTween.start()},i.StopTween=function(){null!=this.mTween&&(this.mTween.stop(),this.mTween=null)},i.BetSelectPopAnm=function(){this.StopAllTween(this.mMoneyAmount.node),this.mMoneyAmount.node.setScale(m.ONE);var t=new c(this.mMoneyAmount.node);t.to(.15,{scale:new m(1.2,1.2,1.2)}),t.to(.075,{scale:m.ONE}),t.start()},n.SetCommonWin=function(t){},n}(u)).PrefabPath="prefab/GameMoneyInfoUI",I.Bunddle="gamePage",I.CommonWinMoney=0,W=n((C=I).prototype,"CanClick",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=n(C.prototype,"ForFree",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=n(C.prototype,"ForceWhite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=n(C.prototype,"SyncWinMoney",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=C))||B);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameNewFreeTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./SpineCtr.ts"],(function(t){var e,n,i,o,a,s,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.Label,a=t.Vec3,s=t.Tween},function(t){r=t.BaseUI},function(t){c=t.SpineCtr}],execute:function(){var u,m;n._RF.push({},"25ee30R011AdYLA1PaFo331","GameNewFreeTips",void 0);var l=i.ccclass;i.property,t("GameNewFreeTips",l("GameNewFreeTips")(((m=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mRoot=null,e.mAmount=null,e.mSpine=null,e}e(n,t);var i=n.prototype;return i.InitParam=function(){this.mRoot=this.node.getChildByPath("Root"),this.mAmount=this.node.getChildByPath("Root/Amount").getComponent(o),this.mSpine=this.node.getChildByPath("Spine").getComponent(c)},i.BindUI=function(){},i.RegDataNotify=function(){},i.LateInit=function(){},i.CustmoerDestory=function(){},i.InitWithData=function(t){var e=this;this.mSpine.Hide(),this.mAmount.string=t+"",this.StartSecondsTimer(2,1,(function(){0==e.GetRestSeconds()&&e.Show(!1)}));this.mRoot.setScale(new a(.1,.1,.1));var n=new s(this.mRoot);n.to(.2,{scale:new a(1.2,1.2,1.2)}),n.to(.1,{scale:a.ONE}),n.call((function(){e.mSpine.SetAnimation("animation",!1)})),n.start()},n}(r)).PrefabPath="prefab/GameNewFreeTips",m.Bunddle="gamePage",u=m))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameNotifyBorad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./Tool.ts","./GameData.ts","./SpineCtr.ts","./AudioManager.ts"],(function(t){var n,e,i,o,a,r,s,h,l,m,u,c,d,f,S,v;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Sprite,a=t.Label,r=t.Vec3,s=t.Tween,h=t.UITransform,l=t.easing},function(t){m=t.BaseUI},function(t){u=t.Tool},function(t){c=t.GameData,d=t.GameStatus,f=t.RewardSize},function(t){S=t.SpineCtr},function(t){v=t.AudioManager}],execute:function(){var p,C;e._RF.push({},"33091K+tGBK9YzINT5KbfXm","GameNotifyBorad",void 0);var y=i.ccclass,B=(i.property,t("GameNotifyBorad",y("GameNotifyBorad")(((C=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).mMask=null,n.mInfo=null,n.mCurrentWin=null,n.mTotalWin=null,n.mSingleWin=null,n.mWinAmount=null,n.mBGNode=null,n.mSpine=null,n.mBGSpine=null,n.mCurrentTotalWin=0,n.mLevel1=!1,n.mLevel2=!1,n.mCurrentLevel=0,n.mBoardType=B.Move,n}n(e,t);var i=e.prototype;return i.InitParam=function(){this.mBGNode=this.node.getChildByPath("BGNode"),this.mMask=this.node.getChildByPath("Mask"),this.mInfo=this.node.getChildByPath("Mask/Info").getComponent(o),this.mCurrentWin=this.node.getChildByPath("CurrentWin"),this.mWinAmount=this.node.getChildByPath("CurrentWin/WinAmount").getComponent(a),this.mSpine=this.node.getChildByPath("Spine").getComponent(S),this.mTotalWin=this.node.getChildByPath("CurrentWin/TotalWin"),this.mSingleWin=this.node.getChildByPath("CurrentWin/SingleWin"),this.mBGSpine=this.node.getChildByPath("BGSpine").getComponent(S)},i.BindUI=function(){this.mMask.active=!0,this.mCurrentWin.active=!1,this.mSpine.Hide(),this.mBGSpine.Hide(),this.ShowBGLevel(0,!1)},i.RegDataNotify=function(){var t=this;c.Instance.Data_GameStatus.AddListenner(this,(function(n){if(n==d.StartScroll)t.mMask.active=!0,t.mCurrentWin.active=!1,t.mCurrentTotalWin=0,t.mLevel1=!1,t.mLevel2=!1,t.ShowBGLevel(0,!1);else if(n==d.TryToReward){var e=c.Instance.GetWinResult().win;e>0&&(t.mMask.active=!1,t.mCurrentWin.active=!0,t.UpdateCurrentTotalWin(e),t.ShowSingleWin(),t.mWinAmount.string=u.ConvertMoneyToString(e),t.mSpine.SetAnimation("animation",!1,(function(){t.mSpine.Hide()})))}else if(n==d.Ending){var i=c.Instance.GetWinMoney();if(i>0){var o=c.Instance.GetCurrentBetConfig();c.GetRewardSize(o.mTotalAmount,i)!=f.None&&t.UpdateCurrentTotalWin(0,!0),t.mMask.active=!1,t.mCurrentWin.active=!0,t.ShowTotalWin(),t.mWinAmount.string=u.ConvertMoneyToString(i),t.mSpine.SetAnimation("animation",!1,(function(){t.mSpine.Hide()}))}}}))},i.LateInit=function(){this.TryToStartMove()},i.CustmoerDestory=function(){},i.ScaleAnm=function(){this.node.setScale(new r(1,1,1));var t=new s(this.node);t.to(.2,{scale:new r(1.15,1.15,1.15)}),t.to(.1,{scale:r.ONE}),t.start()},i.UpdateCurrentTotalWin=function(t,n){void 0===n&&(n=!1),this.mCurrentTotalWin+=t;var e=c.Instance.GetCurrentBetConfig(),i=this.mCurrentTotalWin/e.mTotalAmount;if(i>=10&&1==n&&0==this.mLevel2)return this.mLevel2=!0,void this.ShowBGLevel(2,n);i>=5&&(0!=this.mLevel1&&1!=n||(this.mLevel1=!0,this.ShowBGLevel(1,n)))},i.ShowSingleWin=function(){this.mSingleWin.active=!0,this.mTotalWin.active=!1},i.ShowTotalWin=function(){this.mSingleWin.active=!1,this.mTotalWin.active=!0,0==this.mCurrentLevel?v.Instance.PlayEffectOneShot("totalWin0"):1==this.mCurrentLevel?v.Instance.PlayEffectOneShot("totalWin1"):2==this.mCurrentLevel&&v.Instance.PlayEffectOneShot("totalWin2")},i.JudgeBoardType=function(t){0==t||3==t||4==t||5==t?this.mBoardType=B.Stay:1!=t&&2!=t||(this.mBoardType=B.Move)},i.TryToStartMove=function(){var t=this,n=u.Random(0,e.InfoCount-1);this.JudgeBoardType(n),this.LoadSprite(e.Bunddle,"texture/MainUI/info"+n,(function(n){t.mInfo.spriteFrame=n,t.ResetPos()}))},i.ResetPos=function(){var t=this.mMask.getComponent(h).width,n=this.mInfo.node.getComponent(h).width;if(this.mBoardType==B.Stay)this.mInfo.node.setPosition(-n/2,0),this.StartStay();else{var e=-n/2+(n-t);this.mInfo.node.setPosition(e,0);var i=-this.mInfo.node.getComponent(h).width-t/2;this.StartMove(i)}},i.StartStay=function(){var t=this;this.StopAllTween(this.mInfo.node);var n=new s(this.mInfo.node);n.delay(7),n.call((function(){t.MoveEnd()})),n.start()},i.StartMove=function(t){var n=this;this.StopAllTween(this.mInfo.node);var e=new s(this.mInfo.node);e.delay(2),e.to(5,{position:new r(t,0,0)},{easing:l.linear}),e.call((function(){n.MoveEnd()})),e.start()},i.MoveEnd=function(){var t=this;this.StartSecondsTimer(1,1,(function(){0==t.GetRestSeconds()&&t.TryToStartMove()}))},i.ShowBGLevel=function(t,n){for(var e=0;e<this.mBGNode.children.length;e++){this.mBGNode.children[e].active=e==t}this.mCurrentLevel=t,0==t?this.mBGSpine.Hide():1==t?(this.mBGSpine.SetAnimation("xiaoguo2",!1),n&&this.ScaleAnm()):2==t&&(this.mBGSpine.SetAnimation("xiaoguo3",!1),n&&this.ScaleAnm())},e}(m)).PrefabPath="prefab/GameNotifyBorad",C.Bunddle="gamePage",C.InfoCount=6,p=C))||p),t("BoardType",function(t){return t[t.Move=0]="Move",t[t.Stay=1]="Stay",t}({})));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameRecordDateDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./MovingShow.ts","./BaseButton.ts","./DropBox.ts","./Tool.ts","./GameData.ts","./GameDropBoxDateItem.ts"],(function(t){var e,a,n,o,i,r,h,s,D,m,l,d,c;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator},function(t){o=t.BaseUI},function(t){i=t.MovingShow,r=t.AnimationShowType},function(t){h=t.BaseButton},function(t){s=t.DropBox},function(t){D=t.Tool},function(t){m=t.DateTypeForSever,l=t.SelectDate,d=t.GameData},function(t){c=t.GameDropBoxDateItem}],execute:function(){var u,f;a._RF.push({},"bb8b81yR01CDo+CV1PSRGTR","GameRecordDateDetail",void 0);var M=n.ccclass;n.property,t("GameRecordDateDetail",M("GameRecordDateDetail")(((f=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).mMovingShow=null,e.mCloseBtn=null,e.mConfirmBtn=null,e.mYearStart=null,e.mMonthStart=null,e.mDayStart=null,e.mYearEnd=null,e.mMonthEnd=null,e.mDayEnd=null,e.mMaxOffsetMonth=3,e.mMaxOffsetDays=7,e.mDate=null,e}e(a,t);var n=a.prototype;return n.Show=function(t){t?this.node.active=!0:this.mMovingShow.HideAnimation()},n.InitParam=function(){this.mMovingShow=this.node.getChildByPath("MovingShow").getComponent(i),this.mCloseBtn=this.node.getChildByPath("MovingShow/Top/BackBtn").getComponent(h),this.mConfirmBtn=this.node.getChildByPath("MovingShow/Middle/ConfirmBtn").getComponent(h),this.mYearStart=this.node.getChildByPath("MovingShow/Middle/Start/DropBoxYearStart").getComponent(s),this.mMonthStart=this.node.getChildByPath("MovingShow/Middle/Start/DropBoxYearMonth").getComponent(s),this.mDayStart=this.node.getChildByPath("MovingShow/Middle/Start/DropBoxYearDay").getComponent(s),this.mYearEnd=this.node.getChildByPath("MovingShow/Middle/End/DropBoxYearStart").getComponent(s),this.mMonthEnd=this.node.getChildByPath("MovingShow/Middle/End/DropBoxYearMonth").getComponent(s),this.mDayEnd=this.node.getChildByPath("MovingShow/Middle/End/DropBoxYearDay").getComponent(s)},n.BindUI=function(){var t=this;this.mMovingShow.SetAnimationType(r.FromTop),this.mMovingShow.SetRoot(this.node),this.mMovingShow.SetShowAnimationCallback((function(){})),this.mMovingShow.SetHideAnimationCallback((function(){})),this.mCloseBtn.SetClickCallback((function(){t.mMovingShow.IsAnimating()||t.Show(!1)})),this.mConfirmBtn.SetClickCallback((function(){var e,a=t.GetCurrentStartDate(),n=t.GetCurrentEndDate();e=a==n&&n==t.mDate?m.Today:m.Other;var o=new l(a,n,e);d.Instance.Date_SelectDate.mData=o,t.Show(!1)}))},n.RegDataNotify=function(){},n.LateInit=function(){},n.CustmoerDestory=function(){},n.InitWithData=function(){this.mDate=new Date,this.UpdateDefaultOption()},n.UpdateDefaultOption=function(){this.CreateStartYear(this.mDate.getFullYear()),this.CreateStartMonth(this.mDate.getMonth(),this.mDate.getMonth()),this.CreateStartDays(this.mDate.getMonth(),this.mDate.getDate()),this.CreateEndYear(this.mDate.getFullYear()),this.CreateEndMonth(this.mDate.getMonth(),this.mDate.getMonth()),this.CreateEndDays(this.mDate.getMonth(),this.mDate.getDate())},n.CreateStartYear=function(t){var e=this,a=[t.toString()];this.mYearStart.InitWithData(d.Instance.Data_StartYear,0,a),this.mYearStart.CreateItem("GameDropBoxDateItem",c.Bunddle,c.PrefabPath,(function(){e.mYearStart.Expand(!1)}))},n.CreateStartMonth=function(t,e){e++;var a=D.GetAvilableMonth(this.mDate.getMonth(),this.mMaxOffsetMonth),n=a.findIndex((function(t){return t===e+""}));n<0&&console.error("当前 开始 月份表，没有这个月 _defaultSelect=== "+e),this.mMonthStart.InitWithData(d.Instance.Data_StartMonth,n,a),this.mMonthStart.CreateItem("GameDropBoxDateItem",c.Bunddle,c.PrefabPath,this.OnStartMonthClick.bind(this))},n.CreateStartDays=function(t,e){var a;a=t==this.mDate.getMonth()?this.mDate.getDate():D.GetHowManyDaysInMonth(t);var n=D.GenerateDays(a),o=n.findIndex((function(t){return t===e+""}));o<0&&(console.error("当前 开始 日表，没有这个日 _defaultSelect=== "+e),o=n.length-1),this.mDayStart.InitWithData(d.Instance.Data_StartDay,o,n),this.mDayStart.CreateItem("GameDropBoxDateItem",c.Bunddle,c.PrefabPath,this.OnStartDayClick.bind(this))},n.CreateEndYear=function(t){var e=this,a=[t.toString()];this.mYearEnd.InitWithData(d.Instance.Data_EndYear,0,a),this.mYearEnd.CreateItem("GameDropBoxDateItem",c.Bunddle,c.PrefabPath,(function(){e.mYearEnd.Expand(!1)}))},n.CreateEndMonth=function(t,e){e++;var a=D.GetAvilableMonth(this.mDate.getMonth(),this.mMaxOffsetMonth),n=a.findIndex((function(t){return t===e+""}));n<0&&console.error("当前 结束 月份表，没有这个月 _defaultSelect=== "+e),this.mMonthEnd.InitWithData(d.Instance.Data_EndMonth,n,a),this.mMonthEnd.CreateItem("GameDropBoxDateItem",c.Bunddle,c.PrefabPath,this.OnEndMonthClick.bind(this))},n.CreateEndDays=function(t,e){var a;a=t==this.mDate.getMonth()?this.mDate.getDate():D.GetHowManyDaysInMonth(t);var n=D.GenerateDays(a),o=n.findIndex((function(t){return t===e+""}));o<0&&(console.error("当前 结束 日表，没有这个日 _defaultSelect=== "+e),o=n.length-1),this.mDayEnd.InitWithData(d.Instance.Data_EndDay,o,n),this.mDayEnd.CreateItem("GameDropBoxDateItem",c.Bunddle,c.PrefabPath,this.OnEndDayClick.bind(this))},n.GetCurrentStartDate=function(){var t=parseInt(this.mYearStart.GetSelectedOptionContent()),e=parseInt(this.mMonthStart.GetSelectedOptionContent())-1,a=parseInt(this.mDayStart.GetSelectedOptionContent());return new Date(t,e,a)},n.GetCurrentEndDate=function(){var t=parseInt(this.mYearEnd.GetSelectedOptionContent()),e=parseInt(this.mMonthEnd.GetSelectedOptionContent())-1,a=parseInt(this.mDayEnd.GetSelectedOptionContent());return new Date(t,e,a)},n.OnStartMonthClick=function(t){this.mMonthStart.Expand(!1),this.RecalculateEndDate()},n.OnStartDayClick=function(t){this.mDayStart.Expand(!1),this.RecalculateEndDate()},n.OnEndMonthClick=function(t){this.mMonthEnd.Expand(!1),this.RecalculateStartDate()},n.OnEndDayClick=function(t){this.mDayEnd.Expand(!1),this.RecalculateStartDate()},n.RecalculateStartDate=function(){var t,e=this.GetCurrentStartDate(),a=this.GetCurrentEndDate(),n=this.GetFirstDate();if(a>=e){if(D.DateMinus(a,e)<=this.mMaxOffsetDays)return;var o=D.GetDateDurationFromToday(a,-this.mMaxOffsetDays);t=o<n?D.CloneDate(n):D.CloneDate(o)}else if(a<e){var i=D.GetDateDurationFromToday(a,-this.mMaxOffsetDays);t=i>=n?D.CloneDate(i):D.CloneDate(n)}this.CreateStartMonth(t.getMonth(),t.getMonth()),this.CreateStartDays(t.getMonth(),t.getDate()),this.CreateEndDays(a.getMonth(),a.getDate())},n.RecalculateEndDate=function(){var t,e=this.GetCurrentStartDate(),a=this.GetCurrentEndDate();if(e<=a){if(D.DateMinus(a,e)<=this.mMaxOffsetDays)return;var n=D.GetDateDurationFromToday(e,this.mMaxOffsetDays);t=n>this.mDate?D.CloneDate(this.mDate):D.CloneDate(n)}else if(e>a){var o=D.GetDateDurationFromToday(e,this.mMaxOffsetDays);t=o<=this.mDate?D.CloneDate(o):D.CloneDate(this.mDate)}this.CreateEndMonth(t.getMonth(),t.getMonth()),this.CreateEndDays(t.getMonth(),t.getDate()),this.CreateStartDays(e.getMonth(),e.getDate())},n.GetFirstDate=function(){var t=this.mDate.getMonth()-this.mMaxOffsetMonth;return t<0&&(t=0),new Date(this.mDate.getFullYear(),t,1)},a}(o)).PrefabPath="prefab/GameRecordDateDetail",f.Bunddle="gamePage",u=f))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/GameRecordDateSimple.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./MovingShow.ts","./BaseButton.ts","./ToggleBtn.ts","./GameData.ts","./Tool.ts","./UIMgr.ts","./GameRecordDateDetail.ts"],(function(t){var e,n,o,a,i,c,l,r,s,h,m,u,g,S,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){a=t.BaseUI},function(t){i=t.MovingShow,c=t.AnimationShowType},function(t){l=t.BaseButton},function(t){r=t.ToggleBtn},function(t){s=t.GameData,h=t.DateType,m=t.DateTypeForSever,u=t.SelectDate},function(t){g=t.Tool},function(t){S=t.UIMgr},function(t){d=t.GameRecordDateDetail}],execute:function(){var D,f;n._RF.push({},"5c1e32NLcJGXrRat4iNbSgO","GameRecordDateSimple",void 0);var p=o.ccclass;o.property,t("GameRecordDateSimple",p("GameRecordDateSimple")(((f=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).mMovingShow=null,e.mCloseBtn=null,e.mToggleGroup=null,e}e(n,t);var o=n.prototype;return o.Show=function(t){t?this.node.active=!0:this.mMovingShow.HideAnimation()},o.InitParam=function(){this.mMovingShow=this.node.getChildByPath("MovingShow").getComponent(i),this.mCloseBtn=this.node.getChildByPath("MovingShow/Top/BackBtn").getComponent(l),this.mToggleGroup=this.node.getChildByPath("MovingShow/Middle")},o.BindUI=function(){var t=this;this.mMovingShow.SetAnimationType(c.FromTop),this.mMovingShow.SetRoot(this.node),this.mMovingShow.SetHideAnimationCallback((function(){})),this.mCloseBtn.SetClickCallback((function(){t.mMovingShow.IsAnimating()||t.Show(!1)}));for(var e=0;e<this.mToggleGroup.children.length;e++){var n=this.mToggleGroup.children[e].getComponent(r);n.SetDataNotify(s.Instance.Data_SimpleDataIndex,e),n.SetExtraCallback(this.OnClickCallback.bind(this))}},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},o.OnClickCallback=function(t){if(t==h.Today){var e=new Date,n=new Date,o=m.Today,a=new u(e,n,o);s.Instance.Date_SelectDate.mData=a}else if(t==h.SevenDay){var i=new Date,c=g.GetDateDurationFromToday(i,-7),l=m.Other,r=new u(c,i,l);s.Instance.Date_SelectDate.mData=r}else t==h.Customer&&S.Instance.ShowLayer("GameRecordDateDetail",d.Bunddle,d.PrefabPath,!0,(function(t){t.InitWithData()}));this.Show(!1)},n}(a)).PrefabPath="prefab/GameRecordDateSimple",f.Bunddle="gamePage",D=f))||D);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameRewardInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./MovingShow.ts","./BaseButton.ts"],(function(o){var t,n,e,i,a,s,r;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator},function(o){i=o.BaseUI},function(o){a=o.MovingShow,s=o.AnimationShowType},function(o){r=o.BaseButton}],execute:function(){var c,h;n._RF.push({},"ed4a3Gcr9FKBL/VfCxKlm82","GameRewardInfo",void 0);var u=e.ccclass;e.property,o("GameRewardInfo",u("GameRewardInfo")(((h=function(o){function n(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).mMovingShow=null,t.mCloseBtn=null,t}t(n,o);var e=n.prototype;return e.Show=function(o){o?this.node.active=!0:this.mMovingShow.HideAnimation()},e.InitParam=function(){this.mMovingShow=this.node.getChildByPath("MovingShow").getComponent(a),this.mCloseBtn=this.node.getChildByPath("MovingShow/Top/CloseBtn").getComponent(r)},e.BindUI=function(){var o=this;this.mMovingShow.SetAnimationType(s.FromBottom),this.mMovingShow.SetRoot(this.node),this.mCloseBtn.SetClickCallback((function(){o.CloseAsWindow()}))},e.RegDataNotify=function(){},e.LateInit=function(){},e.CustmoerDestory=function(){},n}(i)).PrefabPath="prefab/GameRewardInfo",h.Bunddle="gamePage",c=h))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameRewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameMiniItem.ts","./BaseButton.ts","./GameData.ts","./Tool.ts","./GameConfig.ts"],(function(t){var e,n,i,o,a,m,r,s,h,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.Label},function(t){a=t.BaseUI},function(t){m=t.GameMiniItem},function(t){r=t.BaseButton},function(t){s=t.GameData},function(t){h=t.Tool},function(t){l=t.GameConfig}],execute:function(){var u,c;n._RF.push({},"8b2949VDfxPlLTY1LrvpMMc","GameRewardItem",void 0);var d=i.ccclass;i.property,t("GameRewardItem",d("GameRewardItem")(((c=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mGameMiniItem=null,e.mCount=null,e.mRoute=null,e.mMoreInfoBtn=null,e.mReward=null,e.mRewardWithRatio=null,e.mBottom=null,e.mDetails=null,e}e(n,t);var i=n.prototype;return i.InitParam=function(){this.mGameMiniItem=this.node.getChildByPath("Top/GameMiniItem").getComponent(m),this.mCount=this.node.getChildByPath("Top/Count").getComponent(o),this.mRoute=this.node.getChildByPath("Top/Route").getComponent(o),this.mMoreInfoBtn=this.node.getChildByPath("Top/MoreInfoBtn").getComponent(r),this.mReward=this.node.getChildByPath("Top/Reward").getComponent(o),this.mRewardWithRatio=this.node.getChildByPath("Top/RewardWithRatio").getComponent(o),this.mBottom=this.node.getChildByPath("Bottom"),this.mBottom.active=!1,this.mDetails=this.node.getChildByPath("Bottom/BG/Details").getComponent(o)},i.BindUI=function(){var t=this;this.mMoreInfoBtn.SetClickCallback((function(){t.mBottom.active=!t.mBottom.active}))},i.RegDataNotify=function(){},i.LateInit=function(){},i.CustmoerDestory=function(){},i.InitWithData=function(t,e,n){var i=s.ConvertServerItemToLocal(t.iconid);this.mGameMiniItem.InitWithData(i),this.mCount.string=h.ConvertNumberToChinese(t.wincount.length)+"星连珠",this.mRoute.string=t.winlines+"条中奖路线";var o=s.GetItemRatio(i.mType)[t.wincount.length-3],a=n.mBetSize*n.mBetRatio*o*t.winlines*e*l.MoneyRatio;this.mReward.string="¥"+h.ConvertMoneyToString(a);var m=a/e;this.mRewardWithRatio.string="¥"+h.ConvertMoneyToString(m)+" x "+e,this.mDetails.string=n.mBetSize+" x "+n.mBetRatio+" x "+o+" x "+t.winlines+" x "+e},i.InitWithHu=function(t){var e=12+2*(t-3);this.mBottom.active=!1;var n=s.ConvertServerItemToLocal(2);this.mGameMiniItem.InitWithData(n),this.mCount.string="X"+t,this.mRoute.string="",this.mMoreInfoBtn.Show(!1),this.mReward.string=e+" 次免费旋转",this.mRewardWithRatio.string=""},n}(a)).PrefabPath="prefab/GameRewardItem",c.Bunddle="gamePage",u=c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameRewardShow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./SpineCtr.ts","./GameData.ts","./Tool.ts","./BaseButton.ts","./AudioManager.ts","./KwaiSDKManager.ts"],(function(t){var n,e,i,o,a,r,s,l,m,h,u,c,d;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Label,a=t.Tween},function(t){r=t.BaseUI},function(t){s=t.SpineCtr},function(t){l=t.RewardSize,m=t.GameData},function(t){h=t.Tool},function(t){u=t.BaseButton},function(t){c=t.AudioManager},function(t){d=t.KwaiSDKManager}],execute:function(){var S,C;e._RF.push({},"b80e0BWbBVK16xZqEmj1AQa","GameRewardShow",void 0);var g=i.ccclass;i.property,t("GameRewardShow",g("GameRewardShow")(((C=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).mSpineCoin=null,n.mSpineWin=null,n.mWinAmount=null,n.mTouchCloseBtn=null,n.mClickAdsBtn=null,n.mCurrentStep=l.None,n.mFinalStep=l.None,n.mEnd=!1,n.mTotalWin=0,n.mSingleBet=0,n.mTween=null,n.mCloseCallback=null,n.mIsPlayingAd=!1,n}n(e,t);var i=e.prototype;return i.InitParam=function(){this.mSpineCoin=this.node.getChildByPath("Mask/SpineCoin").getComponent(s),this.mSpineWin=this.node.getChildByPath("SpineWin").getComponent(s),this.mWinAmount=this.node.getChildByPath("WinAmount").getComponent(o),this.mTouchCloseBtn=this.node.getChildByPath("TouchCloseBtn").getComponent(u),this.mClickAdsBtn=this.node.getChildByPath("ButtonAD").getComponent(u),this.mTouchCloseBtn.node.active=!1,this.mClickAdsBtn.node.active=!1},i.BindUI=function(){var t=this;this.mTouchCloseBtn.SetClickCallback((function(){t.CloseLogic()})),this.mClickAdsBtn.SetClickCallback((function(){t.ClickAds()}))},i.RegDataNotify=function(){},i.LateInit=function(){},i.CustmoerDestory=function(){this.mCloseCallback=null},i.InitWithData=function(t,n,e){void 0===e&&(e=null),this.mCloseCallback=e,this.mSingleBet=n,this.mTotalWin=t,this.mEnd=!1,this.mWinAmount.string="0.00",this.mCurrentStep=l.None,this.mFinalStep=l.None;m.GetRewardSizeConfig(n,l.BigReward);var i=m.GetRewardSizeConfig(n,l.HugeReward),o=m.GetRewardSizeConfig(n,l.SuperReward);this.mFinalStep=t>=o?l.SuperReward:t>=i?l.HugeReward:l.BigReward,this.WinAmountScrollTo(3)},i.CloseLogic=function(){0!=this.node.activeInHierarchy&&(0!=this.mEnd?(null!=this.mCloseCallback&&this.mCloseCallback(),this.StopSecondsTimer(),this.TouchToClose()):this.ForceEnd())},i.ClickAds=function(){var t=this;if(!this.mIsPlayingAd&&0!=this.node.activeInHierarchy){this.mIsPlayingAd=!0,this.mClickAdsBtn.SetInteractable(!1);var n={onReward:function(){m.Instance.MoneyChangeWith(t.mTotalWin),console.log("[GameRewardShow] 广告奖励发放: "+t.mTotalWin+" 金币"),t.mIsPlayingAd=!1,t.CloseLogic()},onHide:function(){t.mIsPlayingAd=!1,t.node.activeInHierarchy&&t.mClickAdsBtn.SetInteractable(!0)}};d.Instance.showRewardedVideo("reward_show",n)}},i.WinAmountScrollTo=function(t){var n=this;this.mCurrentStep++;var e=this.CalculateFromAmount(),i=this.CalculateToAmount();this.mWinAmount.string=h.ConvertMoneyToString(e),this.PlaySpine(),this.StopTween();this.mTween=new a({a:0}),this.mTween.to(t,{a:100},{progress:function(t,o,a,r){var s=Math.round(o*r),l=e+(i-e)*r;return n.mWinAmount.string=h.ConvertMoneyToString(l),s}}),this.mTween.call((function(){if(n.mCurrentStep==n.mFinalStep)n.EndLogic();else{var t=0;n.mCurrentStep==l.BigReward?t=3.38:n.mCurrentStep==l.HugeReward&&(t=2.9),n.WinAmountScrollTo(t)}})),this.mTween.start()},i.StopTween=function(){null!=this.mTween&&this.mTween.stop()},i.PlaySpine=function(){return this.mCurrentStep==l.BigReward?(this.mSpineCoin.SetAnimation("animation",!0),void this.mSpineWin.SetAnimation("animation",!1)):this.mCurrentStep==l.HugeReward?(this.mSpineCoin.SetAnimation("animation2",!0),void this.mSpineWin.SetAnimation("animation2",!1)):this.mCurrentStep==l.SuperReward?(this.mSpineCoin.SetAnimation("animation3",!0),void this.mSpineWin.SetAnimation("animation3",!1)):void console.log("PlaySpine Wrong")},i.CalculateFromAmount=function(){m.GetRewardSizeConfig(this.mSingleBet,l.BigReward);var t=m.GetRewardSizeConfig(this.mSingleBet,l.HugeReward),n=m.GetRewardSizeConfig(this.mSingleBet,l.SuperReward);return this.mCurrentStep==l.BigReward?0:this.mCurrentStep==l.HugeReward?t:this.mCurrentStep==l.SuperReward?n:void 0},i.CalculateToAmount=function(){m.GetRewardSizeConfig(this.mSingleBet,l.BigReward);var t=m.GetRewardSizeConfig(this.mSingleBet,l.HugeReward),n=m.GetRewardSizeConfig(this.mSingleBet,l.SuperReward);return this.mCurrentStep==this.mFinalStep?this.mTotalWin:this.mCurrentStep==l.BigReward?t:this.mCurrentStep==l.HugeReward?n:this.mCurrentStep==l.SuperReward?this.mTotalWin:void 0},i.EndLogic=function(){this.mEnd=!0,c.Instance.PlayBGMMusic("RewardEnd",!1),this.mTouchCloseBtn.node.active=!0;var t=m.Instance.GetCurrentBetConfig().mTotalAmount;this.mTotalWin/t>10?this.mClickAdsBtn.node.active=!0:this.mTouchCloseBtn.node.active=!0},i.ForceEnd=function(){this.StopTween(),this.EndLogic(),this.mCurrentStep!=this.mFinalStep&&(this.mCurrentStep=this.mFinalStep,this.PlaySpine()),this.mWinAmount.string=h.ConvertMoneyToString(this.mTotalWin)},e}(r)).PrefabPath="prefab/GameRewardShow",C.Bunddle="gamePage",S=C))||S);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameRouterUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameData.ts","./GameSubRouter.ts","./GameExplainItem.ts","./GameItem.ts","./GameUI.ts","./UIMgr.ts","./GameDisconnect.ts","./AudioManager.ts","./BaseButton.ts","./GameConfig.ts","./KwaiSDKManager.ts"],(function(t){var n,e,a,i,o,l,s,r,m,c,u,h,d,B,y,C,f,I,D,F,p;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,i=t.Sprite,o=t.Color,l=t.Tween,s=t.UITransform,r=t.Vec3},function(t){m=t.BaseUI},function(t){c=t.GameData,u=t.GameStatus},function(t){h=t.GameSubRouter},function(t){d=t.GameExplainItem},function(t){B=t.GameItem},function(t){y=t.GameUI},function(t){C=t.UIMgr},function(t){f=t.GameDisconnect},function(t){I=t.AudioManager},function(t){D=t.BaseButton},function(t){F=t.GameConfig},function(t){p=t.KwaiSDKManager}],execute:function(){var S,w;e._RF.push({},"968abOGi8JFno6soQALyLXe","GameRouterUI",void 0);var g=a.ccclass;a.property,t("GameRouterUI",g("GameRouterUI")(((w=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).mRouterContainer=null,n.mExplainContainer=null,n.mDeleteContainer=null,n.mDeleteContainerBG=null,n.mExplainNode=null,n.mDeleteMJContainer=null,n.mFastEndBtn=null,n.mFlyBtn=null,n.mTween=null,n.mMusicTween=null,n.mFlyBtnTween=null,n.mIsFlyBtnClicking=!1,n.mFlyBtnInitialPos=null,n}n(e,t);var a=e.prototype;return a.InitParam=function(){this.mRouterContainer=this.node.getChildByPath("RouterContainer"),this.mExplainContainer=this.node.getChildByPath("ExplainContainer"),this.mDeleteContainer=this.node.getChildByPath("DeleteContainer"),this.mDeleteContainerBG=this.node.getChildByPath("DeleteContainer/Dark").getComponent(i),this.mDeleteMJContainer=this.node.getChildByPath("DeleteContainer/DeleteMJContainer"),this.mFastEndBtn=this.node.getChildByPath("FastEndBtn").getComponent(D),this.mFlyBtn=this.node.getChildByPath("FlyBtn").getComponent(D),null!=this.mFlyBtn&&null!=this.mFlyBtn.node&&(this.mFlyBtnInitialPos=this.mFlyBtn.node.position.clone())},a.BindUI=function(){for(var t=this,n=function(n){t.LoadPrefab("GameSubRouter",h.Bunddle,h.PrefabPath,(function(e){t.mRouterContainer.addChild(e);var a=e.getComponent(h),i=a.node.getComponent(s).width,o=t.CalculateRouterPosX(n,i);a.node.setPosition(o,0),a.InitWithData(n)}))},e=0;e<c.MAX_LANE;e++)n(e);this.mFastEndBtn.SetClickCallback((function(){c.Instance.Data_StartBtnPress.mData=!0})),this.mFlyBtn.SetClickCallback((function(){t.OnFlyBtnClick()})),this.StartFlyBtnRandomMove(),this.LoadPrefab("GameExplainItem",d.Bunddle,d.PrefabPath,(function(n){t.mExplainContainer.addChild(n),n.getComponent(d),t.mExplainNode=n.getComponent(d)})),this.mExplainContainer.active=!1,this.mDeleteContainer.active=!1},a.RegDataNotify=function(){var t=this;c.Instance.Data_StartCountReLoginTimer.AddListenner(this,(function(n){n&&t.StartSecondsTimer(8,1,(function(){0==t.GetRestSeconds()&&(c.Instance.Data_NeedReLogin.mData=!0)}))})),c.Instance.Data_NeedReLogin.AddListenner(this,(function(n){F.isTest||(t.StopSecondsTimer(),1==n&&C.Instance.ShowLayer("GameDisconnect",f.Bunddle,f.PrefabPath))})),c.Instance.Data_ExplainShow.AddListenner(this,(function(n){if(t.mExplainContainer.active=n,n&&null!=t.mExplainNode){var e=c.Instance.Data_ExplainItemConfig.mData;t.mExplainNode.InitWithData(e)}})),c.Instance.Data_GameStatus.AddListenner(this,(function(n){if(n==u.Waiting?c.Instance.Data_AutoCountLeft.mData>0?t.mFastEndBtn.Show(!0):t.mFastEndBtn.Show(!1):t.mFastEndBtn.Show(!0),n==u.StartScroll?(t.mFlyBtn.SetInteractable(!1),t.mDeleteContainer.active=!1):t.mIsFlyBtnClicking||t.mFlyBtn.SetInteractable(!0),n==u.TryToReward){t.mDeleteContainer.active=!0,t.StopTween(),t.mDeleteContainerBG.node.active=!0,t.mDeleteContainerBG.color=new o(0,0,0,0);t.mTween=new l({a:0}),t.mTween.to(.5,{a:100},{progress:function(n,e,a,i){var l=Math.round(e*i),s=150*i;return t.mDeleteContainerBG.color=new o(0,0,0,s),l}}),t.mTween.start()}})),c.Instance.Data_DeleteFinishRouter.AddListenner(this,(function(n){if(n==c.MAX_LANE){for(;t.mDeleteMJContainer.children.length>0;){var e=t.mDeleteMJContainer.children[0].getComponent(B);y.RecycleItemToPool(e)}t.mDeleteContainer.active=!1}})),c.Instance.Data_DeleteConfig.AddListenner(this,(function(n){for(var e=0;e<n.length;e++){var a=n[e],i=y.GetItemFromPool();i.InitWithData(a,0),t.mDeleteMJContainer.insertChild(i.node,0),i.node.setWorldPosition(a.mWorldPos),i.PrepareToDelete(null,!1)}})),c.Instance.Data_ReadyToDeleteMJ.AddListenner(this,(function(n){var e=c.Instance.Data_NeedDeleteLaneCount.mData;n==e&&n>0&&(c.Instance.Data_ExcutiveDeleteNow.mData=!0,null!=e&&e>0&&(null!=t.mMusicTween&&t.mMusicTween.stop(),t.mMusicTween=new l(t.node),t.mMusicTween.delay(.7),t.mMusicTween.call((function(){t.mDeleteContainerBG.node.active=!1,I.Instance.PlayEffectOneShot("ItemDelete")})),t.mMusicTween.start()))}))},a.LateInit=function(){},a.CustmoerDestory=function(){this.StopTween(),this.StopFlyBtnTween()},a.CalculateRouterPosX=function(t,n){var e=this.node.getComponent(s).width;return(e-n*c.MAX_LANE+n)/2-e/2+t*n},a.StopTween=function(){null!=this.mTween&&this.mTween.stop()},a.StopFlyBtnTween=function(){null!=this.mFlyBtnTween&&(this.mFlyBtnTween.stop(),this.mFlyBtnTween=null)},a.StartFlyBtnRandomMove=function(){var t=this;if(null!=this.mFlyBtn&&null!=this.mFlyBtn.node){null==this.mFlyBtnInitialPos&&(this.mFlyBtnInitialPos=this.mFlyBtn.node.position.clone());var n=250,e=this.mFlyBtnInitialPos.x-n,a=this.mFlyBtnInitialPos.x+n,i=this.mFlyBtnInitialPos.y-n,o=this.mFlyBtnInitialPos.y+n,s=e+Math.random()*(a-e),m=i+Math.random()*(o-i),c=new r(s,m,0),u=3+2*Math.random();this.StopFlyBtnTween(),this.mFlyBtnTween=new l(this.mFlyBtn.node),this.mFlyBtnTween.to(u,{position:c},{easing:"sineInOut"}),this.mFlyBtnTween.call((function(){t.StartFlyBtnRandomMove()})),this.mFlyBtnTween.start()}},a.OnFlyBtnClick=function(){var t=this;if(!this.mIsFlyBtnClicking&&c.Instance.Data_GameStatus.mData!=u.StartScroll){this.mIsFlyBtnClicking=!0,this.mFlyBtn.SetInteractable(!1),this.StopFlyBtnTween();var n={onReward:function(){var n=2+Math.floor(2*Math.random());c.Instance.ChangeKsCoin(n),console.log("[GameRouterUI] FlyBtn 广告奖励发放: "+n+" 快手币"),t.mIsFlyBtnClicking=!1,c.Instance.Data_GameStatus.mData!=u.StartScroll&&t.mFlyBtn.SetInteractable(!0),t.StartFlyBtnRandomMove()},onHide:function(){t.mIsFlyBtnClicking=!1,c.Instance.Data_GameStatus.mData!=u.StartScroll&&t.mFlyBtn.SetInteractable(!0),t.StartFlyBtnRandomMove()}};p.Instance.showRewardedVideo("fly_btn",n)}},e}(m)).PrefabPath="prefab/GameRouterUI",w.Bunddle="gamePage",S=w))||S);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameRuleInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MovingShow.ts","./BaseButton.ts","./BaseUI.ts"],(function(o){var t,n,e,i,a,s,u;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator},function(o){i=o.MovingShow,a=o.AnimationShowType},function(o){s=o.BaseButton},function(o){u=o.BaseUI}],execute:function(){var h,c;n._RF.push({},"05ef2PhHb9EoJfMUaVTNaI1","GameRuleInfo",void 0);var r=e.ccclass;e.property,o("GameRuleInfo",r("GameRuleInfo")(((c=function(o){function n(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).mMovingShow=null,t.mCloseBtn=null,t}t(n,o);var e=n.prototype;return e.Show=function(o){o?this.node.active=!0:this.mMovingShow.HideAnimation()},e.InitParam=function(){this.mMovingShow=this.node.getChildByPath("MovingShow").getComponent(i),this.mCloseBtn=this.node.getChildByPath("MovingShow/Top/CloseBtn").getComponent(s)},e.BindUI=function(){var o=this;this.mMovingShow.SetAnimationType(a.FromBottom),this.mMovingShow.SetRoot(this.node),this.mCloseBtn.SetClickCallback((function(){o.CloseAsWindow()}))},e.RegDataNotify=function(){},e.LateInit=function(){},e.CustmoerDestory=function(){},n}(u)).PrefabPath="prefab/GameRuleInfo",c.Bunddle="gamePage",h=c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameStartBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./SpineCtr.ts","./GameData.ts","./UIMgr.ts","./GameWinResult.ts","./GameConfig.ts","./GameRewardShow.ts","./AudioManager.ts","./GameNewFreeTips.ts","./Localization.ts","./GameMoneyInfoUI.ts","./MathUnit.ts","./TableMgr.ts","./LevelPanel.ts"],(function(t){var a,n,e,o,i,s,c,r,m,u,l,D,S,I,h,f,d,G,_,y;return{setters:[function(t){a=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){o=t.BaseUI},function(t){i=t.BaseButton},function(t){s=t.SpineCtr},function(t){c=t.GameData,r=t.GameStatus,m=t.RewardSize},function(t){u=t.UIMgr},function(t){l=t.GameWinResult},function(t){D=t.GameConfig},function(t){S=t.GameRewardShow},function(t){I=t.AudioManager},function(t){h=t.GameNewFreeTips},function(t){f=t.Localization},function(t){d=t.GameMoneyInfoUI},function(t){G=t.MathUnit},function(t){_=t.TableMgr},function(t){y=t.LevelPanel}],execute:function(){var A,B;n._RF.push({},"1090bJ3IKtAHoTi3LNaMglG","GameStartBtn",void 0);var p=e.ccclass;e.property,t("GameStartBtn",p("GameStartBtn")(((B=function(t){function n(){for(var a,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(a=t.call.apply(t,[this].concat(e))||this).mStartBtn=null,a.mStopAutoBtn=null,a.mSpine=null,a.mIsFastMode=!1,a.mAutoDelayTime=0,a}a(n,t);var e=n.prototype;return e.onEnable=function(){this.mAutoDelayTime=.8},e.InitParam=function(){this.mIsFastMode=!1,this.mStartBtn=this.node.getChildByPath("StartBtn").getComponent(i),this.mStopAutoBtn=this.node.getChildByPath("StopAutoBtn").getComponent(i),this.mSpine=this.node.getChildByPath("Spine").getComponent(s)},e.BindUI=function(){var t=this;this.mStartBtn.SetClickCallback((function(){if(1!=c.Instance.Data_FreeGameMode.mData){var a=c.Instance.Data_GameStatus.mData;a==r.Waiting?I.Instance.PlayEffectOneShot("StartBtn"):a==r.StartScroll&&1!=t.mIsFastMode&&0==c.Instance.Data_FastModeOneTimeOnly.mData&&(I.Instance.PlayEffectOneShot("StartBtn"),t.mSpine.SetAnimation("animation5",!0)),c.Instance.Data_StartBtnPress.mData=!0}})),this.mStartBtn.SetMute(!0),this.mStartBtn.SetEffectName("StartBtn"),this.mStopAutoBtn.SetClickCallback((function(){t.StopAutoFunction()}))},e.RegDataNotify=function(){var t=this;c.Instance.Data_GameStatus.AddListenner(this,(function(a){a==r.Waiting?0==c.Instance.Data_AutoCountLeft.mData&&t.PlayIdleAnimation():a==r.StartScroll?(0==c.Instance.Data_AutoCountLeft.mData&&t.PlayNormalPlayingAnimation(),t.DelayToStopRouterLogic()):a==r.CalculateTotalWin?t.CalculateTotalWin():a==r.Ending&&t.CheckFreeGameLogic()})),c.Instance.Data_DeleteFinishRouter.AddListenner(this,(function(t){t==c.MAX_LANE&&(c.Instance.Data_GameStatus.mData=r.TryFalling,c.Instance.Data_CurrentRatio.mData+=1)})),c.Instance.Data_RuningRouter.AddListenner(this,(function(a){0==a&&(I.Instance.PlaySlowDownEffect(!1),I.Instance.PlayEffectLoop("Scrolling",!1),t.TryToReward())})),c.Instance.Data_RewardFinishRouter.AddListenner(this,(function(a){a==c.MAX_LANE&&(c.Instance.Data_CurrentRewardStep.mData+=1,t.TryToReward())})),c.Instance.Data_StartBtnPress.AddListenner(this,(function(a){t.BetLogic()})),c.Instance.Data_AutoCountLeft.AddListenner(this,(function(a){a>0?t.PlayAutoPlayingAnimation(a):t.PlayIdleAnimation()}))},e.LateInit=function(){},e.CustmoerDestory=function(){},e.BetLogic=function(){if(c.Instance.Data_GameStatus.mData==r.Waiting){c.Instance.Data_FastModeOneTimeOnly.mData=!1;var t=c.Instance.GetFreeGameTotalCount()>0;c.Instance.Data_FreeGameMode.mData=t;var a=t,n=c.Instance.GetCurrentBetConfig();if(0==a)if(c.Instance.GetPlayerRestMoney()<n.mTotalAmount)return c.Instance.Data_AutoCountLeft.mData>0&&(c.Instance.Data_AutoCountLeft.mData=0),void u.Instance.ShowToast(f.GetString("00005"));c.Instance.Data_TryToStopLane.mData=D.WrongIndex,c.Instance.Data_ExcutiveDeleteNow.mData=!1,this.mIsFastMode=c.Instance.Data_FastMode.mData,c.Instance.Data_ExplainShow.mData=!1,c.Instance.Data_TMjhlResultList.mData=null,c.Instance.Data_RuningRouter.mData=c.MAX_LANE,c.Instance.Data_DeleteFinishRouter.mData=0,c.Instance.Data_ReadyToDeleteMJ.mData=0,c.Instance.Data_CurrentRewardStep.mData=0,c.Instance.Data_CurrentRatio.mData=0,c.Instance.Data_RewardFinishRouter.mData=0,I.Instance.PlayEffectLoop("Scrolling",!0),0==a?(c.Instance.Data_AutoCountLeft.mData>0&&(c.Instance.Data_AutoCountLeft.mData-=1),c.Instance.MoneyChangeWith(-n.mTotalAmount),c.Instance.PostBetReq(n)):(c.Instance.ChangeFreeGameCount(-1,!0),c.Instance.PostFreeBetReq()),c.Instance.Data_GameStatus.mData=r.StartScroll,c.Instance.Data_StartCountReLoginTimer.mData=!0}else c.Instance.Data_GameStatus.mData==r.StartScroll&&0==this.mIsFastMode&&0==c.Instance.Data_FastModeOneTimeOnly.mData&&(c.Instance.Data_FastModeOneTimeOnly.mData=!0)},e.DelayToStopRouterLogic=function(){var t=this,a=.5;this.mIsFastMode&&(a=.3),this.StartSecondsTimer(a,.1,(function(){0==t.GetRestMillSeconds()&&t.TryStopRouterLogic()}),!1)},e.TryStopRouterLogic=function(){null!=c.Instance.Data_TMjhlResultList.mData?(c.Instance.CalculateSlowDownLane(),c.Instance.Data_TryToStopLane.mData=0):this.WaitingRewardData()},e.WaitingRewardData=function(){var t=this;this.StartSecondsTimer(.5,.1,(function(){0==t.GetRestMillSeconds()&&t.TryStopRouterLogic()}),!1)},e.TryToReward=function(){if(1==c.Instance.HaveNextReward()){var t=c.Instance.GetWinResult();c.Instance.Data_CurrentTMjhlResult.mData=t,c.Instance.SyncDeleteLaneCount();for(var a=0;a<c.MAX_LANE;a++){var n=c.Instance.GetDeletePos(a);if(null!=n&&n.length>0)return c.Instance.Data_RewardFinishRouter.mData=0,c.Instance.Data_DeleteFinishRouter.mData=0,c.Instance.Data_ReadyToDeleteMJ.mData=0,c.Instance.Data_GameStatus.mData=r.TryToReward,!0}}c.Instance.Data_GameStatus.mData=r.CalculateTotalWin},e.TryToEnd=function(){c.Instance.Data_GameStatus.mData=r.Ending},e.CalculateTotalWin=function(){var t=this,a=c.Instance.GetCurrentBetConfig(),n=c.Instance.GetWinMoney(),e=c.GetRewardSize(a.mTotalAmount,n),o=c.Instance.GetExperience(),i=_.Instance.GetLevelByExp(o),s=G.CalcSpinExperience();if(s>0){c.Instance.ChangeExperience(s);var r=c.Instance.GetExperience();_.Instance.GetLevelByExp(r)>i&&u.Instance.ShowLayer("LevelPanel",y.Bunddle,y.PrefabPath,!0,(function(t){}))}e==m.None?(0==c.Instance.Data_FreeGameMode.mData&&c.Instance.MoneyChangeWith(n),this.TryToEnd()):(I.Instance.PlayBGMMusic("BigWinBGM",!0),u.Instance.ShowLayer("GameRewardShow",S.Bunddle,S.PrefabPath,!0,(function(e){e.InitWithData(n,a.mTotalAmount,(function(){0==c.Instance.Data_FreeGameMode.mData&&c.Instance.MoneyChangeWith(n),t.TryToEnd(),c.Instance.Data_FreeGameMode.mData?I.Instance.PlayBGMMusic("FreeGameBGM",!0):I.Instance.PlayBGMMusic("MainBGM",!0)}))})))},e.CheckFreeGameLogic=function(){var t=this,a=c.Instance.Data_FreeGameMode.mData,n=c.Instance.SyncTotalFreeGameCount(!a);if(a)if(n>0&&(c.Instance.Data_FreeGameInFreeGame.mData=!0,u.Instance.ShowLayer("GameNewFreeTips",h.Bunddle,h.PrefabPath,!0,(function(t){t.InitWithData(n)}))),c.Instance.GetFreeGameTotalCount()>0){var e=1;n>0&&(e+=2),this.StartSecondsTimer(e,.1,(function(){0==t.GetRestMillSeconds()&&(c.Instance.Data_UpdateBalance.mData=!0,c.Instance.Data_GameStatus.mData=r.Waiting,c.Instance.Data_StartBtnPress.mData=!0)}),!1)}else this.StartSecondsTimer(1.5,.1,(function(){0==t.GetRestMillSeconds()&&u.Instance.ShowLayer("GameWinResult",l.Bunddle,l.PrefabPath,!0,(function(t){var a=t,n=d.CommonWinMoney;a.InitWithData(n,(function(){c.Instance.Data_FreeGameMode.mData=!1,c.Instance.Data_UpdateBalance.mData=!0,c.Instance.Data_GameStatus.mData=r.Waiting,c.Instance.Data_AutoCountLeft.mData>0&&(c.Instance.Data_StartBtnPress.mData=!0)}))}))}),!1);else if(c.Instance.GetFreeGameTotalCount()>0)0==c.Instance.Data_AutoCountLeft.mData&&this.PlayIdleAnimation(),I.Instance.PlayEffectOneShot("GameName"),this.StartSecondsTimer(1.5,.1,(function(){0==t.GetRestMillSeconds()&&(d.CommonWinMoney=0,c.Instance.Data_UpdateBalance.mData=!0,c.Instance.Data_FreeGameMode.mData=!0)}),!1);else{var o=c.Instance.GetCurrentBetConfig();c.Instance.GetPlayerRestMoney()<o.mTotalAmount?(c.Instance.Data_AutoCountLeft.mData>0&&(c.Instance.Data_AutoCountLeft.mData=0),u.Instance.ShowToast(f.GetString("00005")),this.StopAutoFunction()):c.Instance.Data_AutoCountLeft.mData>0&&this.StartSecondsTimer(.3,.1,(function(){0==t.GetRestMillSeconds()&&c.Instance.Data_AutoCountLeft.mData>0&&(c.Instance.Data_StartBtnPress.mData=!0)}),!1),c.Instance.Data_UpdateBalance.mData=!0,c.Instance.Data_GameStatus.mData=r.Waiting}},e.PlayIdleAnimation=function(){this.mStartBtn.Show(!0),this.mStopAutoBtn.Show(!1),this.mSpine.SetAnimation("animation2",!0)},e.PlayAutoPlayingAnimation=function(t){var a=this;this.mStartBtn.Show(!1),this.mStopAutoBtn.Show(!0),this.mSpine.Hide();var n=t+1;1e3==n?this.mStopAutoBtn.SetFontSize(19):this.SetAutoFontSize(n),this.mAutoDelayTime>0?(this.mStopAutoBtn.SetTitle(n+""),this.scheduleOnce((function(){a.mStopAutoBtn.SetTitle(t+""),a.SetAutoFontSize(t)}),1)):(this.mStopAutoBtn.SetTitle(t+""),this.SetAutoFontSize(t)),this.mAutoDelayTime=0},e.SetAutoFontSize=function(t){t<10?this.mStopAutoBtn.SetFontSize(28):this.mStopAutoBtn.SetFontSize(24)},e.PlayNormalPlayingAnimation=function(){var t=this;this.mStartBtn.Show(!0),this.mStopAutoBtn.Show(!1),this.mSpine.SetAnimation("animation3",!1,(function(){t.mSpine.SetAnimation("animation5",!0)}))},e.StopAutoFunction=function(){1!=c.Instance.Data_FreeGameMode.mData&&(c.Instance.Data_AutoCountLeft.mData=0,c.Instance.Data_GameStatus.mData==r.Waiting?this.PlayIdleAnimation():this.mSpine.SetAnimation("animation5",!0))},n}(o)).PrefabPath="prefab/GameStartBtn",B.Bunddle="gamePage",A=B))||A);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameSubRouter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameConfig.ts","./GameData.ts","./GameItem.ts","./GameUI.ts","./Tool.ts","./SpineCtr.ts","./AudioManager.ts"],(function(t){var e,n,i,o,a,s,r,h,m,l,u,d,c,g,I;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.UITransform},function(t){a=t.BaseUI},function(t){s=t.GameConfig},function(t){r=t.GameData,h=t.GameStatus,m=t.ItemEnum,l=t.ItemConfig},function(t){u=t.GameItem},function(t){d=t.GameUI},function(t){c=t.Tool},function(t){g=t.SpineCtr},function(t){I=t.AudioManager}],execute:function(){var S,f;n._RF.push({},"05ce1SPRbhJipKr0PTPaKAi","GameSubRouter",void 0);var C=i.ccclass;i.property,t("GameSubRouter",C("GameSubRouter")(((f=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).mItemContainer=null,e.mSpine=null,e.mDark=null,e.mUIOffset=-15,e.mIndex=s.WrongIndex,e.mDeleteY=0,e.mItemHeight=0,e.mMoveSpeed=0,e.mUpdating=!1,e.mJustStarting=!1,e.mStartingFinished=!1,e.mStoping=!1,e.mStopingDeleteCount=0,e.mTrySlowingDown=!1,e.mFallingFinishCount=0,e.mDeleteCount=0,e.mNeedDeleteCount=0,e.mIsFastMode=!1,e.mNeedSlowDownMove=!1,e.mSlowDownRatio=3,e.mEndingPhase=0,e.mCurrentPhase=0,e.mAlreadyTryToStop=!1,e}e(n,t);var i=n.prototype;return i.InitParam=function(){this.mItemContainer=this.node.getChildByPath("ItemContainer"),this.mSpine=this.node.getChildByPath("Spine").getComponent(g),this.mDark=this.node.getChildByPath("Dark")},i.BindUI=function(){this.PlaySpine(!1)},i.RegDataNotify=function(){var t=this;r.Instance.Data_GameStatus.AddListenner(this,(function(e){if(e==h.StartScroll){t.ResetStatus(),t.mIsFastMode=r.Instance.Data_FastMode.mData,t.mUpdating=!0,t.mJustStarting=!0,t.mMoveSpeed=0;var n=.1*t.mIndex+.1;t.mIsFastMode?t.PlayStartAnm():(t.mCurrentPhase=1,t.StartSecondsTimer(n,.01,(function(){0==t.GetRestMillSeconds()&&t.PlayStartAnm()}),!1))}else e==h.TryToReward?t.TryToReward():e==h.TryFalling&&t.PreFallingDownMJ()})),r.Instance.Data_TryToStopLane.AddListenner(this,(function(e){if(e==t.mIndex){if(1==t.mAlreadyTryToStop)return;t.mAlreadyTryToStop=!0,t.PlayStartAnmEnd(),t.InsertServerItemAndStoping()}})),r.Instance.Data_FastModeOneTimeOnly.AddListenner(this,(function(e){1==e&&t.TrySuddenFastMode()}))},i.LateInit=function(){},i.CustmoerDestory=function(){},i.InitWithData=function(t){this.mIndex=t,this.ResetStatus();for(var e=this.GetInitConfig(),n=0;n<e.length;n++){var i=e[n];this.InsertOneItem(i,!1)}},i.InsertOneItem=function(t,e){var n=d.GetItemFromPool();0==this.mItemHeight&&(this.mItemHeight=n.node.getComponent(o).height);var i=this.mItemContainer.children.length,a=this.CalculateInsertPosY(i);this.mItemContainer.insertChild(n.node,0),n.node.setPosition(0,a),n.InitWithData(t,this.mIndex),n.ShowBlur(e)},i.CalculateInsertPosY=function(t){var e=0;0==t?(e=this.GetBottomPosY(),0==this.mDeleteY&&(this.mDeleteY=e-this.mItemHeight/2)):e=this.mItemContainer.children[0].getPosition().y+this.mItemHeight;return e},i.CalcualteFallingPosY=function(t){var e=this.GetBottomPosY();return 0==t?e:e+this.mItemHeight*t},i.GetBottomPosY=function(){return-this.mItemHeight/2-this.mItemHeight-this.mItemHeight+this.mUIOffset},i.PlayStartAnm=function(){var t=this;1!=this.mStartingFinished&&(this.mCurrentPhase=2,this.mMoveSpeed=200,this.StartSecondsTimer(.1,.01,(function(){t.GetRestMillSeconds()<=0&&t.PlayStartAnmEnd()}),!1))},i.PlayStartAnmEnd=function(){this.mStartingFinished=!0,0!=this.mJustStarting&&(this.mJustStarting=!1,this.mMoveSpeed=-2500,this.AllItemShowBlur(!0))},i.AllItemShowBlur=function(t){this.mIsFastMode&&(t=!1);for(var e=0;e<this.mItemContainer.children.length;e++){this.mItemContainer.children[e].getComponent(u).ShowBlur(t)}},i.InsertServerItemAndStoping=function(){var t=this;if(this.mNeedSlowDownMove=r.Instance.GetIsSlowDown(this.mIndex),this.mIsFastMode)return this.mNeedSlowDownMove=!1,this.FastModeDeleteLogic(),void(r.Instance.Data_TryToStopLane.mData=this.mIndex+1);0==this.mNeedSlowDownMove?this.StartStoping():(this.mCurrentPhase=3,this.PlaySpine(!0),this.StartSecondsTimer(4,.1,(function(){0==t.GetRestMillSeconds()&&t.StartStoping()}),!1))},i.PlaySpine=function(t){this.mDark.active=t,t?(I.Instance.PlaySlowDownEffect(!0),this.node.setSiblingIndex(r.MAX_LANE),this.mSpine.SetAnimation("animation",!0)):(this.node.setSiblingIndex(this.mIndex),this.mSpine.Hide())},i.StartStoping=function(){this.mCurrentPhase=4,this.mStoping=!0;for(var t=r.Instance.ItemList[this.mIndex],e=0;e<t.length;e++){var n=r.ConvertServerItemToLocal(t[e]);this.InsertOneItem(n,!0)}this.AllItemShowBlur(!1)},i.FastModeDeleteLogic=function(){for(;1!=this.mItemContainer.children.length;){var t=this.mItemContainer.children[0];if(d.RecycleItemToPool(t.getComponent(u)),0==this.mItemContainer.children.length)break}for(var e=r.Instance.ItemList[this.mIndex],n=0;n<e.length;n++){var i=r.ConvertServerItemToLocal(e[n]);this.InsertOneItem(i,!0)}this.AllItemShowBlur(!1),this.PlaySlowingDownPhase1()},i.ForceDeleteRestItem=function(){for(;this.mStopingDeleteCount!=n.MinItemCount-1;){var t=this.mItemContainer.children.length-1,e=this.mItemContainer.children[t];d.RecycleItemToPool(e.getComponent(u)),this.mStopingDeleteCount++}this.AllItemShowBlur(!1),this.PlaySlowingDownPhase1()},i.TrySuddenFastMode=function(){this.mIsFastMode=!0,this.PlaySpine(!1),0==this.mCurrentPhase||(1==this.mCurrentPhase?(this.StopSecondsTimer(),this.PlayStartAnm()):2==this.mCurrentPhase||(3==this.mCurrentPhase?(this.StopSecondsTimer(),this.mNeedSlowDownMove=!1,this.FastModeDeleteLogic()):4==this.mCurrentPhase?this.ForceDeleteRestItem():5==this.mCurrentPhase?(this.PlayRuningEnd(),0==this.mIndex&&I.Instance.PlayEffectOneShot("FastStop")):6==this.mCurrentPhase?(this.StopSecondsTimer(),this.TryToTriggerNextLaneWithSlowDownAnm()):10==this.mCurrentPhase?this.PlayRuningEnd():this.mCurrentPhase))},i.PlaySlowingDownPhase1=function(){(this.mTrySlowingDown=!0,this.mStoping=!1,this.mIsFastMode)?(this.PlayRuningEnd(),0==this.mIndex&&I.Instance.PlayEffectOneShot("FastStop")):(this.mCurrentPhase=5,this.mEndingPhase=1,this.mMoveSpeed=-1e3,0==r.Instance.GetIsSlowDown(this.mIndex)&&(r.Instance.Data_TryToStopLane.mData=this.mIndex+1))},i.PlayerSlowingDownPhase2=function(){this.mEndingPhase=2,this.mMoveSpeed=500,I.Instance.PlayEffectOneShot("StopRoll"),this.mCurrentPhase=10},i.PlayRuningEnd=function(){var t=this;this.mUpdating=!1,this.mMoveSpeed=0,this.mEndingPhase=0,this.mTrySlowingDown=!1;for(var e=this.mItemContainer.children.length,n=!1,i=0;i<e;i++){var o=this.mItemContainer.children[i],a=o.getPosition(),s=e-i-1,h=this.CalcualteFallingPosY(s);if(a.y=h,o.setPosition(a),s>=1&&s<=4){var l=o.getComponent(u);l.mItemConfig.mType==m.Hu&&(l.PlayHuAppearAnm(),n=!0)}}if(this.AllItemShowBlur(!1),this.mIsFastMode)this.PlaySpine(!1),r.Instance.Data_RuningRouter.mData-=1,r.Instance.Data_TryToStopLane.mData=this.mIndex+1;else{var d=.1;1==this.mNeedSlowDownMove&&(d=.5,n?I.Instance.PlayEffectOneShot("SlowDownHu"):I.Instance.PlayEffectOneShot("SlowDownNoHu")),this.mCurrentPhase=6,this.StartSecondsTimer(d,.01,(function(){0==t.GetRestMillSeconds()&&t.TryToTriggerNextLaneWithSlowDownAnm()}),!1)}},i.TryToTriggerNextLaneWithSlowDownAnm=function(){this.mCurrentPhase=7,this.PlaySpine(!1),r.Instance.Data_RuningRouter.mData-=1;var t=this.mIndex+1;r.Instance.GetIsSlowDown(t)&&(r.Instance.Data_TryToStopLane.mData=t)},i.CalculateTypeNum=function(t){for(var e=new Array,n=m.BaiDa;n<=m.Tiao2;n++)e.push(0);for(var i=0;i<t.length;i++){e[t[i].mType]+=1}for(var o=0,a=0;a<e.length;a++){e[a]>0&&o++}return o},i.CalculateType=function(t){for(var e=new Array,n=m.BaiDa;n<=m.Tiao2;n++)e.push(0);for(var i=0;i<t.length;i++){var o=t[i].mType;o!=m.BaiDa&&(e[o]+=1)}return e},i.TryToReward=function(){var t=this,e=r.Instance.GetDeletePos(this.mIndex);if(null!=e&&e.length>0){this.mDeleteCount=0,this.mNeedDeleteCount=e.length;for(var n=new Array,i=0;i<e.length;i++){var o=this.mItemContainer.children.length-e[i]-1-1,a=this.mItemContainer.children[o].getComponent(u),s=a.node.getWorldPosition(),h=a.GetConfig(),m=new l(h.mType,h.mGolden);m.SetWorldPos(s),n.push(m),a.PrepareToDelete((function(){t.CountDelete()}),!0)}if(r.Instance.Data_DeleteConfig.mData=n,r.Instance.Data_ReadyToDeleteMJ.mData+=1,0==this.mIndex){if(this.CalculateTypeNum(n)>=3)I.Instance.PlayDeleteAll();else for(var d=this.CalculateType(n),c=0,g=0,S=function(){var e=d[c],n=.5*g,i=c;e>0&&(t.scheduleOnce((function(){I.Instance.PlayDelete(i)}),n),g++),c++};c<d.length;)S();var f=r.Instance.Data_CurrentRewardStep.mData;f>3&&(f=3);var C="BeforeDelete"+f;I.Instance.PlayEffectOneShot(C)}}else r.Instance.Data_DeleteFinishRouter.mData+=1},i.CountDelete=function(){this.mDeleteCount++,this.mNeedDeleteCount==this.mDeleteCount&&(r.Instance.Data_DeleteFinishRouter.mData+=1)},i.NeedShake=function(){return!this.mIsFastMode&&!(r.Instance.Data_CurrentRatio.mData<r.RewardRatioConfig.length-1)},i.PreFallingDownMJ=function(){for(var t=this,e=0;e<this.mItemContainer.children.length;){var n=this.mItemContainer.children[e].getComponent(u);n.mNeedDelete?d.RecycleItemToPool(n):e++}if(this.NeedShake()){for(var i=0;i<this.mItemContainer.children.length;i++){this.mItemContainer.children[i].getComponent(u).PlayShake()}this.StartSecondsTimer(.5,.1,(function(){0==t.GetRestMillSeconds()&&t.ExcutiveFall(!0)}),!1)}else this.ExcutiveFall(!1)},i.ExcutiveFall=function(t){var e=this;this.mFallingFinishCount=0;var n,i=this.mItemContainer.children.length;if(this.mIsFastMode)n=0;else{var o=r.Instance.GetFallOrder(this.mIndex);n=o==s.WrongIndex?0:.03*o}this.StartSecondsTimer(.01+n,.01,(function(){if(0==e.GetRestMillSeconds())for(var n=0;n<i;n++){var o=e.mItemContainer.children[n],a=i-n-1,s=o.getComponent(u);t&&s.EndShake();var r=e.CalcualteFallingPosY(a);s.PlayFallingAnm(r,e.FallingFinishCallback.bind(e))}}),!1)},i.FallingFinishCallback=function(){this.mFallingFinishCount++,this.mFallingFinishCount==this.mItemContainer.children.length&&(r.Instance.Data_RewardFinishRouter.mData+=1)},i.ResetStatus=function(){this.PlaySpine(!1),this.mJustStarting=!1,this.mStartingFinished=!1,this.mNeedDeleteCount=0,this.mDeleteCount=0,this.mMoveSpeed=0,this.mStopingDeleteCount=0,this.mUpdating=!1,this.mTrySlowingDown=!1,this.mStoping=!1,this.mFallingFinishCount=0,this.mNeedSlowDownMove=!1,this.mEndingPhase=0,this.mCurrentPhase=0,this.mAlreadyTryToStop=!1},i.update=function(t){if(0!=this.mUpdating&&(t>=.05&&(t=.05),r.Instance.Data_GameStatus.mData==h.StartScroll||this.mStoping||this.mTrySlowingDown))if(this.MoveLogic(t),0==this.mTrySlowingDown)this.CreateAndDeleteLogic();else{if(0==this.mEndingPhase)return;var e=this.mItemContainer.children.length,n=this.mItemContainer.children[e-1].getPosition().y;if(1==this.mEndingPhase)n<=this.GetBottomPosY()-this.mItemHeight/4&&this.PlayerSlowingDownPhase2();else if(2==this.mEndingPhase){n>=this.GetBottomPosY()&&this.PlayRuningEnd()}}},i.MoveLogic=function(t){var e=this.mMoveSpeed;this.mNeedSlowDownMove&&(e/=this.mSlowDownRatio);for(var n=e*t,i=0;i<this.mItemContainer.children.length;i++){var o=this.mItemContainer.children[i],a=o.getPosition();a.y+=n,o.setPosition(a)}},i.CreateAndDeleteLogic=function(){for(var t=0;t<this.mItemContainer.children.length;){var e=this.mItemContainer.children[t];e.getPosition().y<=this.mDeleteY?(d.RecycleItemToPool(e.getComponent(u)),this.mStoping&&this.mStopingDeleteCount++):t++}if(this.mStoping)this.mStopingDeleteCount==n.MinItemCount-1&&this.PlaySlowingDownPhase1();else for(;this.mItemContainer.children.length<n.MinItemCount;){var i=this.GetRandomItemConfig();this.InsertOneItem(i,!0)}},i.GetRandomItemConfig=function(){var t=0,e=!1;return c.Random(0,100)<10?t=m.Hu:(t=c.Random(2,9),0!=this.mIndex&&4!=this.mIndex&&(e=0==c.Random(0,10))),new l(t,e)},i.GetInitConfig=function(){return 0==this.mIndex?[new l(m.Tiao2,!1),new l(m.Tiao2,!1),new l(m.Tong2,!1),new l(m.Tiao5,!1),new l(m.Tong5,!1),new l(m.Tiao5,!1)]:1==this.mIndex?[new l(m.Fa,!1),new l(m.Wan8,!1),new l(m.Hu,!1),new l(m.Zhong,!0),new l(m.Fa,!1),new l(m.Zhong,!1)]:2==this.mIndex?[new l(m.Zhong,!1),new l(m.BaiDa,!1),new l(m.Tong2,!1),new l(m.Tiao5,!1),new l(m.BaiDa,!1),new l(m.Tiao5,!1)]:3==this.mIndex?[new l(m.Tong2,!1),new l(m.Wan8,!1),new l(m.BaiBan,!0),new l(m.Hu,!1),new l(m.Fa,!1),new l(m.Zhong,!1)]:4==this.mIndex?[new l(m.Wan8,!1),new l(m.Tiao2,!1),new l(m.Tong2,!1),new l(m.Tiao5,!1),new l(m.Tong5,!1),new l(m.Tiao5,!1)]:void 0},n}(a)).PrefabPath="prefab/GameSubRouter",f.Bunddle="gamePage",f.MinItemCount=6,S=f))||S);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameTop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./ToggleBtn.ts","./GameData.ts","./TableMgr.ts","./SpineCtr.ts","./AudioManager.ts","./GameConfig.ts","./UIMgr.ts","./WeekTaskPanel.ts","./AddMainRewardPanel.ts","./AddMainRewardService.ts","./AddMainDayRewardGuidePanel.ts","./AddMainDayRewardPanel.ts","./AddMainDayRewardResultPanel.ts","./AddMainDailyRewardService.ts","./TaskPanel.ts"],(function(t){var n,e,a,i,o,r,s,d,c,l,u,h,m,p,f,y,B,g,v,C,I,S,T,P,R,L;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,i=t.Button,o=t.Label,r=t.Sprite,s=t.UIOpacity,d=t.Tween,c=t.Vec3},function(t){l=t.BaseUI},function(t){u=t.ToggleBtn},function(t){h=t.GameData,m=t.GameStatus},function(t){p=t.TableMgr},function(t){f=t.SpineCtr},function(t){y=t.AudioManager},function(t){B=t.GameConfig},function(t){g=t.UIMgr},function(t){v=t.WeekTaskPanel},function(t){C=t.AddMainRewardPanel},function(t){I=t.AddMainRewardService},function(t){S=t.AddMainDayRewardGuidePanel},function(t){T=t.AddMainDayRewardPanel},function(t){P=t.AddMainDayRewardResultPanel},function(t){R=t.AddMainDailyRewardService},function(t){L=t.TaskPanel}],execute:function(){var D,w;e._RF.push({},"2e6c0tXOmBBBritStCZbjss","GameTop",void 0);var A=a.ccclass;a.property,t("GameTop",A("GameTop")(((w=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).mLayout=null,n.mBonusBG=null,n.mLayoutBonus=null,n.mSpineNode=null,n.btnDaily=void 0,n.btnReward=void 0,n.btnToMain=void 0,n.ksCoin=void 0,n.level=void 0,n.levelSlider=void 0,n}n(e,t);var a=e.prototype;return a.InitParam=function(){this.mSpineNode=this.node.getChildByPath("TopBG1/SpineNode"),this.mLayout=this.node.getChildByPath("TopBG1/Layout"),this.mBonusBG=this.node.getChildByPath("TopBG1/BonusTopBG"),this.mLayoutBonus=this.node.getChildByPath("TopBG1/LayoutBonus"),this.btnDaily=this.node.getChildByPath("TopRight/ButtonDaily").getComponent(i),this.btnDaily.node.on(i.EventType.CLICK,this.OnBtnDailyClick,this),this.btnReward=this.node.getChildByPath("TopRight/ButtonReward").getComponent(i),this.btnReward.node.on(i.EventType.CLICK,this.OnBtnRewardClick,this),this.btnToMain=this.node.getChildByPath("TopLeft/ButtonAddToMain").getComponent(i),this.btnToMain.node.on(i.EventType.CLICK,this.OnBtnToMainClick,this),this.ksCoin=this.node.getChildByPath("TopLeft/Coin/CoinLabel").getComponent(o),this.level=this.node.getChildByPath("TopLeft/Level/LevelLabel").getComponent(o),this.levelSlider=this.node.getChildByPath("TopLeft/Level/Sprite").getComponent(r)},a.BindUI=function(){for(var t=0;t<this.mLayout.children.length;t++){var n=this.mLayout.children[t].getComponent(u);n.SetDataNotify(h.Instance.Data_CurrentRewardRatioIndex,t),n.SetInteractable(!1)}for(var e=0;e<this.mLayoutBonus.children.length;e++){var a=this.mLayoutBonus.children[e].getComponent(u);a.SetDataNotify(h.Instance.Data_CurrentBonusRewardRatioIndex,e),a.SetInteractable(!1)}this.mBonusBG.active=!1,this.mLayoutBonus.active=!1,h.Instance.Data_CurrentRewardRatioIndex.mData=0,h.Instance.Data_CurrentBonusRewardRatioIndex.mData=0},a.OnBtnDailyClick=function(){g.Instance.ShowLayer("TaskPanel",L.Bunddle,L.PrefabPath)},a.OnBtnWeekClick=function(){g.Instance.ShowLayer("WeekTaskPanel",v.Bunddle,v.PrefabPath)},a.OnBtnRewardClick=function(){var t=I.Instance,n=R.Instance;n.refreshLaunchSource(),t.isAddedToMain()?n.IsLaunchFromShortcut()?g.Instance.ShowLayer("AddMainDayRewardPanel",T.Bunddle,T.PrefabPath):g.Instance.ShowLayer("AddMainDayRewardResultPanel",P.Bunddle,P.PrefabPath,!0,(function(t){t&&(t.mParam={reason:"notShortcut"})})):g.Instance.ShowLayer("AddMainDayRewardGuidePanel",S.Bunddle,S.PrefabPath)},a.OnBtnToMainClick=function(){g.Instance.ShowLayer("AddMainRewardPanel",C.Bunddle,C.PrefabPath)},a.RegDataNotify=function(){var t=this;this.UpdateTopBalance(),this.UpdateTopLevel(),this.UpdateAddToMainButtonVisibility(),h.Instance.Data_UpdateKsCoin.AddListenner(this,(function(n){t.UpdateTopBalance()})),h.Instance.Data_UpdateExperience.AddListenner(this,(function(n){t.UpdateTopLevel()})),I.Instance.Data_ShowAddToMainButton.AddListenner(this,(function(n){t.UpdateAddToMainButtonVisibility()})),h.Instance.Data_FreeGameMode.AddListenner(this,(function(n){if(0==n){t.mBonusBG.active=!1,t.mLayoutBonus.active=!1;for(var e=0;e<t.mLayoutBonus.children.length;e++){t.mLayoutBonus.children[e].getComponent(s).opacity=0}for(var a=0;a<t.mLayout.children.length;a++){t.mLayout.children[a].getComponent(s).opacity=255}}})),h.Instance.Data_GameStatus.AddListenner(this,(function(n){n==m.StartScroll?(h.Instance.Data_CurrentRewardRatioIndex.mData=0,h.Instance.Data_CurrentBonusRewardRatioIndex.mData=0):n==m.Ending&&t.HideAllSpine()})),h.Instance.Data_CurrentRatio.AddListenner(this,(function(n){if(n!=B.WrongIndex){var e=0,a=0,i=!0,o=!1;if(h.Instance.Data_FreeGameMode.mData?(e=h.Instance.SelectFreeGameRewardRatio(),a=h.Instance.GetCurrentBonusRewardRatio(e),y.Instance.PlayRatio(a),0==e&&(i=!1)):0!=(e=h.Instance.SelectRewardRatio())?(a=h.Instance.GetCurrentRewardRatio(e),y.Instance.PlayRatio(a)):(i=!1,o=!0),0!=e){var r="RatioIndex"+e;y.Instance.PlayEffectOneShot(r)}0==o&&t.PlayerSpineEffect(e,i)}})),h.Instance.Data_StartTopAnmToFreeGame.AddListenner(this,(function(n){if(1==n){h.Instance.Data_CurrentRewardRatioIndex.mData=B.WrongIndex,h.Instance.Data_CurrentRatio.mData=B.WrongIndex,t.mBonusBG.active=!0,t.mBonusBG.getComponent(s).opacity=0,t.mLayoutBonus.active=!0;for(var e=0;e<t.mLayoutBonus.children.length;e++){t.mLayoutBonus.children[e].getComponent(s).opacity=0}for(var a=0;a<t.mLayout.children.length;a++){t.mLayout.children[a].getComponent(s).opacity=255}y.Instance.PlayEffectOneShot("ChangeToFreeRatio");var i=0;t.PlayTransferAnm(i),i++,t.StartSecondsTimer(1,.3,(function(){t.PlayTransferAnm(i),4==++i&&(t.StopSecondsTimer(),t.StartShowFreeBGAnm())}))}}))},a.LateInit=function(){},a.CustmoerDestory=function(){},a.UpdateRatio=function(){},a.UpdateTopBalance=function(){if(this.ksCoin){var t=h.Instance.GetKsCoin();this.ksCoin.string=String(t)}},a.UpdateTopLevel=function(){if(this.level){var t=h.Instance.GetExperience(),n=p.Instance.GetLevelByExp(t);this.level.string=String(n),this.levelSlider.fillRange=p.Instance.GetLevelProgressByExp(t)}},a.UpdateAddToMainButtonVisibility=function(){if(this.btnToMain){var t=I.Instance.Data_ShowAddToMainButton.mData;this.btnToMain.node.active=!t}},a.StartShowFreeBGAnm=function(){var t=this.mBonusBG.getComponent(s),n=new d(t);n.to(.5,{opacity:255}),n.start(),h.Instance.Data_EndTopAnmToFreeGame.mData=!0,h.Instance.Data_StartTopAnmToFreeGame.mData=!1},a.PlayTransferAnm=function(t){this.PlayerSpineEffect(t,!1);var n=this.mLayout.children[t],e=this.mLayoutBonus.children[t];this.PopAnm(n,!1),this.PopAnm(e,!0)},a.PopAnm=function(t,n){t.setScale(new c(1,1,1));var e=new d(t);e.to(.15,{scale:new c(1.2,1.2,1.2)}),e.to(.075,{scale:c.ONE}),e.start();var a=t.getComponent(s);if(n){var i=new d(a);i.to(.5,{opacity:255}),i.start()}else{var o=new d(a);o.to(.5,{opacity:0}),o.start()}},a.PlayerSpineEffect=function(t,n){for(var e=this,a=function(){var a=e.mSpineNode.children[i].getComponent(f);t==i?n?a.SetAnimation("animation",!0):a.SetAnimation("animation",!1,(function(){a.Hide()})):a.Hide()},i=0;i<this.mSpineNode.children.length;i++)a()},a.HideAllSpine=function(){for(var t=0;t<this.mSpineNode.children.length;t++){this.mSpineNode.children[t].getComponent(f).Hide()}},e}(l)).PrefabPath="prefab/GameTop",w.Bunddle="gamePage",D=w))||D);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./GameTop.ts","./GameBottomUI.ts","./UIMgr.ts","./GameControlBtn.ts","./GameData.ts","./GameMenu.ts","./GameAutoSetting.ts","./GameBonusUI.ts","./GameRouterUI.ts","./GameItem.ts","./GameFreeGameEnter.ts","./AudioManager.ts","./GameWallet.ts","./GameBetSelect.ts","./GameHistory.ts","./GameMoneyInfoUI.ts"],(function(t){var e,n,a,o,r,u,s,i,m,c,l,I,G,f,d,P,h,B,y,S,U,D,C,p,M;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,o=t.input,r=t.Input,u=t.KeyCode},function(t){s=t.BaseUI},function(t){i=t.GameTop},function(t){m=t.GameBottomUI},function(t){c=t.UIMgr},function(t){l=t.GameControlBtn},function(t){I=t.GameData,G=t.BottomUIEnum,f=t.GameStatus},function(t){d=t.GameMenu},function(t){P=t.GameAutoSetting},function(t){h=t.GameBonusUI},function(t){B=t.GameRouterUI},function(t){y=t.GameItem},function(t){S=t.GameFreeGameEnter},function(t){U=t.AudioManager},function(t){D=t.GameWallet},function(t){C=t.GameBetSelect},function(t){p=t.GameHistory},function(t){M=t.GameMoneyInfoUI}],execute:function(){var v,A;n._RF.push({},"b0584hI/IxApLl14TWRteu8","GameUI",void 0);var g=a.ccclass;a.property,t("GameUI",g("GameUI")(((A=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).mRouterContainer=null,e.mBaseControlUI=null,e}e(n,t),n.CreateItemPool=function(t,e){n.ItemPool=new Array;for(var a=0,o=0;o<t;o++)c.Instance.CreatePrefab("GameItem",y.Bunddle,y.PrefabPath,(function(o){var r=o.getComponent(y);n.ItemPool.push(r),a++,r.TryPreload(),null!=e&&e(a==t)}))},n.GetItemFromPool=function(){if(0==n.ItemPool.length)return console.log("循环pool 内容不够了"),null;var t=n.ItemPool[0];return n.ItemPool.splice(0,1),t},n.RecycleItemToPool=function(t){t.ResetUI(!0),t.node.removeFromParent(),n.ItemPool.push(t)},n.ClearPool=function(){for(var t=n.GetItemFromPool();null!=t;)t.DeleteSelf(),t=n.GetItemFromPool()};var a=n.prototype;return a.InitParam=function(){this.mRouterContainer=this.node.getChildByPath("RouterContainer"),this.mBaseControlUI=this.node.getChildByPath("BaseControlUI"),U.Instance.MuteAll(!!I.Instance.GetPlayerInfo().mute)},a.BindUI=function(){1==I.Instance.Data_FreeGameMode.mData?M.CommonWinMoney=I.Instance.GetGameInfo().havewin:M.CommonWinMoney=0,this.AddSubView("GameTop",i.Bunddle,i.PrefabPath,null,this.mBaseControlUI),this.AddSubView("GameBottomUI",m.Bunddle,m.PrefabPath,null,this.mBaseControlUI),this.AddSubView("GameRouterUI",B.Bunddle,B.PrefabPath,null,this.mRouterContainer),I.Instance.Data_BottomUIEnum.mData=G.PlayingUI,I.Instance.Data_GameStatus.mData=f.Waiting,U.Instance.PlayBGMMusic("MainBGM",!0),this.KeyBoardEvent()},a.RegDataNotify=function(){var t=this;I.Instance.Data_BottomUIEnum.AddListenner(this,(function(e){t.HideBottomOptionUI(),e==G.AutoSettingUI?c.Instance.ShowLayer("GameAutoSetting",P.Bunddle,P.PrefabPath):e==G.MenuUI?c.Instance.ShowLayer("GameMenu",d.Bunddle,d.PrefabPath):e==G.PlayingUI&&c.Instance.ShowLayer("GameControlBtn",l.Bunddle,l.PrefabPath)})),I.Instance.Data_FreeGameMode.AddListenner(this,(function(e){e?1==t.mStartAlreadyRun?c.Instance.ShowLayer("GameFreeGameEnter",S.Bunddle,S.PrefabPath,!0,(function(t){var e=t,n=I.Instance.GetFreeGameTotalCount();e.InitWithData(n,(function(){I.Instance.Data_StartTopAnmToFreeGame.mData=!0,c.Instance.ShowLayer("GameBonusUI",h.Bunddle,h.PrefabPath,!0)}))})):(I.Instance.Data_StartTopAnmToFreeGame.mData=!0,c.Instance.ShowLayer("GameBonusUI",h.Bunddle,h.PrefabPath,!0),I.Instance.Data_UpdateFreeTimes.mData=!0):(c.Instance.ShowLayer("GameBonusUI",h.Bunddle,h.PrefabPath,!1),U.Instance.PlayBGMMusic("MainBGM",!0))})),I.Instance.Data_EndTopAnmToFreeGame.AddListenner(this,(function(e){1==e&&t.DelayToStartBet()}))},a.LateInit=function(){this.scheduleOnce((function(){c.Instance.ShowStaticUI(!1)}),.5)},a.CustmoerDestory=function(){U.Instance.MuteAll(!1),U.Instance.StopAll(),n.ClearPool(),I.Instance.Clear()},a.DelayToStartBet=function(){var t=this;this.StartSecondsTimer(1,1,(function(){0==t.GetRestSeconds()&&(I.Instance.Data_GameStatus.mData=f.Waiting,I.Instance.Data_EndTopAnmToFreeGame.mData=!1,I.Instance.Data_StartBtnPress.mData=!0)}),!1),U.Instance.PlayBGMMusic("FreeGameBGM",!0)},a.HideBottomOptionUI=function(){c.Instance.ShowLayer("GameAutoSetting",P.Bunddle,P.PrefabPath,!1),c.Instance.ShowLayer("GameMenu",d.Bunddle,d.PrefabPath,!1),c.Instance.ShowLayer("GameControlBtn",l.Bunddle,l.PrefabPath,!1)},a.KeyBoardEvent=function(){var t=this;o.on(r.EventType.KEY_DOWN,(function(e){switch(e.keyCode){case u.SPACE:t.CanClickSpace()&&(I.Instance.Data_StartBtnPress.mData=!0)}}),this),o.on(r.EventType.KEY_PRESSING,(function(e){switch(e.keyCode){case u.SPACE:t.CanClickSpace()&&(I.Instance.Data_StartBtnPress.mData=!0)}}),this)},a.CanClickSpace=function(){var t=c.Instance.GetLayer(D.Bunddle,D.PrefabPath);if(null!=t&&1==t.active)return!1;var e=c.Instance.GetLayer(C.Bunddle,C.PrefabPath);if(null!=e&&1==e.active)return!1;var n=c.Instance.GetLayer(p.Bunddle,p.PrefabPath);return(null==n||1!=n.active)&&(I.Instance.Data_BottomUIEnum.mData!=G.MenuUI&&I.Instance.Data_BottomUIEnum.mData!=G.AutoSettingUI)},n}(s)).PrefabPath="prefab/GameUI",A.Bunddle="gamePage",A.RecyclePoolCount=300,A.ItemPool=void 0,v=A))||v);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameWallet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./MovingShow.ts","./GameData.ts","./Tool.ts","./BaseButton.ts"],(function(t){var n,o,e,i,a,s,h,l,u,c,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Label,a=t.Node},function(t){s=t.BaseUI},function(t){h=t.MovingShow,l=t.AnimationShowType},function(t){u=t.GameData},function(t){c=t.Tool},function(t){r=t.BaseButton}],execute:function(){var m,f;o._RF.push({},"b83fdxqDUNEVqhE5DV1rOCA","GameWallet",void 0);var g=e.ccclass;e.property,t("GameWallet",g("GameWallet")(((f=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).mMovingShow=null,n.mTouchCloseBG=null,n.mCloseBtn=null,n.mAmount=null,n}n(o,t);var e=o.prototype;return e.Show=function(t){t?this.node.active=!0:this.mMovingShow.HideAnimation()},e.InitParam=function(){this.mCloseBtn=this.node.getChildByPath("MovingShow/CloseBtn").getComponent(r),this.mAmount=this.node.getChildByPath("MovingShow/SubBG/Amount").getComponent(i),this.mTouchCloseBG=this.node.getChildByPath("TouchToCloseBG"),this.mMovingShow=this.node.getChildByPath("MovingShow").getComponent(h)},e.BindUI=function(){var t=this;this.mCloseBtn.SetClickCallback((function(){t.Show(!1)})),this.mTouchCloseBG.on(a.EventType.TOUCH_END,(function(){t.Show(!1)}),this),this.mMovingShow.SetAnimationType(l.FromBottom),this.mMovingShow.SetRoot(this.node)},e.RegDataNotify=function(){var t=this;u.Instance.Data_UpdateBalance.AddListenner(this,(function(n){t.mAmount.string=c.ConvertMoneyToString(u.Instance.GetPlayerInfo().balance)}))},e.LateInit=function(){},e.CustmoerDestory=function(){},o}(s)).PrefabPath="prefab/GameWallet",f.Bunddle="gamePage",m=f))||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameWinResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./SpineCtr.ts","./BaseButton.ts","./Tool.ts","./AudioManager.ts","./GameData.ts"],(function(t){var n,e,i,o,a,s,h,r,m,l,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Label,a=t.Tween},function(t){s=t.BaseUI},function(t){h=t.SpineCtr},function(t){r=t.BaseButton},function(t){m=t.Tool},function(t){l=t.AudioManager},function(t){u=t.GameData}],execute:function(){var c,S;e._RF.push({},"977c3bB4PtHXL80s3rrn5bs","GameWinResult",void 0);var B=i.ccclass;i.property,t("GameWinResult",B("GameWinResult")(((S=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).mAmount=null,n.mStartBtn=null,n.mBtnShow=null,n.mBtnSpine=null,n.mCloseCallback=null,n.mTotalWin=0,n.mTween=void 0,n.mStartBtnShow=!1,n.mEnded=!1,n}n(e,t);var i=e.prototype;return i.InitParam=function(){this.mAmount=this.node.getChildByPath("Amount").getComponent(o),this.mStartBtn=this.node.getChildByPath("StartBtn").getComponent(r),this.mBtnSpine=this.node.getChildByPath("BtnSpine").getComponent(h),this.mBtnShow=this.node.getChildByPath("BtnShow").getComponent(r),this.mBtnSpine.Hide(),this.mStartBtn.Show(!1),this.mStartBtn.SetMute(!0)},i.BindUI=function(){var t=this;this.mStartBtn.SetClickCallback((function(){t.TryEnd()})),this.mBtnShow.SetClickCallback((function(){t.ForceShowStartBtn()}))},i.RegDataNotify=function(){},i.LateInit=function(){},i.CustmoerDestory=function(){this.mCloseCallback=null},i.InitWithData=function(t,n){var e=this;this.mBtnShow.Show(!0),this.StopTween(),this.mTotalWin=t,u.Instance.Data_SyncFreeTotalWin.mData=t,this.mAmount.string="0.00",this.mCloseCallback=n,this.mEnded=!1,this.mStartBtnShow=!1,l.Instance.PlayBGMMusic("FreeGameResult");this.mTween=new a({a:0});var i=5;0==this.mTotalWin&&(i=1),this.mTween.to(i,{a:100},{progress:function(t,n,i,o){var a=Math.round(n*o),s=e.mTotalWin*o;return e.mAmount.string=m.ConvertMoneyToString(s),a}}),this.mTween.call((function(){e.ShowStartBtn()})),this.mTween.start()},i.StopTween=function(){null!=this.mTween&&this.mTween.stop(),this.mTween=null},i.ForceShowStartBtn=function(){this.mBtnShow.Show(!1),1!=this.mStartBtnShow&&(this.StopTween(),this.mAmount.string=m.ConvertMoneyToString(this.mTotalWin),this.ShowStartBtn())},i.ShowStartBtn=function(){var t=this;this.mStartBtnShow=!0,this.mBtnSpine.SetAnimation("animation",!1,(function(){t.mStartBtn.Show(!0)})),this.StartSecondsTimer(3,1,(function(){0==t.GetRestSeconds()&&t.TryEnd()}))},i.TryEnd=function(){var t=this;1!=this.mEnded&&(l.Instance.PlayEffectOneShot("FreeGetRewardBtn"),this.mEnded=!0,this.mStartBtn.Show(!1),this.StopSecondsTimer(),this.mBtnSpine.SetAnimation("animation2",!1,(function(){null!=t.mCloseCallback&&t.mCloseCallback(),t.Show(!1)})))},e}(s)).PrefabPath="prefab/GameWinResult",S.Bunddle="gamePage",c=S))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/Group.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.ts"],(function(i){var e,t,n;return{setters:[function(i){e=i.createClass},function(i){t=i.cclegacy},function(i){n=i.StretchDirection}],execute:function(){t._RF.push({},"8ca58BAHCZJa4rR4T/+6e0k","Group",void 0);i("Group",function(){function i(i){this._adapter=void 0,this._index=-1,this._models=[],this._size={x:0,y:0},this._oldSize={x:0,y:0},this._anchorPoint={x:.5,y:.5},this._position={x:0,y:0},this._oldPosition={x:0,y:0},this._totalMinSize={x:0,y:0},this._totalPreferredSize={x:0,y:0},this._totalFlexibleSize={x:0,y:0},this._isFixed=!1,this._fixedIndex=-1,this._adapter=i,this.internal_reset()}var t=i.prototype;return t.findModelIndex=function(i){return this.models.findIndex((function(e){return e.index==i}))},t.internal_reset=function(){this._models=[],this._size={x:0,y:0},this._oldSize={x:0,y:0},this._anchorPoint={x:.5,y:.5},this._position={x:0,y:0},this._oldPosition={x:0,y:0},this._totalMinSize={x:0,y:0},this._totalPreferredSize={x:0,y:0},this._totalFlexibleSize={x:0,y:0},this._isFixed=!1,this._fixedIndex=-1,this._setAnchorPoint()},t.internal_setPosition=function(i){var e=this.adapter.mainAxis;this.oldPosition[e]=this.position[e],this.position[e]=i},t.internal_setIndex=function(i){this._index=i},t.internal_insert=function(i,e,t){e.internal_reset();var n=this.models;if(this.internal_reset(),this._fixedIndex=i.fixedIndex,!t)for(var s=0;s<n.length;s++){var r=n[s];if(!(r.index<i.modelIndex))break;if(!this._insertHandler(r,e))return i.modelIndex=r.index,i.fixedIndex=this.isFixed?this.index:i.fixedIndex,!0}for(var o=i.modelIndex;o<this.adapter.modelManager.length;o++){var a=this.adapter.modelManager.get(o);if(!this._insertHandler(a,e))return i.modelIndex=a.index,i.fixedIndex=this.isFixed?this.index:i.fixedIndex,a.index}return!1},t.internal_includes=function(i){for(var e,t=this,n=function(){var e=i[s];if(-1!=t.models.findIndex((function(i){return i.data==e})))return{v:!0}},s=0;s<i.length;s++)if(e=n())return e.v;return!1},t._insertHandler=function(i,e){if(e.internal_isWrap(i,this))return e.internal_reset(),!1;e.internal_push(i),i.element.fixed&&(this._isFixed=!0,this._fixedIndex=-1);var t=this.adapter.mainAxis,n=this.adapter.crossAxis;return(!i.element.ignoreLayout||i.element.ignoreLayout&&i.element.placeholder)&&(this.size[t]=Math.max(this.size[t],i.size[t]*i.scale[t])),this.size[n]=this.adapter.crossAxisSize,this.oldSize[t]=this.size[t],this.oldSize[n]=this.size[n],this.models.push(i),!0},t._setAnchorPoint=function(){switch(this.adapter.viewManager.stretchDirection){case n.Center:this.anchorPoint[this.adapter.mainAxis]=.5;break;case n.Header:this.anchorPoint[this.adapter.mainAxis]=1-this.adapter.mainAxisAnchorPoint;break;default:this.anchorPoint[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint}},e(i,[{key:"adapter",get:function(){return this._adapter}},{key:"index",get:function(){return this._index}},{key:"models",get:function(){return this._models}},{key:"size",get:function(){return this._size}},{key:"oldSize",get:function(){return this._oldSize}},{key:"anchorPoint",get:function(){return this._anchorPoint}},{key:"position",get:function(){return this._position}},{key:"oldPosition",get:function(){return this._oldPosition}},{key:"totalMinSize",get:function(){return this._totalMinSize}},{key:"totalPreferredSize",get:function(){return this._totalPreferredSize}},{key:"totalFlexibleSize",get:function(){return this._totalFlexibleSize}},{key:"isFixed",get:function(){return this._isFixed}},{key:"fixedIndex",get:function(){return this._fixedIndex}}]),i}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Heartbeat.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,o,a,s,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,s=e._decorator,c=e.director,l=e.Node,u=e.Component}],execute:function(){var d,f,h,b,p,m,g,_,y,L;a._RF.push({},"68a1cWFmadEhIwT5IHzJtGa","Heartbeat",void 0);var v=s.ccclass,H=s.property;e("Heartbeat",(d=v("Heartbeat"),f=H({tooltip:"全局开关：关闭后不再分发任何心跳"}),h=H({tooltip:"每帧心跳开关"}),b=H({tooltip:"每秒心跳开关"}),d(((L=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"enabledGlobal",g,i(t)),r(t,"enabledFrame",_,i(t)),r(t,"enabledSecond",y,i(t)),t.frameListeners=[],t.secondListeners=[],t.secondAccumulator=0,t}n(t,e);var a=t.prototype;return a.onLoad=function(){t._instance||(t._instance=this),c.addPersistRootNode(this.node)},a.onEnable=function(){this.secondAccumulator=0},a.onDisable=function(){},a.onDestroy=function(){t._instance===this&&(t._instance=null)},a.update=function(e){if(this.enabledGlobal){if(this.enabledFrame&&this.frameListeners.length>0)for(var t=this.frameListeners.slice(),n=0;n<t.length;n++)try{t[n].cb.call(t[n].target,e)}catch(e){console.error("[Heartbeat] frame cb error",e)}if(this.enabledSecond&&this.secondListeners.length>0)for(this.secondAccumulator+=e;this.secondAccumulator>=1;)this.secondAccumulator-=1,this.dispatchSecond(1)}},a.onFrame=function(e,t){this.frameListeners.push({cb:e,target:t})},a.offFrame=function(e,t){this.frameListeners=this.frameListeners.filter((function(n){return n.cb!==e||n.target!==t}))},a.onSecond=function(e,t){this.secondListeners.push({cb:e,target:t})},a.offSecond=function(e,t){this.secondListeners=this.secondListeners.filter((function(n){return n.cb!==e||n.target!==t}))},a.dispatchSecond=function(e){if(this.enabledGlobal&&this.enabledSecond&&0!==this.secondListeners.length)for(var t=this.secondListeners.slice(),n=0;n<t.length;n++)try{t[n].cb.call(t[n].target,e)}catch(e){console.error("[Heartbeat] second cb error",e)}},t.EnsureOn=function(e){var n=e.getComponent(t);return n||(n=e.addComponent(t)),n},o(t,null,[{key:"Instance",get:function(){if(this._instance)return this._instance;var e=c.getScene();if(!e)return null;var n=e.getChildByName("__Heartbeat__");n||(n=new l("__Heartbeat__"),e.addChild(n));var r=n.getComponent(t);return r||(r=n.addComponent(t)),this._instance=r,r}}]),t}(u))._instance=null,g=t((m=L).prototype,"enabledGlobal",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=t(m.prototype,"enabledFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=t(m.prototype,"enabledSecond",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=m))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/helper.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"2186ehyMLtGQLMhteSP8j/k","helper",void 0);var r=t("Helper",function(){function t(){}return t.smoothStep=function(t,n,r){return n*(r=-2*(r=this.clamp01(r))*r*r+3*r*r)+t*(1-r)},t.smoothDamp=function(t,n,r,e,o,a){var i=2/(e=Math.max(1e-4,e)),u=i*a,c=1/(1+u+.48*u*u+.235*u*u*u),x=t-n,p=n,h=o*e,f=(r+i*(x=this.clamp(x,0-h,h)))*a;r=(r-i*f)*c;var s=(n=t-x)+(x+f)*c;return p-t>0==s>p&&(r=((s=p)-p)/a),{velocity:r,position:s}},t.clamp01=function(t){return this.clamp(t,0,1)},t.clamp=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1),Math.min(Math.max(t,n),r)},t.sign=function(t){return t>=0?1:-1},t.lerp=function(t,n,r){return t+(n-t)*this.clamp01(r)},t.approximately=function(t,n){return Math.abs(n-t)<Math.max(1e-4*Math.max(Math.abs(t),Math.abs(n)),8*this.Epsilon)},t.round=function(t,n){return Math.round(t*Math.pow(10,n))/Math.pow(10,n)},t.pingpang=function(t){var n=t;n=Math.abs(t);var r=Math.trunc(n);return r%2==0?n-=r:n=1-(n-r),n},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.progress=function(t,n,r,e){return t+(n-t)*e},t.getGuid=function(){var t=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==n?r:3&r|8).toString(16)}))},t}());r.Epsilon=1401298e-51,r.Infinity=1/0,n._RF.pop()}}}));

System.register("chunks:///_virtual/Holder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./helper.ts","./ModelManager.ts"],(function(e){var t,i,s,n,o,a,r;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,s=e._decorator,n=e.Node,o=e.UITransform},function(e){a=e.Helper},function(e){r=e.ModelManager}],execute:function(){var h;i._RF.push({},"40e3aSY8LFNrrdlLqc7LHx7","Holder",void 0);var d=s.ccclass;s.property,e("Holder",d("Holder")(h=function(){function e(e,t,i){this._node=void 0,this._transform=void 0,this._code=void 0,this._adapter=void 0,this._model=void 0,this._view=void 0,this._fixedIndex=-1,this._oldData=null,this._oldElement=null,this._isCallCreated=!1,this._isLayout=!1,this._node=e,this._code=t,this._adapter=i,this._transform=this.node.getComponent(o)}var i=e.prototype;return i.internal_visible=function(e,t,i){var s=this;this._view=e,this._model=t,this._oldElement=Object.assign({},t.element),this._model.element.update=this._updateElement.bind(this),this._oldData=this.data,i&&(this.node.active=!0,this._isCallCreated||(this._isCallCreated=!0,this.onCreated()),this.element.fixed&&(this._fixedIndex=this.view.group.models.findIndex((function(e){return e.index==s.model.index}))),this.transform.setContentSize(this.model.size.x,this.model.size.y),this.node.setScale(this.model.scale.x,this.model.scale.y),this._register(),this.onVisible(),this._model.update=this._updateHandler.bind(this))},i._updateElement=function(){this._oldElement.layer!=this.element.layer&&(this.node.parent=this.adapter.scrollManager.getLayerNode(this.element.layer),this._oldElement.layer=this.element.layer),(this._oldElement.wrapAfterMode!=this.element.wrapAfterMode||this._oldElement.wrapBeforeMode!=this.element.wrapBeforeMode||this._oldElement.ignoreLayout!=this.element.ignoreLayout||this.element.ignoreLayout&&this._oldElement.placeholder!=this.element.placeholder)&&(this.adapter.viewManager.internal_updateVisibleView(this.model.index),this._oldElement.wrapAfterMode=this.element.wrapAfterMode,this._oldElement.wrapBeforeMode=this.element.wrapBeforeMode,this._oldElement.ignoreLayout=this.element.ignoreLayout,this._oldElement.placeholder=this.element.placeholder)},i._updateHandler=function(){this._model.update=function(){},this.onVisible(),this._model.update=this._updateHandler.bind(this)},i.internal_disable=function(){this.adapter.scrollManager.internal_disableTouchTarget(this.node),this.onDisable(),this._unregister(),this._model.update=function(){},this._model.element.update=function(){},this._view=null,this._model=null,this._fixedIndex=-1,this._isLayout=!1,this._oldData=null,this.node.active=!1},i.internal_layout=function(){var e={x:this.model.size.x,y:this.model.size.y};this.adapter.layoutManager.isControlMainAxisSize&&(e[this.adapter.mainAxis]=this.model.layoutSize[this.adapter.mainAxis]),this.adapter.layoutManager.isControlCrossAxisSize&&(e[this.adapter.crossAxis]=this.model.layoutSize[this.adapter.crossAxis]),this._isLayout=!0,this.transform.setContentSize(e.x,e.y),this._isLayout=!1,this.node.setPosition(this.model.position.x,this.model.position.y)},i._register=function(){this.node.on(n.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.on(n.EventType.TRANSFORM_CHANGED,this._onScaleChanged,this),this.node.on(n.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.on(r.Event.ON_UPDATE,this._updateHandler,this)},i._unregister=function(){this.node.off(n.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.off(n.EventType.TRANSFORM_CHANGED,this._onScaleChanged,this),this.node.off(n.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.off(r.Event.ON_UPDATE,this._updateHandler,this)},i._onSizeChanged=function(){if(!this._isLayout){var e=a.approximately(this.model.size[this.adapter.mainAxis],this.transform.contentSize[this.adapter.mainAxis]),t=a.approximately(this.model.size[this.adapter.crossAxis],this.transform.contentSize[this.adapter.crossAxis]);this.model.size.x=this.transform.width,this.model.size.y=this.transform.height,e&&t||this.view.internal_holderChanged(e)}},i._onScaleChanged=function(e){if(e==n.TransformBit.SCALE&&(this.adapter.layoutManager.controlScaleWidth||this.adapter.layoutManager.controlScaleHeight)){var t=a.approximately(this.model.scale[this.adapter.mainAxis],this.node.scale[this.adapter.mainAxis]),i=a.approximately(this.model.scale[this.adapter.crossAxis],this.node.scale[this.adapter.crossAxis]);this.model.scale.x=this.node.scale.x,this.model.scale.y=this.node.scale.y,t&&i||this.view.internal_holderChanged(t)}},i._onAnchorPointChanged=function(){var e=a.approximately(this.model.anchorPoint[this.adapter.mainAxis],this.transform.anchorPoint[this.adapter.mainAxis]),t=a.approximately(this.model.anchorPoint[this.adapter.crossAxis],this.transform.anchorPoint[this.adapter.crossAxis]);this.model.anchorPoint.x=this.transform.anchorPoint.x,this.model.anchorPoint.y=this.transform.anchorPoint.y,e&&t||this.view.internal_holderChanged(e)},t(e,[{key:"node",get:function(){return this._node}},{key:"transform",get:function(){return this._transform}},{key:"code",get:function(){return this._code}},{key:"adapter",get:function(){return this._adapter}},{key:"model",get:function(){return this._model}},{key:"view",get:function(){return this._view}},{key:"data",get:function(){return this._model&&this._model.data}},{key:"fixedIndex",get:function(){return this._fixedIndex}},{key:"oldData",get:function(){return this._oldData}},{key:"element",get:function(){return this._model&&this._model.element}},{key:"index",get:function(){return this._model&&this._model.index}}]),e}())||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/Indicator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScrollAdapter.ts","./enum.ts","./PageViewManager.ts"],(function(e){var t,i,n,a,r,o,l,c,s,p,u,h,d,g,f,y,_,m,v,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,l=e._decorator,c=e.SpriteFrame,s=e.Color,p=e.Node,u=e.Sprite,h=e.UITransform,d=e.Button,g=e.EventHandler,f=e.Layout,y=e.Component,_=e.Size},function(e){m=e.ScrollAdapter},function(e){v=e.IndicatorMode},function(e){C=e.PageViewManager}],execute:function(){var S,b,w,M,z,I,E,L,N,P,T;o._RF.push({},"22211DWORtN9armKhbLBFyV","Indicator",void 0);var A=l.ccclass,V=l.property;e("Indicator",(S=A("Indicator"),b=V(m),w=V({type:c}),M=V({type:v}),S((E=t((I=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"adapter",E,a(t)),n(t,"spriteFrame",L,a(t)),n(t,"indicatorMode",N,a(t)),n(t,"cellSize",P,a(t)),n(t,"spacing",T,a(t)),t._indicators=[],t._layout=null,t._color=new s,t}i(t,e);var o=t.prototype;return o.__preload=function(){this.adapter&&(this.adapter.pageViewManager.on(C.Event.ON_PAGE_LENGTH_CHANGED,this._onPageLengthChanged,this),this.adapter.pageViewManager.on(C.Event.ON_SCROLL_PAGE_END,this._onScrollPageEnd,this))},o._onScrollPageEnd=function(){this.changedState()},o._onPageLengthChanged=function(){if(this.adapter){var e=this._indicators,t=this.adapter.viewManager.groupLength;if(t!==e.length){var i=0;if(t>e.length)for(i=0;i<t;++i)e[i]||(e[i]=this._createIndicator(i));else for(i=e.length-t;i>0;--i){var n=e[i-1];this.node.removeChild(n.node),e.splice(i-1,1)}this.layout&&this.layout.enabledInHierarchy&&this.layout.updateLayout(),this.changedState()}}},o._createIndicator=function(e){var t=new p;t.layer=this.node.layer;var i=t.addComponent(u);i.spriteFrame=this.spriteFrame,i.sizeMode=u.SizeMode.CUSTOM,t.parent=this.node;var n=t.getComponent(h);if(n.setContentSize(this.cellSize),this.indicatorMode==v.Button){var a=t.getComponent(d)||t.addComponent(d),r=new g;r.component="Indicator",r.handler="_click",r.target=this.node,r.customEventData=e,a.clickEvents.push(r)}return n},o._click=function(e,t){this.adapter.pageViewManager.scrollToPage(this.adapter.pageViewManager.pageTurningSpeed,t)},o.changedState=function(){var e=this._indicators;if(0!==e.length&&this.adapter){var t=this.adapter.pageViewManager.currentIndex;if(!(t>=e.length)){for(var i=0;i<e.length;++i){var n=e[i].getComponent(u);this._color.set(n.color),this._color.a=127.5,n.color=this._color}if(e[t]){var a=e[t].getComponent(u);this._color.set(a.color),this._color.a=255,a.color=this._color}}}},r(t,[{key:"layout",get:function(){return null==this._layout&&(this._layout=this.getComponent(f)||this.addComponent(f),this.adapter.isHorizontal?(this._layout.type=f.Type.HORIZONTAL,this._layout.spacingX=this.spacing):(this._layout.type=f.Type.VERTICAL,this._layout.spacingY=this.spacing),this._layout.resizeMode=f.ResizeMode.CONTAINER),this._layout}}]),t}(y)).prototype,"adapter",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"spriteFrame",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(I.prototype,"indicatorMode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.Normal}}),P=t(I.prototype,"cellSize",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(10,10)}}),T=t(I.prototype,"spacing",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),z=I))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/interface.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e5282GZM8ZJUb6ydgPTTsIf","interface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/JsbScript.ts",["cc","./Localization.ts"],(function(e){var n,i,t;return{setters:[function(e){n=e.cclegacy,i=e.sys},function(e){t=e.LanguageType}],execute:function(){n._RF.push({},"179313fJCJJ5Yz02d1XasRO","JsbScript",void 0);e("JsbScript",function(){function e(){}return e.getSysLanguage=function(){var e=i.language;if(i.os===i.OS.ANDROID){if(-1!=e.indexOf("en"))return t.EN;if(-1!=e.indexOf("zh-CN"))return t.CN;if(-1!=e.indexOf("zh-HK")||-1!=e.indexOf("zh-TW"))return t.HK}else if(i.os===i.OS.IOS){if(-1!=e.indexOf("en"))return t.EN;if(-1!=e.indexOf("zh"))return t.CN;if(-1!=e.indexOf("zh-Hans-CN")||-1!=e.indexOf("zh-Hant-CN"))return t.HK}return t.CN},e.KeepScreenOn=function(e){i.isNative&&(console.log("设置屏幕常亮"),jsb.Device.setKeepScreenOn(e))},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/KwaiSDKConfig.ts",["cc"],(function(c){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"0c213Hcrw5OyZvZB73qhNS1","KwaiSDKConfig",void 0);c("KwaiSDKConfigData",{isDebug:!0,appKey:"kwaiq3ypuy0ws8j0",appSecret:"fb92746ecc4f390c631bad0e8d9c62a8dc104be2",videoAdId:"ad_df205ca5b9de2045",interstitialAdId:"b0f9c8074d69c291",bannerAdId:"ad_6797f2d964c54977"});e._RF.pop()}}}));

System.register("chunks:///_virtual/KwaiSDKManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(n){var e,i,o;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy},function(n){o=n.Singleton}],execute:function(){i._RF.push({},"f0fd7tgx8dMUaFpYRBcdsFb","KwaiSDKManager",void 0);n("KwaiSDKManager",function(n){function i(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(e=n.call.apply(n,[this].concat(o))||this)._isInitialized=!1,e._config=null,e._isShortcutAdded=!1,e._launchFromShortcut=!1,e._launchSourceChecked=!1,e}e(i,n);var o=i.prototype;return o.CustomerInit=function(){this.checkSDKAvailable()},o.checkSDKAvailable=function(){return!("undefined"==typeof globalThis||!globalThis.KS_SDK)||(!("undefined"==typeof KSGameGlobal||!KSGameGlobal.KS_SDK)||(!("undefined"==typeof window||!window.KS_SDK)||(console.warn("[KwaiSDKManager] SDK 未加载，请确保 ks_sdk.bundle.js 已正确引入"),!1)))},o.getSDK=function(){return"undefined"!=typeof globalThis&&globalThis.KS_SDK?globalThis.KS_SDK:"undefined"!=typeof KSGameGlobal&&KSGameGlobal.KS_SDK?KSGameGlobal.KS_SDK:"undefined"!=typeof window&&window.KS_SDK?window.KS_SDK:null},o.init=function(n){if(!this.checkSDKAvailable())return console.error("[KwaiSDKManager] SDK 不可用，初始化失败"),!1;if(this._isInitialized)return console.warn("[KwaiSDKManager] SDK 已初始化，无需重复初始化"),!0;try{var e=this.getSDK();if(!e||!e.SDKMgr)return console.error("[KwaiSDKManager] SDK 对象不存在"),!1;var i=new e.SDKConfig;return i.isDebug=!0,i.appKey=n.appKey,i.appSecret=n.appSecret,i.videoAdId=n.videoAdId,i.interstitialAdId=n.interstitialAdId,i.bannerAdId=n.bannerAdId||"",e.SDKMgr.init(i),this._config=n,this._isInitialized=!0,console.log("[KwaiSDKManager] SDK 初始化成功"),!0}catch(n){return console.error("[KwaiSDKManager] SDK 初始化失败:",n),!1}},o.isInitialized=function(){return this._isInitialized},o.track=function(n,e){if(this._isInitialized)try{var i=this.getSDK();i&&i.SDKMgr&&i.SDKMgr.track(n,e||{})}catch(n){console.error("[KwaiSDKManager] 事件上报失败:",n)}else console.warn("[KwaiSDKManager] SDK 未初始化，无法上报事件")},o.getConfigData=function(n,e){if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法获取配置"),void e(!1,null);try{var i=this.getSDK();i&&i.SDKMgr?i.SDKMgr.getConfigData(n,e):e(!1,null)}catch(n){console.error("[KwaiSDKManager] 获取配置失败:",n),e(!1,null)}},o.showBanner=function(){if(this._isInitialized)try{var n=this.getSDK();n&&n.SDKMgr&&n.SDKMgr.showBanner()}catch(n){console.error("[KwaiSDKManager] 显示横幅广告失败:",n)}else console.warn("[KwaiSDKManager] SDK 未初始化，无法显示横幅广告")},o.hideBanner=function(){if(this._isInitialized)try{var n=this.getSDK();n&&n.SDKMgr&&n.SDKMgr.hideBanner()}catch(n){console.error("[KwaiSDKManager] 隐藏横幅广告失败:",n)}else console.warn("[KwaiSDKManager] SDK 未初始化，无法隐藏横幅广告")},o.showInterstitial=function(n,e){if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法显示插屏广告"),void(null==e||null==e.onHide||e.onHide());try{var i=this.getSDK();i&&i.SDKMgr?i.SDKMgr.showInter(n,(null==e?void 0:e.onHide)||null,(null==e?void 0:e.onReward)||null):null==e||null==e.onHide||e.onHide()}catch(n){console.error("[KwaiSDKManager] 显示插屏广告失败:",n),null==e||null==e.onHide||e.onHide()}},o.showRewardedVideo=function(n,e){if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法显示激励视频广告"),void(null==e||null==e.onHide||e.onHide());try{var i=this.getSDK();i&&i.SDKMgr?i.SDKMgr.showVideo(n,(null==e?void 0:e.onHide)||null,(null==e?void 0:e.onReward)||null):null==e||null==e.onHide||e.onHide()}catch(n){console.error("[KwaiSDKManager] 显示激励视频广告失败:",n),null==e||null==e.onHide||e.onHide()}},o.showVideoFirstElseInterstitial=function(n,e){if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法显示广告"),void(null==e||null==e.onHide||e.onHide());try{var i=this.getSDK();i&&i.SDKMgr?i.SDKMgr.showVideoFirstElseInter(n,(null==e?void 0:e.onHide)||null,(null==e?void 0:e.onReward)||null):null==e||null==e.onHide||e.onHide()}catch(n){console.error("[KwaiSDKManager] 显示广告失败:",n),null==e||null==e.onHide||e.onHide()}},o.showInterstitialFirstElseVideo=function(n,e){if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法显示广告"),void(null==e||null==e.onHide||e.onHide());try{var i=this.getSDK();i&&i.SDKMgr?i.SDKMgr.showInterFirstElseVideo(n,(null==e?void 0:e.onHide)||null,(null==e?void 0:e.onReward)||null):null==e||null==e.onHide||e.onHide()}catch(n){console.error("[KwaiSDKManager] 显示广告失败:",n),null==e||null==e.onHide||e.onHide()}},o.share=function(n){if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法分享"),null==n||null==n.onFail||n.onFail(),void(null==n||null==n.onComplete||n.onComplete());try{var e=this.getSDK();e&&e.SDKMgr?e.SDKMgr.share((null==n?void 0:n.onSuccess)||null,(null==n?void 0:n.onFail)||null,(null==n?void 0:n.onComplete)||null):(null==n||null==n.onFail||n.onFail(),null==n||null==n.onComplete||n.onComplete())}catch(e){console.error("[KwaiSDKManager] 分享失败:",e),null==n||null==n.onFail||n.onFail(),null==n||null==n.onComplete||n.onComplete()}},o.addToDesktop=function(n){var e=this;if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法添加到桌面"),null==n||null==n.onFail||n.onFail(),void(null==n||null==n.onComplete||n.onComplete());try{var i=this.getSDK();i&&i.SDKMgr?i.SDKMgr.addToDesktop((function(){e._isShortcutAdded=!0,null==n||null==n.onSuccess||n.onSuccess()}),(null==n?void 0:n.onFail)||null,(null==n?void 0:n.onComplete)||null):(null==n||null==n.onFail||n.onFail(),null==n||null==n.onComplete||n.onComplete())}catch(e){console.error("[KwaiSDKManager] 添加到桌面失败:",e),null==n||null==n.onFail||n.onFail(),null==n||null==n.onComplete||n.onComplete()}},o.checkShortcut=function(n){var e=this;if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法检查快捷方式"),void(null==n||n(!1));try{var i=this.getSDK();i&&i.SDKMgr?i.SDKMgr.checkShortcut((function(i){e._isShortcutAdded=i,null==n||n(i)})):null==n||n(!1)}catch(e){console.error("[KwaiSDKManager] 检查快捷方式失败:",e),null==n||n(!1)}},o.isShortcutAdded=function(){return this._isShortcutAdded},o.isLaunchFromShortcut=function(){return this._launchSourceChecked||(this._launchFromShortcut=this.detectLaunchSource(),this._launchSourceChecked=!0),this._launchFromShortcut},o.refreshLaunchSource=function(){this._launchSourceChecked=!1,this.isLaunchFromShortcut()},o.saveToFavorites=function(n){if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法保存到收藏"),null==n||null==n.onFail||n.onFail(),void(null==n||null==n.onComplete||n.onComplete());try{var e=this.getSDK();e&&e.SDKMgr?e.SDKMgr.saveToFavorites((null==n?void 0:n.onSuccess)||null,(null==n?void 0:n.onFail)||null,(null==n?void 0:n.onComplete)||null):(null==n||null==n.onFail||n.onFail(),null==n||null==n.onComplete||n.onComplete())}catch(e){console.error("[KwaiSDKManager] 保存到收藏失败:",e),null==n||null==n.onFail||n.onFail(),null==n||null==n.onComplete||n.onComplete()}},o.getWithdrawConfig=function(n){if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法获取提现配置"),void n([]);try{var e=this.getSDK();e&&e.SDKMgr?e.SDKMgr.getwithdrawConfig((function(e){Array.isArray(e)?n(e):n([])})):n([])}catch(e){console.error("[KwaiSDKManager] 获取提现配置失败:",e),n([])}},o.createOrder=function(n,e){if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法创建提现单"),void e(!1,null);try{var i=this.getSDK();i&&i.SDKMgr?i.SDKMgr.createOrder(n,e):e(!1,null)}catch(n){console.error("[KwaiSDKManager] 创建提现单失败:",n),e(!1,null)}},o.getOrder=function(n){if(!this._isInitialized)return console.warn("[KwaiSDKManager] SDK 未初始化，无法获取提现单"),void n([]);try{var e=this.getSDK();e&&e.SDKMgr?e.SDKMgr.getOrder((function(e){Array.isArray(e)?n(e):n([])})):n([])}catch(e){console.error("[KwaiSDKManager] 获取提现单失败:",e),n([])}},o.ResetInstance=function(){this._isInitialized=!1,this._config=null,this._isShortcutAdded=!1,this._launchFromShortcut=!1,this._launchSourceChecked=!1},o.detectLaunchSource=function(){try{if("undefined"!=typeof ks&&"function"==typeof ks.getLaunchOptionsSync)return this.parseLaunchOptions(ks.getLaunchOptionsSync())}catch(n){console.warn("[KwaiSDKManager] 读取 ks.getLaunchOptionsSync 失败:",n)}try{var n=this.getSDK();if(n&&n.SDKMgr&&"function"==typeof n.SDKMgr.getLaunchOptionsSync){var e=n.SDKMgr.getLaunchOptionsSync();return this.parseLaunchOptions(e)}}catch(n){console.warn("[KwaiSDKManager] 读取 SDKMgr.getLaunchOptionsSync 失败:",n)}return!1},o.parseLaunchOptions=function(n){if(!n)return!1;for(var e=0,i=[n.from,n.scene,n.entry,n.path,n.source];e<i.length;e++){var o=i[e];if("string"==typeof o){var l=o.toLowerCase();if(l.includes("shortcut")||l.includes("desktop"))return!0}}if(n.query&&"object"==typeof n.query){var r=n.query.shortcut||n.query.from||n.query.entry;if("string"==typeof r){var t=r.toLowerCase();if("1"===t||t.includes("shortcut"))return!0}}return!1},i}(o()));i._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./helper.ts"],(function(t){var e,i,r,n,o,l,a,s,h,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,a=t._decorator},function(t){s=t.Manager},function(t){h=t.ChildAlignment,c=t.Orientation},function(t){p=t.Helper}],execute:function(){var g,u,_,f,d,z,S,y,A,m,x,H,E,b,O,T,v,C,L,W,M,D,N,P,w;l._RF.push({},"40ec1+FxjBOVJWRxY2pXr9t","LayoutManager",void 0);var k=a.ccclass,I=a.property,U=function(t){return t[t.ON_LAYOUT_COMPLATED=0]="ON_LAYOUT_COMPLATED",t[t.ON_CHANGED_LAYOUT_STATE=1]="ON_CHANGED_LAYOUT_STATE",t}(U||{});t("LayoutManager",(g=k("LayoutManager"),u=I({type:h}),_=I({type:h,tooltip:"布局元素的对齐方式"}),f=I({tooltip:"元素交叉轴布局的间距"}),d=I({tooltip:"反转布局"}),z=I({tooltip:"延迟布局，开启后会统一在下一帧布局，建议开启"}),S=I({group:{id:"0",name:"forceExpand"},tooltip:"是否强制布局元素宽度扩展以填充额外的可用空间"}),y=I({group:{id:"0",name:"forceExpand"},tooltip:"是否强制布局元素高度扩展以填充额外的可用空间"}),A=I({group:{id:"0",name:"controlSize"},tooltip:"如果设置为 false，布局只会影响元素的位置，而不会影响宽度，在这种情况下你可以设置元素的宽度\n如果设置为 true，元素的宽度将由布局根据它们各自的 IElement.minSize、IElement.preferredSize、IElement.flexibleSize自动设置。如果元素的宽度应根据可用空间的大小而变化，应开启此功能。在这种情况下不能直接设置每个元素的宽度，但可以通过控制每个元素的IElement.minSize、IElement.preferredSize、IElement.flexibleSize来进行控制"}),m=I({group:{id:"0",name:"controlSize"},tooltip:"如果设置为 false，布局只会影响元素的位置，而不会影响高度，在这种情况下你可以设置元素的高度\n如果设置为 true，元素的高度将由布局根据它们各自的 IElement.minSize、IElement.preferredSize、IElement.flexibleSize自动设置。如果元素的高度应根据可用空间的大小而变化，应开启此功能。在这种情况下不能直接设置每个元素的高度，但可以通过控制每个元素的IElement.minSize、IElement.preferredSize、IElement.flexibleSize来进行控制"}),x=I({group:{id:"0",name:"controlScale"},tooltip:"是否使用 x 缩放计算宽度"}),H=I({group:{id:"0",name:"controlScale"},tooltip:"是否使用 y 缩放计算高度"}),g(((w=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_childAlignment",O,n(e)),r(e,"_spacing",T,n(e)),r(e,"_reverseArrangement",v,n(e)),r(e,"delayLayout",C,n(e)),r(e,"_forceExpandWidth",L,n(e)),r(e,"_forceExpandHeight",W,n(e)),r(e,"_controlSizeWidth",M,n(e)),r(e,"_controlSizeHeight",D,n(e)),r(e,"_controlScaleWidth",N,n(e)),r(e,"_controlScaleHeight",P,n(e)),e._isDirty=!1,e._layoutQueue=[],e}i(e,t);var l=e.prototype;return l.onInit=function(){},l.layout=function(t){t&&(this.delayLayout?(this.unLayout(t.index),this._layoutQueue.push(t),this._isDirty=!0):(this._layoutHandler(t),this.emit(U.ON_LAYOUT_COMPLATED,[t.index])))},l.unLayout=function(t){-1!=(t=this._layoutQueue.findIndex((function(e){return e.index==t})))&&this._layoutQueue.splice(t,1)},l._layoutHandler=function(t){this._calcAlongAxis(t,c.Horizontal,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,c.Horizontal,this.adapter.isHorizontal),this._calcAlongAxis(t,c.Vertical,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,c.Vertical,this.adapter.isHorizontal)},l._calcAlongAxis=function(t,e,i){for(var r=e==c.Horizontal?this.horizontal:this.vertical,n=this._getControlSize(e),o=this._getControlScale(e),l=this._getForceExpandSize(e),a=r,s=r,h=0,p=i!=(e==c.Vertical),g=this._getLayoutList(t.models),u=0;u<g.length;u++){var _=g[u],f=this._getChildSizes(_,e,n,l),d=f.min,z=f.preferred,S=f.flexible;if(o){var y=_.scale[this._getAxis(e)];d*=y,z*=y,S*=y}p?(a=Math.max(d+r,a),s=Math.max(z+r,s),h=Math.max(S,h)):(a+=d+this.spacing,s+=z+this.spacing,h+=S)}!p&&g.length>0&&(a-=this.spacing,s-=this.spacing),s=Math.max(a,s),this._setLayoutInputForAxis(t,a,s,h,e)},l._getControlSize=function(t){return t==c.Horizontal?this.controlSizeWidth:this.controlSizeHeight},l._getControlScale=function(t){return t==c.Horizontal?this.controlScaleWidth:this.controlScaleHeight},l._getForceExpandSize=function(t){return t==c.Horizontal?this.forceExpandWidth:this.forceExpandHeight},l._setChildrenAlongAxis=function(t,e,i){var r=t.size[this._getAxis(e)],n=this._getControlSize(e),o=this._getControlScale(e),l=this._getForceExpandSize(e),a=this._getAlignmentOnAxis(e),s=this._getLayoutList(t.models),h=i!=(e==c.Vertical),g=this.reverseArrangement?s.length-1:0,u=this.reverseArrangement?0:s.length,_=this.reverseArrangement?-1:1,f=this._getAxis(e);if(h)for(var d=r-(e==c.Horizontal?this.horizontal:this.vertical),z=g;this.reverseArrangement?z>=u:z<u;z+=_){var S=s[z],y=this._getChildSizes(S,e,n,l),A=y.min,m=y.preferred,x=y.flexible,H=o?S.scale[f]:1,E=p.clamp(d,A,x>0?r:m),b=this._getStartOffset(t,e,E*H);if(n)this._setChildAlongAxisWithScale(t,S,e,b,H,E);else{var O=(E-S.size[f])*a;O*=H,this._setChildAlongAxisWithScale(t,S,e,b+O,H)}}else{var T=e==c.Horizontal?this.left:this.top,v=0,C=r-this._getTotalPreferredSize(t,e);C>0&&(0==this._getTotalFlexibleSize(t,e)?T=this._getStartOffset(t,e,this._getTotalPreferredSize(t,e)-(e==c.Horizontal?this.horizontal:this.vertical)):this._getTotalFlexibleSize(t,e)>0&&(v=C/this._getTotalFlexibleSize(t,e)));var L=0;this._getTotalMinSize(t,e)!=this._getTotalPreferredSize(t,e)&&(L=p.clamp01((r-this._getTotalMinSize(t,e))/(this._getTotalPreferredSize(t,e)-this._getTotalMinSize(t,e))));for(z=g;this.reverseArrangement?z>=u:z<u;z+=_){var W=s[z],M=this._getChildSizes(W,e,n,l),D=(A=M.min,m=M.preferred,x=M.flexible,o?W.scale[f]:1),N=p.lerp(A,m,L);if(N+=x*v,n)this._setChildAlongAxisWithScale(t,W,e,T,D,N);else{O=(N-W.size[f])*a;this._setChildAlongAxisWithScale(t,W,e,T+O,D)}T+=N*D+this.spacing}}},l._setChildAlongAxisWithScale=function(t,e,i,r,n,o){if(null!=e){var l=this._getAxis(i),a=0;isNaN(o)?a=e.size[l]:(e.layoutSize[l]=o,a=o);var s={x:e.position.x,y:e.position.y},h=0;i==c.Horizontal?(h=r+a*e.anchorPoint[l]*n,h-=t.size[l]*t.anchorPoint[l],h+=t.position[l]):(h=-r-a*(1-e.anchorPoint[l])*n,h+=t.size[l]*(1-t.anchorPoint[l]),h+=t.position[l]),s[l]=h,e.position=s}},l._getStartOffset=function(t,e,i){var r=i+(e==c.Horizontal?this.horizontal:this.vertical),n=t.size[this._getAxis(e)]-r,o=this._getAlignmentOnAxis(e);return(e==c.Horizontal?this.left:this.top)+n*o},l._setLayoutInputForAxis=function(t,e,i,r,n){var o=this._getAxis(n);t.totalMinSize[o]=e,t.totalPreferredSize[o]=i,t.totalFlexibleSize[o]=r},l._getAxis=function(t){return t==c.Horizontal?"x":"y"},l._getMinSize=function(t,e){return t.minSize[this._getAxis(e)]},l._getPreferredSize=function(t,e){var i=this._getAxis(e);return Math.max(t.minSize[i],t.preferredSize[i])},l._getFlexibleSize=function(t,e){return t.flexibleSize[this._getAxis(e)]},l._getTotalMinSize=function(t,e){return t.totalMinSize[this._getAxis(e)]},l._getTotalPreferredSize=function(t,e){return t.totalPreferredSize[this._getAxis(e)]},l._getTotalFlexibleSize=function(t,e){return t.totalFlexibleSize[this._getAxis(e)]},l._getChildSizes=function(t,e,i,r){var n,o,l;return i?(n=this._getMinSize(t.element,e),o=this._getPreferredSize(t.element,e),l=this._getFlexibleSize(t.element,e)):(o=n=t.size[this._getAxis(e)],l=0),r&&(l=Math.max(l,1)),{min:n,preferred:o,flexible:l}},l._getAlignmentOnAxis=function(t){return t==c.Horizontal?this.adapter.layoutManager.childAlignment%3*.5:.5*Math.floor(this.adapter.layoutManager.childAlignment/3)},l._getLayoutList=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.element.ignoreLayout||e.push(r)}return e},l.internal_lateUpdate=function(t){if(this._isDirty){this._isDirty=!1;for(var e=[];this._layoutQueue.length>0;){var i=this._layoutQueue.shift();this._layoutHandler(i),e.push(i.index)}e.length>0&&this.emit(U.ON_LAYOUT_COMPLATED,e)}},o(e,[{key:"childAlignment",get:function(){return this._childAlignment},set:function(t){t!=this._childAlignment&&(this._childAlignment=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"spacing",get:function(){return this._spacing},set:function(t){t!=this._spacing&&(this._spacing=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"reverseArrangement",get:function(){return this._reverseArrangement},set:function(t){t!=this._reverseArrangement&&(this._reverseArrangement=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"forceExpandWidth",get:function(){return this._forceExpandWidth},set:function(t){t!=this._forceExpandWidth&&(this._forceExpandWidth=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"forceExpandHeight",get:function(){return this._forceExpandHeight},set:function(t){t!=this._forceExpandHeight&&(this._forceExpandHeight=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"controlSizeWidth",get:function(){return this._controlSizeWidth},set:function(t){t!=this._controlSizeWidth&&(this._controlSizeWidth=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"controlSizeHeight",get:function(){return this._controlSizeHeight},set:function(t){t!=this._controlSizeHeight&&(this._controlSizeHeight=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"controlScaleWidth",get:function(){return this._controlScaleWidth},set:function(t){t!=this._controlScaleWidth&&(this._controlScaleWidth=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"controlScaleHeight",get:function(){return this._controlScaleHeight},set:function(t){t!=this._controlScaleHeight&&(this._controlScaleHeight=t,this.emit(U.ON_CHANGED_LAYOUT_STATE))}},{key:"top",get:function(){return this.adapter.isVertical?0:this.adapter.viewManager.top}},{key:"bottom",get:function(){return this.adapter.isVertical?0:this.adapter.viewManager.bottom}},{key:"left",get:function(){return this.adapter.isHorizontal?0:this.adapter.viewManager.left}},{key:"right",get:function(){return this.adapter.isHorizontal?0:this.adapter.viewManager.right}},{key:"horizontal",get:function(){return this.left+this.right}},{key:"vertical",get:function(){return this.top+this.bottom}},{key:"isControlMainAxisSize",get:function(){return this.adapter.isHorizontal&&this.controlSizeWidth||this.adapter.isVertical&&this.controlSizeHeight}},{key:"isControlCrossAxisSize",get:function(){return this.adapter.isHorizontal&&this.controlSizeHeight||this.adapter.isVertical&&this.controlSizeWidth}},{key:"isControlCrossAxisScale",get:function(){return this.adapter.isHorizontal&&this.controlScaleHeight||this.adapter.isVertical&&this.controlScaleWidth}}]),e}(s)).Event=U,O=e((b=w).prototype,"_childAlignment",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.UpperLeft}}),e(b.prototype,"childAlignment",[_],Object.getOwnPropertyDescriptor(b.prototype,"childAlignment"),b.prototype),T=e(b.prototype,"_spacing",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(b.prototype,"spacing",[f],Object.getOwnPropertyDescriptor(b.prototype,"spacing"),b.prototype),v=e(b.prototype,"_reverseArrangement",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"reverseArrangement",[d],Object.getOwnPropertyDescriptor(b.prototype,"reverseArrangement"),b.prototype),C=e(b.prototype,"delayLayout",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L=e(b.prototype,"_forceExpandWidth",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"forceExpandWidth",[S],Object.getOwnPropertyDescriptor(b.prototype,"forceExpandWidth"),b.prototype),W=e(b.prototype,"_forceExpandHeight",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(b.prototype,"forceExpandHeight",[y],Object.getOwnPropertyDescriptor(b.prototype,"forceExpandHeight"),b.prototype),M=e(b.prototype,"_controlSizeWidth",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"controlSizeWidth",[A],Object.getOwnPropertyDescriptor(b.prototype,"controlSizeWidth"),b.prototype),D=e(b.prototype,"_controlSizeHeight",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"controlSizeHeight",[m],Object.getOwnPropertyDescriptor(b.prototype,"controlSizeHeight"),b.prototype),N=e(b.prototype,"_controlScaleWidth",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"controlScaleWidth",[x],Object.getOwnPropertyDescriptor(b.prototype,"controlScaleWidth"),b.prototype),P=e(b.prototype,"_controlScaleHeight",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"controlScaleHeight",[H],Object.getOwnPropertyDescriptor(b.prototype,"controlScaleHeight"),b.prototype),E=b))||E));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"e0863mQxl1KTo8mCpGw2Z2o","LevelConfig",void 0),t("ConfigLevelConfig",function(){function t(){this.map=Object.create(null),this.list=[]}var i=t.prototype;return i.get=function(t){return this.map[t]},i.startAnalysis=function(t){if(this.map=Object.create(null),this.list=[],t&&Array.isArray(t))for(var n,i=e(t);!(n=i()).done;){var s=n.value;this.map[s.Id]=s,this.list.push(s)}},i.dispose=function(){this.map=Object.create(null),this.list.length=0},n(t,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./UIMgr.ts","./BaseButton.ts","./GameData.ts","./LevelConfig.ts"],(function(e){var n,t,l,a,i,o,s,r,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,l=e._decorator,a=e.Label},function(e){i=e.BaseUI},function(e){o=e.UIMgr},function(e){s=e.BaseButton},function(e){r=e.GameData},function(e){c=e.ConfigLevelConfig}],execute:function(){var u,h;t._RF.push({},"808b1sis1pJZr4UzczGu2IL","LevelPanel",void 0);var C=l.ccclass;l.property,e("LevelPanel",C("LevelPanel")(((h=function(e){function t(){for(var n,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return(n=e.call.apply(e,[this].concat(l))||this).mTitleLabel=null,n.mLevelLabel=null,n.mDescLabel=null,n.mRewardLabel=null,n.mConfirmBtn=null,n.mCloseBtn=null,n}n(t,e);var l=t.prototype;return l.InitParam=function(){var e,n,t,l,i,o;this.mTitleLabel=null==(e=this.node.getChildByPath("TitleLabel"))?void 0:e.getComponent(a),this.mLevelLabel=null==(n=this.node.getChildByPath("LevelNumber"))?void 0:n.getComponent(a),this.mDescLabel=null==(t=this.node.getChildByPath("DescLabel"))?void 0:t.getComponent(a),this.mRewardLabel=null==(l=this.node.getChildByPath("RewardBar/RewardAmount"))?void 0:l.getComponent(a),this.mConfirmBtn=null==(i=this.node.getChildByPath("CTAButton"))?void 0:i.getComponent(s),this.mCloseBtn=null==(o=this.node.getChildByPath("CloseBtn"))?void 0:o.getComponent(s)},l.BindUI=function(){var e=this;this.mConfirmBtn&&this.mConfirmBtn.SetClickCallback((function(){e.OnConfirmBtnClick()})),this.mCloseBtn&&this.mCloseBtn.SetClickCallback((function(){e.OnCloseBtnClick()}))},l.RegDataNotify=function(){var e=this;r.Instance.Data_UpdateExperience.AddListenner(this,(function(){e.UpdateLevelDisplay()}))},l.LateInit=function(){this.UpdateLevelDisplay();var e=c.Instance.get(r.Instance.GetCurrentLevel());e&&(this.mRewardLabel.string=e.RewardNum.toString())},l.UpdateLevelDisplay=function(){if(this.mLevelLabel){var e=r.Instance.GetCurrentLevel();this.mLevelLabel.string=e.toString()}},l.CustmoerDestory=function(){},l.OnConfirmBtnClick=function(){var e=r.Instance.GetCurrentLevel(),n=c.Instance.get(e);n?(0===n.RewardType?(r.Instance.MoneyChangeWith(n.RewardNum),console.log("LevelPanel: 领取余额奖励 "+n.RewardNum)):1===n.RewardType?(r.Instance.ChangeKsCoin(n.RewardNum),console.log("LevelPanel: 领取快手币奖励 "+n.RewardNum)):console.warn("LevelPanel: 未知的奖励类型 "+n.RewardType),this.OnCloseBtnClick()):console.warn("LevelPanel: 未找到当前等级的配置，等级ID:",e)},l.OnCloseBtnClick=function(){o.Instance.DeleteUIByTarget(this)},t}(i)).PrefabPath="prefab/LevelPanel",h.Bunddle="function",u=h))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/ListView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(t){var i,e,s,h,o,a,n,r,l,_,c,d,m,u,p,T,g,f,v,y,I,S,D,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,h=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,n=t._decorator,r=t.ScrollView,l=t.Node,_=t.Enum,c=t.Prefab,d=t.CCBoolean,m=t.CCInteger,u=t.isValid,p=t.UITransform,T=t.Layout,g=t.instantiate,f=t.NodePool,v=t.Vec3,y=t.Size,I=t.Widget,S=t.tween,D=t.Component},function(t){w=t.DEV}],execute:function(){var z,b,O,L,C,N,G,R,E,U,B,k,A,P,x,F,H,V,M,X,Z,Y,W,j,q,J;a._RF.push({},"8b9d3uv581Lv7dJPL8Zbl7k","ListView",void 0);var K=n.ccclass,Q=n.property,$=n.disallowMultiple,tt=n.menu,it=n.executionOrder,et=n.requireComponent,st=function(t){return t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB",t}(st||{});t("default",(z=$(),b=tt("ListView"),O=et(r),L=it(-5e3),C=Q(l),N=Q({type:_(st),tooltip:w}),G=Q({type:l,tooltip:w,visible:function(){return this.templateType==st.NODE}}),R=Q({type:c,tooltip:w,visible:function(){return this.templateType==st.PREFAB}}),E=Q({}),U=Q({type:d,tooltip:w}),B=Q({tooltip:w,visible:function(){var t=this.virtual;return t||(this.lackSlide=!1),t}}),k=Q({type:m}),A=Q({type:m,range:[0,6,1],tooltip:w,slide:!0}),P=Q({type:m,range:[0,12,1],tooltip:w,slide:!0}),x=Q({serializable:!1}),K(F=z(F=b(F=O(F=L((V=i((H=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(i=t.call.apply(t,[this].concat(o))||this).mForceHideDragTips=!1,s(i,"mDragToRefresh",V,h(i)),s(i,"templateType",M,h(i)),s(i,"tmpNode",X,h(i)),s(i,"tmpPrefab",Z,h(i)),s(i,"_virtual",Y,h(i)),s(i,"lackSlide",W,h(i)),s(i,"_updateRate",j,h(i)),s(i,"frameByFrameRenderNum",q,h(i)),i.renderEvent=null,i.dragBottomCallback=null,i.dragTopCallback=null,i._forceUpdate=!1,i._align=void 0,i._horizontalDir=void 0,i._verticalDir=void 0,i._startAxis=void 0,i._alignCalcType=void 0,i.content=void 0,i._contentUt=void 0,i.firstListId=void 0,i.displayItemNum=void 0,i._updateDone=!0,i._updateCounter=void 0,i._actualNumItems=void 0,s(i,"_numItems",J,h(i)),i._inited=!1,i._scrollView=void 0,i._layout=void 0,i._resizeMode=void 0,i._topGap=void 0,i._rightGap=void 0,i._bottomGap=void 0,i._leftGap=void 0,i._columnGap=void 0,i._lineGap=void 0,i._colLineNum=void 0,i._lastDisplayData=void 0,i.displayData=void 0,i._pool=void 0,i._itemTmp=void 0,i._itemTmpUt=void 0,i._needUpdateWidget=!1,i._itemSize=void 0,i._sizeType=void 0,i._customSize=void 0,i.frameCount=void 0,i.viewTop=void 0,i.viewRight=void 0,i.viewBottom=void 0,i.viewLeft=void 0,i._doneAfterUpdate=!1,i.elasticTop=void 0,i.elasticRight=void 0,i.elasticBottom=void 0,i.elasticLeft=void 0,i.scrollToListId=void 0,i.adhering=!1,i._adheringBarrier=!1,i.nearestListId=void 0,i._beganPos=void 0,i._scrollPos=void 0,i._curScrollIsTouch=void 0,i._scrollToListId=void 0,i._scrollToEndTime=void 0,i._scrollToSo=void 0,i._allItemSize=void 0,i._allItemSizeNoEdge=void 0,i._scrollItem=void 0,i._thisNodeUt=void 0,i}e(i,t);var a=i.prototype;return a.SetForceHideDragTips=function(t){this.mForceHideDragTips=t,1==this.mForceHideDragTips&&(this.mDragToRefresh.active=!1)},a.onLoad=function(){this._init()},a.onDestroy=function(){u(this._itemTmp)&&this._itemTmp.destroy(),u(this.tmpNode)&&this.tmpNode.destroy(),this._pool&&this._pool.clear()},a.onEnable=function(){this._registerEvent(),this._init()},a.onDisable=function(){this._unregisterEvent()},a._registerEvent=function(){this.node.on(l.EventType.TOUCH_START,this._onTouchStart,this),this.node.on("touch-up",this._onTouchUp,this),this.node.on(l.EventType.TOUCH_CANCEL,this._onTouchCancelled,this),this.node.on("scroll-began",this._onScrollBegan,this),this.node.on("scroll-ended",this._onScrollEnded,this),this.node.on("scrolling",this._onScrolling,this),this.node.on(l.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.getComponent(r).node.on(r.EventType.BOUNCE_BOTTOM,this.OnDragBottom,this),this.node.getComponent(r).node.on(r.EventType.BOUNCE_TOP,this.OnDragTop,this)},a._unregisterEvent=function(){this.node.off(l.EventType.TOUCH_START,this._onTouchStart,this),this.node.off("touch-up",this._onTouchUp,this),this.node.off(l.EventType.TOUCH_CANCEL,this._onTouchCancelled,this),this.node.off("scroll-began",this._onScrollBegan,this),this.node.off("scroll-ended",this._onScrollEnded,this),this.node.off("scrolling",this._onScrolling,this),this.node.off(l.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.getComponent(r).node.off(r.EventType.BOUNCE_BOTTOM,this.OnDragBottom,this),this.node.getComponent(r).node.off(r.EventType.BOUNCE_TOP,this.OnDragTop,this)},a._init=function(){if(!this._inited)if(this._thisNodeUt=this.node.getComponent(p),this._scrollView=this.node.getComponent(r),this.content=this._scrollView.content,this._contentUt=this.content.getComponent(p),this.content){switch(this._layout=this.content.getComponent(T),this._align=this._layout.type,this._resizeMode=this._layout.resizeMode,this._startAxis=this._layout.startAxis,this._topGap=this._layout.paddingTop,this._rightGap=this._layout.paddingRight,this._bottomGap=this._layout.paddingBottom,this._leftGap=this._layout.paddingLeft,this._columnGap=this._layout.spacingX,this._lineGap=this._layout.spacingY,this._colLineNum,this._verticalDir=this._layout.verticalDirection,this._horizontalDir=this._layout.horizontalDirection,this.setTemplateItem(g(this.templateType==st.PREFAB?this.tmpPrefab:this.tmpNode)),null!=this.tmpNode&&this.tmpNode.destroy(),this._lastDisplayData=[],this.displayData=[],this._pool=new f,this._forceUpdate=!1,this._updateCounter=0,this._updateDone=!0,this._align){case T.Type.HORIZONTAL:switch(this._horizontalDir){case T.HorizontalDirection.LEFT_TO_RIGHT:this._alignCalcType=1;break;case T.HorizontalDirection.RIGHT_TO_LEFT:this._alignCalcType=2}break;case T.Type.VERTICAL:switch(this._verticalDir){case T.VerticalDirection.TOP_TO_BOTTOM:this._alignCalcType=3;break;case T.VerticalDirection.BOTTOM_TO_TOP:this._alignCalcType=4}break;case T.Type.GRID:switch(this._startAxis){case T.AxisDirection.HORIZONTAL:switch(this._verticalDir){case T.VerticalDirection.TOP_TO_BOTTOM:this._alignCalcType=3;break;case T.VerticalDirection.BOTTOM_TO_TOP:this._alignCalcType=4}break;case T.AxisDirection.VERTICAL:switch(this._horizontalDir){case T.HorizontalDirection.LEFT_TO_RIGHT:this._alignCalcType=1;break;case T.HorizontalDirection.RIGHT_TO_LEFT:this._alignCalcType=2}}}this.content.removeAllChildren(),this._inited=!0}else console.error(this.node.name+"'s ScrollView unset content!")},a._processAutoScrolling=function(t){var i=1e-4,e=new v,s=this._scrollView,h=s._isNecessaryAutoScrollBrake(),o=h?.05:1;s._autoScrollAccumulatedTime+=t*(1/o);var a,n=Math.min(1,s._autoScrollAccumulatedTime/s._autoScrollTotalTime);s._autoScrollAttenuate&&(a=n,n=(a-=1)*a*a*a*a+1);var l=s._autoScrollTargetDelta.clone();l.multiplyScalar(n);var _=s._autoScrollStartPosition.clone();_.add(l);var c=Math.abs(n-1)<=i;if(Math.abs(n-1)<=s.getScrollEndedEventTiming()&&!s._isScrollEndedWithThresholdEventFired&&(s._dispatchEvent(r.EventType.SCROLL_ENG_WITH_THRESHOLD),s._isScrollEndedWithThresholdEventFired=!0),s.elastic){var d=_.clone();d.subtract(s._autoScrollBrakingStartPosition),h&&d.multiplyScalar(o),_.set(s._autoScrollBrakingStartPosition),_.add(d)}else{var m=_.clone();m.subtract(s._getContentPosition());var u=s._getHowMuchOutOfBoundary(m);u.equals(e,i)||(_.add(u),c=!0)}c&&(s._autoScrolling=!1);var p=new v(_);p.subtract(s._getContentPosition()),s._clampDelta(p),s._moveContent(p,c),s._dispatchEvent(r.EventType.SCROLLING),s._autoScrolling||(s._isBouncing=!1,s._scrolling=!1,s._dispatchEvent(r.EventType.SCROLL_ENDED))},a.setTemplateItem=function(t){if(t){if(this._itemTmp=t,this._itemTmpUt=t.getComponent(p),this._resizeMode==T.ResizeMode.CHILDREN)this._itemSize=this._layout.cellSize;else{var i=t.getComponent(p);this._itemSize=new y(i.width,i.height)}var e=t.getComponent(I);switch(e&&e.enabled&&(this._needUpdateWidget=!0),this._align){case T.Type.HORIZONTAL:this._colLineNum=1,this._sizeType=!1;break;case T.Type.VERTICAL:this._colLineNum=1,this._sizeType=!0;break;case T.Type.GRID:switch(this._startAxis){case T.AxisDirection.HORIZONTAL:var s=this._contentUt.width-this._leftGap-this._rightGap;this._colLineNum=Math.floor((s+this._columnGap)/(this._itemSize.width+this._columnGap)),this._sizeType=!0;break;case T.AxisDirection.VERTICAL:var h=this._contentUt.height-this._topGap-this._bottomGap;this._colLineNum=Math.floor((h+this._lineGap)/(this._itemSize.height+this._lineGap)),this._sizeType=!1}}}},a.checkInited=function(t){return void 0===t&&(t=!0),!!this._inited||(t&&console.error("List initialization not completed!"),!1)},a._resizeContent=function(){var t;switch(this._align){case T.Type.HORIZONTAL:if(this._customSize){var i=this._getFixedSize(null);t=this._leftGap+i.val+this._itemSize.width*(this._numItems-i.count)+this._columnGap*(this._numItems-1)+this._rightGap}else t=this._leftGap+this._itemSize.width*this._numItems+this._columnGap*(this._numItems-1)+this._rightGap;break;case T.Type.VERTICAL:if(this._customSize){var e=this._getFixedSize(null);t=this._topGap+e.val+this._itemSize.height*(this._numItems-e.count)+this._lineGap*(this._numItems-1)+this._bottomGap}else t=this._topGap+this._itemSize.height*this._numItems+this._lineGap*(this._numItems-1)+this._bottomGap;break;case T.Type.GRID:switch(this._startAxis){case T.AxisDirection.HORIZONTAL:var s=Math.ceil(this._numItems/this._colLineNum);t=this._topGap+this._itemSize.height*s+this._lineGap*(s-1)+this._bottomGap;break;case T.AxisDirection.VERTICAL:var h=Math.ceil(this._numItems/this._colLineNum);t=this._leftGap+this._itemSize.width*h+this._columnGap*(h-1)+this._rightGap}}var o=this.content.getComponent(T);o&&(o.enabled=!1),this._allItemSize=t,this._allItemSizeNoEdge=this._allItemSize-(this._sizeType?this._topGap+this._bottomGap:this._leftGap+this._rightGap),this.lackSlide=!1,(this._allItemSize<=this._thisNodeUt.height||0==this._numItems)&&(this.lackSlide=!0);var a=this.lackSlide?0:.1,n=this.lackSlide?(this._sizeType?this._thisNodeUt.height:this._thisNodeUt.width)-a:this._allItemSize;n<0&&(n=0),this._sizeType?this._contentUt.height=n:this._contentUt.width=n},a._onScrolling=function(t){var i,e,s,h;if(void 0===t&&(t=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,this._calcViewPos(),this._sizeType?(i=this.viewTop,s=this.viewBottom):(e=this.viewRight,h=this.viewLeft),this._virtual){var o;this.displayData=[];var a=0,n=this._numItems-1;if(this._customSize)for(var r=!1;a<=n&&!r;a++)switch(o=this._calcItemPos(a),this._align){case T.Type.HORIZONTAL:o.right>=h&&o.left<=e?this.displayData.push(o):0!=a&&this.displayData.length>0&&(r=!0);break;case T.Type.VERTICAL:o.bottom<=i&&o.top>=s?this.displayData.push(o):0!=a&&this.displayData.length>0&&(r=!0);break;case T.Type.GRID:switch(this._startAxis){case T.AxisDirection.HORIZONTAL:o.bottom<=i&&o.top>=s?this.displayData.push(o):0!=a&&this.displayData.length>0&&(r=!0);break;case T.AxisDirection.VERTICAL:o.right>=h&&o.left<=e?this.displayData.push(o):0!=a&&this.displayData.length>0&&(r=!0)}}else{var l=this._itemSize.width+this._columnGap,_=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:a=(h-this._leftGap)/l,n=(e-this._leftGap)/l;break;case 2:a=(-e-this._rightGap)/l,n=(-h-this._rightGap)/l;break;case 3:a=(-i-this._topGap)/_,n=(-s-this._topGap)/_;break;case 4:a=(s-this._bottomGap)/_,n=(i-this._bottomGap)/_}for(a=Math.floor(a)*this._colLineNum,n=Math.ceil(n)*this._colLineNum,a<0&&(a=0),--n>=this._numItems&&(n=this._numItems-1);a<=n;a++)this.displayData.push(this._calcItemPos(a))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var c=this._lastDisplayData.length,d=this.displayItemNum!=c;if(d&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort((function(t,i){return t-i})),d=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[c-1]),this._forceUpdate||d)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var m=0;m<this.displayItemNum;m++)this._createOrUpdateItem(this.displayData[m]);this._forceUpdate=!1}this._calcNearestItem()}},a._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this._thisNodeUt.width,this.elasticRight=this.viewRight>this._contentUt.width?Math.abs(this.viewRight-this._contentUt.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this._thisNodeUt.width,this.elasticLeft=this.viewLeft<-this._contentUt.width?Math.abs(this.viewLeft+this._contentUt.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this._thisNodeUt.height,this.elasticBottom=this.viewBottom<-this._contentUt.height?Math.abs(this.viewBottom+this._contentUt.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this._thisNodeUt.height,this.elasticTop=this.viewTop>this._contentUt.height?Math.abs(this.viewTop-this._contentUt.height):0,this.viewTop-=this.elasticTop}},a._calcItemPos=function(t){var i,e,s,h,o,a,n,r;switch(this._align){case T.Type.HORIZONTAL:switch(this._horizontalDir){case T.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var l=this._getFixedSize(t);o=this._leftGap+(this._itemSize.width+this._columnGap)*(t-l.count)+(l.val+this._columnGap*l.count);var _=this._customSize[t];i=_>0?_:this._itemSize.width}else o=this._leftGap+(this._itemSize.width+this._columnGap)*t,i=this._itemSize.width;return{id:t,left:o,right:a=o+i,x:o+this._itemTmpUt.anchorX*i,y:this._itemTmp.y};case T.HorizontalDirection.RIGHT_TO_LEFT:if(this._customSize){var c=this._getFixedSize(t);a=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-c.count)-(c.val+this._columnGap*c.count);var d=this._customSize[t];i=d>0?d:this._itemSize.width}else a=-this._rightGap-(this._itemSize.width+this._columnGap)*t,i=this._itemSize.width;return{id:t,right:a,left:o=a-i,x:o+this._itemTmpUt.anchorX*i,y:this._itemTmp.y}}break;case T.Type.VERTICAL:switch(this._verticalDir){case T.VerticalDirection.TOP_TO_BOTTOM:if(this._customSize){var m=this._getFixedSize(t);s=-this._topGap-(this._itemSize.height+this._lineGap)*(t-m.count)-(m.val+this._lineGap*m.count);var u=this._customSize[t];e=u>0?u:this._itemSize.height}else s=-this._topGap-(this._itemSize.height+this._lineGap)*t,e=this._itemSize.height;return{id:t,top:s,bottom:h=s-e,x:this._itemTmp.x,y:h+this._itemTmpUt.anchorY*e};case T.VerticalDirection.BOTTOM_TO_TOP:if(this._customSize){var p=this._getFixedSize(t);h=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-p.count)+(p.val+this._lineGap*p.count);var g=this._customSize[t];e=g>0?g:this._itemSize.height}else h=this._bottomGap+(this._itemSize.height+this._lineGap)*t,e=this._itemSize.height;return{id:t,top:s=h+e,bottom:h,x:this._itemTmp.x,y:h+this._itemTmpUt.anchorY*e}}case T.Type.GRID:var f=Math.floor(t/this._colLineNum);switch(this._startAxis){case T.AxisDirection.HORIZONTAL:switch(this._verticalDir){case T.VerticalDirection.TOP_TO_BOTTOM:r=(h=(s=-this._topGap-(this._itemSize.height+this._lineGap)*f)-this._itemSize.height)+this._itemTmpUt.anchorY*this._itemSize.height;break;case T.VerticalDirection.BOTTOM_TO_TOP:s=(h=this._bottomGap+(this._itemSize.height+this._lineGap)*f)+this._itemSize.height,r=h+this._itemTmpUt.anchorY*this._itemSize.height}switch(n=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case T.HorizontalDirection.LEFT_TO_RIGHT:n+=this._itemTmpUt.anchorX*this._itemSize.width,n-=this._contentUt.anchorX*this._contentUt.width;break;case T.HorizontalDirection.RIGHT_TO_LEFT:n+=(1-this._itemTmpUt.anchorX)*this._itemSize.width,n-=(1-this._contentUt.anchorX)*this._contentUt.width,n*=-1}return{id:t,top:s,bottom:h,x:n,y:r};case T.AxisDirection.VERTICAL:switch(this._horizontalDir){case T.HorizontalDirection.LEFT_TO_RIGHT:a=(o=this._leftGap+(this._itemSize.width+this._columnGap)*f)+this._itemSize.width,n=o+this._itemTmpUt.anchorX*this._itemSize.width,n-=this._contentUt.anchorX*this._contentUt.width;break;case T.HorizontalDirection.RIGHT_TO_LEFT:n=(o=(a=-this._rightGap-(this._itemSize.width+this._columnGap)*f)-this._itemSize.width)+this._itemTmpUt.anchorX*this._itemSize.width,n+=(1-this._contentUt.anchorX)*this._contentUt.width}switch(r=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case T.VerticalDirection.TOP_TO_BOTTOM:r-=(1-this._itemTmpUt.anchorY)*this._itemSize.height,r+=(1-this._contentUt.anchorY)*this._contentUt.height;break;case T.VerticalDirection.BOTTOM_TO_TOP:r-=this._itemTmpUt.anchorY*this._itemSize.height,r+=this._contentUt.anchorY*this._contentUt.height,r*=-1}return{id:t,left:o,right:a,x:n,y:r}}}},a._calcExistItemPos=function(t){var i=this.getItemByListId(t);if(!i)return null;var e=i.getComponent(p),s=i.getPosition(),h={id:t,x:s.x,y:s.y};return this._sizeType?(h.top=s.y+e.height*(1-e.anchorY),h.bottom=s.y-e.height*e.anchorY):(h.left=s.x-e.width*e.anchorX,h.right=s.x+e.width*(1-e.anchorX)),h},a.getItemPos=function(t){return this._virtual||this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},a._getFixedSize=function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var i=0,e=0;for(var s in this._customSize)parseInt(s)<t&&(i+=this._customSize[s],e++);return{val:i,count:e}},a._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},a._onScrollEnded=function(){if(this._curScrollIsTouch=!1,null!=this.scrollToListId){var t=this.getItemByListId(this.scrollToListId);this.scrollToListId=null,t&&S(t).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}this._onScrolling()},a._onTouchStart=function(t,i){if(!this._scrollView._hasNestedViewGroup(t,i)&&(this._curScrollIsTouch=!0,!(t.eventPhase===Event.AT_TARGET&&t.target===this.node))){for(var e=t.target;null==e._listId&&e.parent;)e=e.parent;this._scrollItem=null!=e._listId?e:t.target}},a._onTouchUp=function(){this._scrollPos=null,this._scrollItem=null},a._onTouchCancelled=function(t,i){this._scrollView._hasNestedViewGroup(t,i)||t.simulate||(this._scrollPos=null,this._scrollItem=null)},a._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},a.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,i=this._updateCounter;i<t;i++){var e=this.displayData[i];e&&this._createOrUpdateItem(e)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem()):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(var s=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,h=this._updateCounter;h<s;h++)this._createOrUpdateItem2(h);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem()},a._createOrUpdateItem=function(t){var i=this.getItemByListId(t.id);if(i)this._forceUpdate&&this.renderEvent&&(i.setPosition(new v(t.x,t.y,0)),this._resetItemSize(i),this.renderEvent&&this.renderEvent(i,t.id%this._actualNumItems));else{var e=this._pool.size()>0;if(i=e?this._pool.get():g(this._itemTmp),e&&u(i)||(i=g(this._itemTmp),e=!1),i._listId!=t.id)i._listId=t.id,i.getComponent(p).setContentSize(this._itemSize);if(i.setPosition(new v(t.x,t.y,0)),this._resetItemSize(i),this.content.addChild(i),e&&this._needUpdateWidget){var s=i.getComponent(I);s&&s.updateAlignment()}i.setSiblingIndex(this.content.children.length-1),this.renderEvent&&this.renderEvent(i,t.id%this._actualNumItems)}this._resetItemSize(i),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},a._createOrUpdateItem2=function(t){var i=this.content.children[t];i?this._forceUpdate&&this.renderEvent&&this.renderEvent&&this.renderEvent(i,t%this._actualNumItems):((i=g(this._itemTmp))._listId=t,this.content.addChild(i),this.renderEvent&&this.renderEvent(i,t%this._actualNumItems)),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},a._resetItemSize=function(t){},a.updateItem=function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var i=0,e=t.length;i<e;i++){var s=t[i],h=this.getItemByListId(s);h&&this.renderEvent&&this.renderEvent(h,s%this._actualNumItems)}}},a.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},a.getItemByListId=function(t){if(this.content)for(var i=this.content.children.length-1;i>=0;i--){var e=this.content.children[i];if(e._listId==t)return e}},a._getOutsideItem=function(){for(var t,i=[],e=this.content.children.length-1;e>=0;e--)t=this.content.children[e],this.displayData.find((function(i){return i.id==t._listId}))||i.push(t);return i},a._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),i=t.length-1;i>=0;i--){var e=t[i];if(!this._scrollItem||e._listId!=this._scrollItem._listId){e.isCached=!0,this._pool.put(e);for(var s=this._lastDisplayData.length-1;s>=0;s--)if(this._lastDisplayData[s]==e._listId){this._lastDisplayData.splice(s,1);break}}}else for(;this.content.children.length>this._numItems;)this.DelSingleItem(this.content.children[this.content.children.length-1])},a.DelSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},a.scrollTo=function(t,i,e,s){var h=this;if(void 0===i&&(i=.5),void 0===e&&(e=null),void 0===s&&(s=!1),this.checkInited(!1)){null==i?i=.5:i<0&&(i=0),t<0?t=0:t>=this._numItems&&(t=this._numItems-1),!this._virtual&&this._layout&&this._layout.enabled&&this._layout.updateLayout();var o,a,n=this.getItemPos(t);if(!n)return w;switch(this._alignCalcType){case 1:o=n.left,o-=null!=e?this._thisNodeUt.width*e:this._leftGap,n=new v(o,0,0);break;case 2:o=n.right-this._thisNodeUt.width,o+=null!=e?this._thisNodeUt.width*e:this._rightGap,n=new v(o+this._contentUt.width,0,0);break;case 3:a=n.top,a+=null!=e?this._thisNodeUt.height*e:this._topGap,n=new v(0,-a,0);break;case 4:a=n.bottom+this._thisNodeUt.height,a-=null!=e?this._thisNodeUt.height*e:this._bottomGap,n=new v(0,-a+this._contentUt.height,0)}var r=this.content.getPosition();r=Math.abs(this._sizeType?r.y:r.x);var l=this._sizeType?n.y:n.x;Math.abs((null!=this._scrollPos?this._scrollPos:r)-l)>.5&&(this._scrollView.scrollToOffset(n,i),this._scrollToListId=t,this._scrollToEndTime=(new Date).getTime()/1e3+i,this._scrollToSo=this.scheduleOnce((function(){if(h._adheringBarrier||(h.adhering=h._adheringBarrier=!1),h._scrollPos=h._scrollToListId=h._scrollToEndTime=h._scrollToSo=null,s){var i=h.getItemByListId(t);i&&S(i).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}}),i+.1),i<=0&&this._onScrolling())}},a._calcNearestItem=function(){var t,i,e,s,h,o;this.nearestListId=null,this._virtual&&this._calcViewPos(),e=this.viewTop,s=this.viewRight,h=this.viewBottom,o=this.viewLeft;for(var a=!1,n=0;n<this.content.children.length&&!a;n+=this._colLineNum)if(t=this._virtual?this.displayData[n]:this._calcExistItemPos(n))switch(i=this._sizeType?(t.top+t.bottom)/2:i=(t.left+t.right)/2,this._alignCalcType){case 1:t.right>=o&&(this.nearestListId=t.id,o>i&&(this.nearestListId+=this._colLineNum),a=!0);break;case 2:t.left<=s&&(this.nearestListId=t.id,s<i&&(this.nearestListId+=this._colLineNum),a=!0);break;case 3:t.bottom<=e&&(this.nearestListId=t.id,e<i&&(this.nearestListId+=this._colLineNum),a=!0);break;case 4:t.top>=h&&(this.nearestListId=t.id,h>i&&(this.nearestListId+=this._colLineNum),a=!0)}if((t=this._virtual?this.displayData[this.displayItemNum-1]:this._calcExistItemPos(this._numItems-1))&&t.id==this._numItems-1)switch(i=this._sizeType?(t.top+t.bottom)/2:i=(t.left+t.right)/2,this._alignCalcType){case 1:s>i&&(this.nearestListId=t.id);break;case 2:o<i&&(this.nearestListId=t.id);break;case 3:h<i&&(this.nearestListId=t.id);break;case 4:e>i&&(this.nearestListId=t.id)}},a.SetRenderCallback=function(t){this.renderEvent=t},a.SetDragBottom=function(t){this.dragBottomCallback=t},a.SetDragTop=function(t){this.dragTopCallback=t},a.OnDragBottom=function(){this.dragBottomCallback&&this.dragBottomCallback()},a.OnDragTop=function(){this.dragTopCallback&&this.dragTopCallback()},o(i,[{key:"virtual",get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()}},{key:"updateRate",get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)}},{key:"numItems",get:function(){return this._actualNumItems},set:function(t){if(this.checkInited(!1))if(null==t||t<0)console.error("numItems set the wrong::",t);else if(this._actualNumItems=this._numItems=t,this._forceUpdate=!0,1==this.mForceHideDragTips?this.mDragToRefresh.active=!1:null!=this.mDragToRefresh&&(this.mDragToRefresh.active=0==t),this._virtual)this._resizeContent(),this._onScrolling();else{var i=this.content.getComponent(T);if(i&&(i.enabled=!0),this._delRedundantItem(),this.firstListId=0,this.frameByFrameRenderNum>0){for(var e=this.frameByFrameRenderNum>this._numItems?this._numItems:this.frameByFrameRenderNum,s=0;s<e;s++)this._createOrUpdateItem2(s);this.frameByFrameRenderNum<this._numItems&&(this._updateCounter=this.frameByFrameRenderNum,this._updateDone=!1)}else{for(var h=0;h<this._numItems;h++)this._createOrUpdateItem2(h);this.displayItemNum=this._numItems}}}},{key:"scrollView",get:function(){return this._scrollView}}]),i}(D)).prototype,"mDragToRefresh",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(H.prototype,"templateType",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.NODE}}),X=i(H.prototype,"tmpNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(H.prototype,"tmpPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(H.prototype,"_virtual",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),i(H.prototype,"virtual",[U],Object.getOwnPropertyDescriptor(H.prototype,"virtual"),H.prototype),W=i(H.prototype,"lackSlide",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=i(H.prototype,"_updateRate",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(H.prototype,"updateRate",[A],Object.getOwnPropertyDescriptor(H.prototype,"updateRate"),H.prototype),q=i(H.prototype,"frameByFrameRenderNum",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=i(H.prototype,"_numItems",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=H))||F)||F)||F)||F)||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/ListViewCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ListView.ts","./BaseUI.ts"],(function(t){var e,i,n,s,r,a,o,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator},function(t){o=t.default},function(t){u=t.BaseUI}],execute:function(){var h,m,c,f,g;r._RF.push({},"d17573/87FBqIKfbw7yzedp","ListViewCtr",void 0);var l=a.ccclass,D=a.property;t("ListviewCtr",(h=l("ListViewCtr"),m=D(o),h((g=e((f=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"mListView",g,s(e)),e.mCurrentPage=1,e.mPageSize=20,e.mIsLastPage=!1,e.mCurrentData=void 0,e.mCanDragRefresh=!0,e}i(e,t);var r=e.prototype;return r.InitParam=function(){},r.BindUI=function(){this.mListView.SetDragBottom(this.OnDragBottom.bind(this)),this.mListView.SetDragTop(this.OnDragTop.bind(this)),this.mListView.SetRenderCallback(this.RenderEvent.bind(this)),this.ResetPage()},r.RegDataNotify=function(){},r.LateInit=function(){},r.CustmoerDestory=function(){this.mCurrentData=null},r.SetDragRefreshFunction=function(t){this.mCanDragRefresh=t},r.SetForceHideDragTips=function(t){this.mListView.SetForceHideDragTips(t)},r.OnDragTop=function(){this.mCanDragRefresh},r.OnDragBottom=function(){0!=this.mCanDragRefresh&&(this.mIsLastPage||this.Refresh(this.mCurrentPage))},r.ResetPage=function(){this.mIsLastPage=!1,this.mCurrentData=new Array,this.mCurrentPage=1,this.mListView.numItems=0},r.ClearAndRequestData=function(){this.ResetPage(),this.Refresh(this.mCurrentPage)},r.ForceUpdateData=function(t){this.mCurrentData=t,this.mListView.numItems=this.mCurrentData.length,this.mIsLastPage=!0},r.InsertData=function(t,e){if(void 0===e&&(e=0),null!=this.mCurrentData){for(var i=0;i<t.length;i++)this.mCurrentData.push(t[i]);this.mListView.numItems=this.mCurrentData.length,this.mCurrentData.length>=e?this.mIsLastPage=!0:this.mIsLastPage=!1,this.mCurrentPage++}},r.RefreshData=function(){this.mListView.numItems=this.mCurrentData.length},e}(u)).prototype,"mListView",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=f))||c));r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseData.ts","./Singleton.ts"],(function(t){var n,a,e,o;return{setters:[function(t){n=t.inheritsLoose},function(t){a=t.cclegacy},function(t){e=t.BaseData},function(t){o=t.SingletonBaseNotify}],execute:function(){a._RF.push({},"8fed4UqDcxEip31KVAOqgA5","LoadingData",void 0);t("LoadingData",function(t){function a(){for(var n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).Data_HotUpdateEnd=new e,n.Data_HotUpdateProgress=new e,n.Data_HotUpdateTips=new e,n.Data_LoginFailed=new e(!0),n}return n(a,t),a.prototype.ResetInstance=function(){a.ClearInstance()},a}(o()));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingDisconnect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts"],(function(n){var t,e,o,c,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator},function(n){c=n.BaseUI},function(n){i=n.BaseButton}],execute:function(){var a,r;e._RF.push({},"c064fC80zpHmLtcunIeMqW8","LoadingDisconnect",void 0);var s=o.ccclass;o.property,n("LoadingDisconnect",s("LoadingDisconnect")(((r=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(t=n.call.apply(n,[this].concat(o))||this).mRefreshBtn=null,t}t(e,n);var o=e.prototype;return o.InitParam=function(){this.mRefreshBtn=this.node.getChildByPath("BG/RefreshBtn").getComponent(i)},o.BindUI=function(){this.mRefreshBtn.SetClickCallback((function(){top.location.reload()}))},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},e}(c)).PrefabPath="prefab/LoadingDisconnect",r.Bunddle="loading",a=r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingMask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts"],(function(n){var i,t,e,r,a,o,u,c,s,l;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){a=n.cclegacy,o=n._decorator,u=n.SpriteFrame,c=n.Label,s=n.Sprite},function(n){l=n.BaseUI}],execute:function(){var p,f,d,m,g,h,b,y,L,I;a._RF.push({},"caa30NQQ25C3rdv+OlxhDhj","LoadingMask",void 0);var v=o.ccclass,k=o.property;n("LoadingMask",(p=v("LoadingMask"),f=k([u]),d=k(c),m=k(s),p(((I=function(n){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=n.call.apply(n,[this].concat(a))||this,e(i,"mLoadingFrames",b,r(i)),e(i,"mTips",y,r(i)),e(i,"mIcon",L,r(i)),i.mCurrentIndex=0,i}t(i,n);var a=i.prototype;return a.InitParam=function(){this.mCurrentIndex=0},a.BindUI=function(){},a.RegDataNotify=function(){},a.LateInit=function(){},a.CustmoerDestory=function(){},a.ShowLoading=function(n,i){void 0===i&&(i=""),this.node.active=n,this.mTips.string=i},a.StartLoadingAnimation=function(){this.mCurrentIndex=0},i}(l)).PrefabPath="prefab/LoadingMask",I.Bunddle="common",b=i((h=I).prototype,"mLoadingFrames",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(h.prototype,"mTips",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(h.prototype,"mIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./UIMgr.ts","./LoadingData.ts","./BaseButton.ts","./GameUI.ts","./GameData.ts","./ProgressSliderSimple.ts","./Tool.ts","./LoadingDisconnect.ts"],(function(i){var t,n,e,o,s,a,r,d,m,c,u,h,g,p,l,S,f,T,L;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator,o=i.Label,s=i.Widget,a=i.sys,r=i.Color,d=i.Tween,m=i.tween},function(i){c=i.BaseUI},function(i){u=i.UIMgr,h=i.SceneType},function(i){g=i.LoadingData},function(i){p=i.BaseButton},function(i){l=i.GameUI},function(i){S=i.GameData},function(i){f=i.ProgressSliderSimple},function(i){T=i.Tool},function(i){L=i.LoadingDisconnect}],execute:function(){var P,b;n._RF.push({},"dddd42YZT9N8ItX01ZCopex","LoadingUI",void 0);var w=e.ccclass;e.property,i("LoadingUI",w("LoadingUI")(((b=function(i){function n(){for(var t,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(t=i.call.apply(i,[this].concat(e))||this).mStartBtn=null,t.mProgressBG=null,t.mProgress=null,t.mMainTips=null,t.mSubTips=null,t.mCurrentSubTipsIndex=0,t.mSubTipsConfig=void 0,t.mOriginSubTipsPosition=void 0,t.mStartFakeLoading=!1,t.mObjNum=void 0,t.mClearBtn=null,t.mFakeLoadingDuration=25,t.mFakeLoadingNowTime=0,t.mShowVerify=!1,t.mShowPlayerLogin=!1,t.mShowLoadingSrc=!1,t}t(n,i);var e=n.prototype;return e.InitParam=function(){this.mMainTips=this.node.getChildByPath("MainTips").getComponent(o),this.mSubTips=this.node.getChildByPath("SubTips").getComponent(o),this.mStartBtn=this.node.getChildByPath("StartBtn").getComponent(p),this.mClearBtn=this.node.getChildByPath("ClearBtn").getComponent(p),this.mProgressBG=this.node.getChildByPath("ProgressBG"),this.mProgress=this.node.getChildByPath("ProgressBG/ProgressSliderSimple").getComponent(f),this.mSubTipsConfig=new Array,this.mSubTipsConfig.push("Aguarde um momento, o primeiro carregamento pode levar um pouco mais de tempo"),this.mSubTipsConfig.push("O pré-carregamento dos recursos do jogo é mais rápido no Wi-Fi"),this.mSubTipsConfig.push("Use a versão mais recente para obter a melhor experiência de jogo"),this.mSubTipsConfig.push("Ganhe grandes prêmios sem parar"),this.mSubTipsConfig.push("Receba ótimas recompensas nas missões diárias")},e.BindUI=function(){this.mStartBtn.SetClickCallback((function(){u.Instance.ShowStaticUI(!0),u.Instance.ChangeScene(h.Game)})),this.mProgress.SetEnable(!1),this.mProgressBG.active=!0,this.mStartBtn.Show(!1),this.mObjNum={a:0};var i=this.mSubTips.node.getComponent(s);null!=i&&(i.updateAlignment(),i.destroy()),this.mOriginSubTipsPosition=this.mSubTips.node.getPosition(),this.UpdateMainTipsAsProgress(.05),this.PlaySubTipsAnm(),this.hideLoadingSvg(),this.mClearBtn.SetClickCallback((function(){S.Instance.ClearLocalData()}))},e.hideLoadingSvg=function(){if(a.isMobile||a.isBrowser){var i=function(){m({opacity:1}).to(.4,{opacity:0},{progress:function(i,t,n,e){var o=i+(t-i)*e,s=document.getElementById("initial-loader");return s&&(s.style.opacity=""+o),o}}).call((function(){var i=document.getElementById("initial-loader");i&&i.remove()})).start()},t=window._svgStartDate;if(!t)return void i();var n=window._svgDuration,e=(new Date).getTime()-t.getTime();if(e<n)return void this.scheduleOnce((function(){i()}),(n-e)/1e3);i()}},e.ShowSubTips=function(){var i=this;S.ResourceLoaded||this.StartSecondsTimer(1,1,(function(){i.PlaySubTipsAnm()}))},e.PlaySubTipsAnm=function(){var i=this,t=T.Random(0,this.mSubTipsConfig.length-1);this.mSubTips.string=this.mSubTipsConfig[t],this.mSubTips.color=new r(255,255,255,0);var n=new d(this.mObjNum);n.to(.5,{a:100},{progress:function(t,n,e,o){var s,a=Math.round(n*o);s=255*o/1,i.mSubTips.color=new r(255,255,255,s);var d=i.mOriginSubTipsPosition.y-50+50*o;return i.mSubTips.node.setPosition(0,d),a}}),n.delay(1),n.to(.5,{a:100},{progress:function(t,n,e,o){var s,a=Math.round(n*o);s=(1-o)/1*255,i.mSubTips.color=new r(255,255,255,s);var d=i.mOriginSubTipsPosition.y+50*o;return i.mSubTips.node.setPosition(0,d),a}}),n.call((function(){i.ShowSubTips()})),n.start()},e.UpdateMainTipsAsProgress=function(i){this.mProgress.SetPercent(i);var t=(100*i).toFixed(0)+"%",n="";1==this.mShowLoadingSrc?n="Carregando recursos":1==this.mShowPlayerLogin?n="Verificação de login":1==this.mShowVerify&&(n="Verificação do jogador"),this.mMainTips.string=n+"【"+t+"】",.99==i&&(g.Instance.Data_HotUpdateEnd.mData=!0)},e.RegDataNotify=function(){var i=this;S.Instance.Data_TProtoMjhlUserInfoRsp.AddListenner(this,(function(t){i.mMainTips.string="Login bem-sucedido",S.ResourceLoaded=!0,i.StopAllTween(i.mObjNum),i.StartSecondsTimer(.5,.5,(function(){i.mSubTips.node.active=!1,i.mProgressBG.active=!1,i.mMainTips.node.active=!1,u.Instance.ShowStaticUI(!0),u.Instance.ChangeScene(h.Game)}))})),g.Instance.Data_LoginFailed.AddListenner(this,(function(t){i.StopAllTween(i.mObjNum),i.mSubTips.node.active=!1,i.mMainTips.string="Falha no login",u.Instance.ShowLayer("LoadingDisconnect",L.Bunddle,L.PrefabPath)})),g.Instance.Data_HotUpdateEnd.AddListenner(this,(function(t){if(t){if(1==S.ResourceLoaded)return i.mMainTips.string="Fazendo login",void l.CreateItemPool(l.RecyclePoolCount,(function(i){i&&S.Instance.PostGetUserInfo()}));i.scheduleOnce((function(){i.mShowVerify=!0}),2)}})),g.Instance.Data_HotUpdateProgress.AddListenner(this,(function(t){i.UpdateMainTipsAsProgress(t)})),g.Instance.Data_HotUpdateTips.AddListenner(this,(function(i){}))},e.LateInit=function(){var i=this;u.Instance.ShowStaticUI(!1),this.StartFakeLoading(),u.Instance.LoadRestRes((function(){i.StopFakeLoading(),i.mMainTips.string="正在登录",l.CreateItemPool(l.RecyclePoolCount,(function(i){i&&S.Instance.PostGetUserInfo()}))}),(function(i){}))},e.CustmoerDestory=function(){g.Instance.Clear()},e.StartFakeLoading=function(){this.mStartFakeLoading=!0,this.mFakeLoadingDuration=25,this.mFakeLoadingNowTime=0,this.mShowVerify=!1,this.mShowPlayerLogin=!1,this.mShowLoadingSrc=!0,this.UpdateMainTipsAsProgress(0)},e.StopFakeLoading=function(){this.mStartFakeLoading=!1,this.UpdateMainTipsAsProgress(1)},e.update=function(i){if(0!=this.mStartFakeLoading){this.mFakeLoadingNowTime+=i,0==this.mShowPlayerLogin&&this.mFakeLoadingNowTime>1.5&&(this.mShowPlayerLogin=!0),0==this.mShowLoadingSrc&&this.mFakeLoadingNowTime>3&&(this.mShowLoadingSrc=!0);var t=this.mFakeLoadingNowTime/this.mFakeLoadingDuration;t>.99&&(t=.99),this.UpdateMainTipsAsProgress(t)}},n}(c)).PrefabPath="prefab/LoadingUI",b.Bunddle="loading",P=b))||P);n._RF.pop()}}}));

System.register("chunks:///_virtual/Localization.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"2bbf988b2BPxKVqvFkn0pfY","Localization",void 0);var n=e("LanguageType",function(e){return e[e.EN=0]="EN",e[e.HK=1]="HK",e[e.CN=2]="CN",e}({})),t=e("Localization",function(){function e(){}return e.SetLanguage=function(a){switch(this.CurrentLanguageType=a,this.CurrentLanguageType){case n.EN:e.CurrentLanguage="en";break;case n.HK:case n.CN:e.CurrentLanguage="ch"}},e.GetString=function(e){var a=this.LocationData.findIndex((function(a){return a.name===e}));return a>=0?this.LocationData[a][this.CurrentLanguage]:(console.log("没有找到对应的多语言 key===="+e),"")},e.ReplaceString=function(a,n){return e.GetString(a).replace("xxx",n)},e}());t.CurrentLanguage=void 0,t.CurrentLanguageType=n.CN,t.LocationData=[{name:"00000",ch:"Carregamento de recursos concluído",en:"load src finished",korea:""},{name:"00001",ch:"Rotação rápida ativada",en:"xxx",korea:""},{name:"00002",ch:"Rotação rápida desativada",en:"xxx",korea:""},{name:"00003",ch:"Aposta mínima",en:"xxx",korea:""},{name:"00004",ch:"Aposta máxima",en:"xxx",korea:""},{name:"00005",ch:"Saldo insuficiente, por favor recarregue",en:"xxx",korea:""}],a._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizationText.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Localization.ts"],(function(t){var e,i,n,o,r,a,l,c,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Label,c=t.Component},function(t){s=t.Localization}],execute:function(){var u,p,f,L,h;r._RF.push({},"48040IfVMxKMrYkAiQNAlqB","LocalizationText",void 0);var y=a.ccclass,m=a.property;t("LocalizationText",(u=y("LocalizationText"),p=m({}),u((h=e((L=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"mKey",h,o(e)),e.mLabel=null,e}return i(e,t),e.prototype.start=function(){this.mLabel=this.node.getComponent(l),this.mLabel&&(this.mLabel.string=s.GetString(this.mKey))},e}(c)).prototype,"mKey",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=L))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalPlayerData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseData.ts","./Singleton.ts"],(function(a){var t,n,e,o,c;return{setters:[function(a){t=a.inheritsLoose},function(a){n=a.cclegacy,e=a._decorator},function(a){o=a.BaseData},function(a){c=a.SingletonBaseNotify}],execute:function(){var r;n._RF.push({},"59e77ThxKhDbJXtfEb1M3d7","LocalPlayerData",void 0);var i=e.ccclass;e.property,a("LocalPlayerData",i("LocalPlayerData")(r=function(a){function n(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=a.call.apply(a,[this].concat(e))||this).Data_Uid=new o(!1,"selfUid"),t.Data_NickName=new o,t.Data_Head=new o(!1,null),t.Data_Coin=new o,t.Data_Diamond=new o,t}t(n,a);var e=n.prototype;return e.ResetInstance=function(){n.ClearInstance()},e.LoadLocalConfig=function(){},n}(c()))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorageService.ts",["cc"],(function(e){var r,a;return{setters:[function(e){r=e.cclegacy,a=e.sys}],execute:function(){r._RF.push({},"99817jZhDxH6I9SxA+v3MF2","LocalStorageService",void 0);var t="GameDataSnapshotV2";e("LocalStorageService",function(){function e(){}return e.clearGameData=function(){try{a.localStorage.removeItem(t)}catch(e){console.error("LocalStorageService.clearGameData error",e)}},e.saveGameData=function(e){try{var r=JSON.stringify(e);a.localStorage.setItem(t,r)}catch(e){console.error("LocalStorageService.saveGameData error",e)}},e.loadGameData=function(){try{var e=a.localStorage.getItem(t);return e&&0!==e.length?JSON.parse(e):null}catch(e){return console.error("LocalStorageService.loadGameData error",e),null}},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./protobuf.min.mjs_cjs=&original=.js","./protobufMaJiang.mjs_cjs=&original=.js","./CommonNotify.ts","./Config.ts","./GameConfig.ts","./Start.ts","./Tool.ts","./AdaptTop.ts","./DragDownEvent.ts","./DragLayerListener.ts","./DynamicAdaptScreen.ts","./FullScreenNode.ts","./ListView.ts","./ListViewCtr.ts","./MovingShow.ts","./Group.ts","./Holder.ts","./Manager.ts","./ScrollAdapter.ts","./View.ts","./Indicator.ts","./Scrollbar.ts","./debug.ts","./enum.ts","./interface.ts","./helper.ts","./CenterManager.ts","./LayoutManager.ts","./ModelManager.ts","./PageViewManager.ts","./ReleaseManager.ts","./ScrollManager.ts","./ViewManager.ts","./SA_ScrollCards.ts","./SA_ScrollCardsItem.ts","./SpineCtr.ts","./AudioManager.ts","./BaseData.ts","./BaseDataNotify.ts","./BaseUI.ts","./BaseWindow.ts","./DataNotify.ts","./Heartbeat.ts","./JsbScript.ts","./LocalPlayerData.ts","./LocalStorageService.ts","./Localization.ts","./LocalizationText.ts","./ResMgr.ts","./Singleton.ts","./TaskTimeUtil.ts","./UIMgr.ts","./KwaiSDKConfig.ts","./KwaiSDKManager.ts","./ConstantConfig.ts","./LevelConfig.ts","./TableMgr.ts","./TaskConfig.ts","./TaskMgr.ts","./TaskStorageService.ts","./BaseButton.ts","./CircleTimer.ts","./DropBox.ts","./DropBoxItem.ts","./LoadingMask.ts","./ProgressSlider.ts","./ProgressSliderSimple.ts","./Toast.ts","./ToggleBtn.ts","./AddMainDailyRewardService.ts","./AddMainDayRewardGuidePanel.ts","./AddMainDayRewardPanel.ts","./AddMainDayRewardResultPanel.ts","./AddMainDoubleRewardPanel.ts","./AddMainRewardPanel.ts","./AddMainRewardService.ts","./DayTaskPanel.ts","./FreeRewardPanel.ts","./FreeRewardResultPanel.ts","./LevelPanel.ts","./TaskPanel.ts","./WeekTaskPanel.ts","./GameData.ts","./GameDataTypes.ts","./GameUI.ts","./GameAutoSetting.ts","./GameBetSelect.ts","./GameBonusUI.ts","./GameBottomUI.ts","./GameControlBtn.ts","./GameDisconnect.ts","./GameDropBoxDateItem.ts","./GameExit.ts","./GameExplainItem.ts","./GameFastTips.ts","./GameFreeGameEnter.ts","./GameHistory.ts","./GameHistoryDetails.ts","./GameHistoryFreeDetails.ts","./GameHistoryItem.ts","./GameHistoryPage.ts","./GameHistroyFreeItem.ts","./GameItem.ts","./GameMenu.ts","./GameMiniItem.ts","./GameMiniPad.ts","./GameMoneyChangeTips.ts","./GameMoneyInfoUI.ts","./GameNewFreeTips.ts","./GameNotifyBorad.ts","./GameRecordDateDetail.ts","./GameRecordDateSimple.ts","./GameRewardInfo.ts","./GameRewardItem.ts","./GameRewardShow.ts","./GameRouterUI.ts","./GameRuleInfo.ts","./GameStartBtn.ts","./GameSubRouter.ts","./GameTop.ts","./GameWallet.ts","./GameWinResult.ts","./LoadingData.ts","./LoadingDisconnect.ts","./LoadingUI.ts","./DayTaskItem.ts","./TaskItem.ts","./WeekTaskItem.ts","./MathUnit.ts","./debug-view-runtime-control.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Manager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,a=t._decorator}],execute:function(){var i;n._RF.push({},"697f6mggrZE0o33VzrleeHx","Manager",void 0);var r=a.ccclass;a.property,t("Manager",r("Manager")(i=function(){function t(){this._inited=!1,this._eventMap=new Map,this._adapter=null}var n=t.prototype;return n.internal_create=function(t){this._adapter=t},n.internal_init=function(){this._inited||(this._inited=!0,this.onInit())},n.on=function(t,e,n,a){void 0===a&&(a=!1),this._eventMap.has(t)||this._eventMap.set(t,[]);var i=this._eventMap.get(t);null!=i&&i.find((function(t){return t.target==n&&t.callback==e}))||i.push({callback:e,target:n,once:a})},n.off=function(t,e,n){if(this._eventMap.has(t)){var a=this._eventMap.get(t),i=null==a?void 0:a.findIndex((function(t){return t.callback==e&&t.target==n}));-1!=i&&a.splice(i,1)}},n.emit=function(t){if(this._eventMap.has(t)){for(var e=this._eventMap.get(t),n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];for(var r=0;r<e.length;r++){var c,o=e[r];(c=o.callback).call.apply(c,[o.target].concat(a)),o.once&&(e.splice(r,1),r--)}}},e(t,[{key:"adapter",get:function(){return this._adapter}}]),t}())||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/MathUnit.ts",["cc","./TableMgr.ts","./GameData.ts"],(function(t){var n,e,a;return{setters:[function(t){n=t.cclegacy},function(t){e=t.TableMgr},function(t){a=t.GameData}],execute:function(){n._RF.push({},"19b67M0kJNFzog4nfo6LYZH","MathUnit",void 0);t("MathUnit",function(){function t(){}return t.CalcSpinExperience=function(){var t,n=(null!=(t=a.Instance.Data_CurrentRatio.mData)?t:0)*e.Instance.GetExpSingleTime();return Number.isFinite(n)?n:0},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ModelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./helper.ts"],(function(e){var t,n,i,o,r,a,s,l,h,c,d,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,l=e.UITransform},function(e){h=e.Manager},function(e){c=e.WrapMode,d=e.Layer},function(e){u=e.Helper}],execute:function(){var f,_;r._RF.push({},"30788LX0NtDwKD3/uDAoeqp","ModelManager",void 0);var p=a.ccclass,y=(a.property,function(e){return e[e.ON_CLEAR=0]="ON_CLEAR",e[e.ON_INSERT=1]="ON_INSERT",e[e.ON_REMOVE=2]="ON_REMOVE",e[e.ON_MOVE=3]="ON_MOVE",e[e.ON_UPDATE=4]="ON_UPDATE",e[e.ON_CHANGE_BEFORE=5]="ON_CHANGE_BEFORE",e}(y||{}));e("ModelManager",p("ModelManager")(((_=function(e){function r(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._modelList=[],t._length=0,t}t(r,e);var a=r.prototype;return a.onInit=function(){},a.insert=function(){var e=i(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===n&&(n=this.length),i=this._toArray(t),n=u.clamp(n,0,this.length),this.emit(y.ON_CHANGE_BEFORE),this._insertHandler(i,n),this._length=this._modelList.length,i.length>0&&this.emit(y.ON_INSERT,n);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),a._insertHandler=function(e,t){var n=this,i=t;this._length=this._modelList.length;for(var o=[],r=function(e,t){return(u=n._getNewModel(e)).index=t,n._modelList.push(u),u},a=function(e){var t=n.get(i);if(t)o.push(n._copyModel(t,{})),t.data=e,t.index=i,n._initModel(t);else{var a=r(e,i);n._initModel(a)}i++},s=0,l=e.length;s<l;s++)a(e[s]);for(var h=0;h<o.length;h++){var c=o[h],d=i+h;if(this.get(d)){var u=this.get(d);o.push(this._copyModel(u,{})),this._copyModel(c,u)}else{var f=r(c.data,d);this._copyModel(c,f)}}},a.remove=function(e,t){if(void 0===t&&(t=1),0!=t&&!(e<0||e>=this.length)){var n=this.length;this.emit(y.ON_CHANGE_BEFORE);for(var i=e;i<this.length;i++){var o=this.get(i),r=this.get(i+t);if(!r){n=i;break}this._copyModel(r,o),o.index=i}this._modelList.splice(n,this.length),this._length=this._modelList.length,this.emit(y.ON_REMOVE,e)}},a.move=function(e,t,n){var i=this;if(!(e<0||t<=0)){this.emit(y.ON_CHANGE_BEFORE);var o=this._modelList.map((function(e){return i._copyModel(e,{})})),r=o.splice(e,t);o.splice.apply(o,[n,0].concat(r));for(var a=0;a<o.length;a++)this._copyModel(o[a],this._modelList[a]);var s=Math.min(e,n);this.emit(y.ON_MOVE,s)}},a.update=function(){this.emit(y.ON_UPDATE)},a.clear=function(){this._modelList.length=0,this._length=0,this.emit(y.ON_CLEAR)},a.has=function(e){return!!this._modelList[e]},a.get=function(e){return isNaN(e)?null:this._modelList[e]},a.slice=function(e,t){return 0==this.length?[]:this._modelList.slice(e,t)},a._toArray=function(e){return e?e instanceof Array?e:[e]:[]},a._getNewModel=function(e){return{data:e,index:-1,code:null,size:{x:0,y:0},layoutSize:{x:0,y:0},scale:{x:0,y:0},position:{x:0,y:0},anchorPoint:{x:0,y:0},element:{wrapBeforeMode:c.Wrap,wrapAfterMode:c.Nowrap,ignoreLayout:!1,placeholder:!1,minSize:{x:0,y:0},preferredSize:{x:0,y:0},flexibleSize:{x:0,y:0},layer:d.Lowest,fixed:!1,fixedOffset:0,fixedSpacing:null,update:function(){}},isValid:!0,update:function(){}}},a._initModel=function(e){var t=this.adapter.getPrefab(e.data);if(!t)throw Error("预制体不能为空");if(t instanceof s){var n=t.getComponent(l);e.code=t.uuid,e.size={x:n.width,y:n.height},e.scale={x:n.node.scale.x,y:n.node.scale.y},e.anchorPoint={x:n.anchorPoint.x,y:n.anchorPoint.y}}else{var i=t.data.getComponent(l);e.code=t.data._prefab.fileId,e.size={x:i.width,y:i.height},e.scale={x:i.node.scale.x,y:i.node.scale.y},e.anchorPoint={x:i.anchorPoint.x,y:i.anchorPoint.y}}e.layoutSize={x:0,y:0},e.position={x:0,y:0},e.element={wrapBeforeMode:c.Wrap,wrapAfterMode:c.Nowrap,ignoreLayout:!1,placeholder:!1,minSize:{x:0,y:0},preferredSize:{x:0,y:0},flexibleSize:{x:0,y:0},layer:d.Lowest,fixed:!1,fixedOffset:0,fixedSpacing:null,update:function(){}},this.adapter.initElement(e.element,e.data)},a._copyModel=function(e,t){e.element.update=function(){};return function e(t,n){for(var i in t){var o=t[i];"data"!=i?"index"!=i&&(null!=o&&"object"==typeof o?(n[i]={},e(o,n[i])):n[i]=o):n[i]=o}}(e,t),t},n(r,[{key:"length",get:function(){return this._length}},{key:"modelList",get:function(){return this._modelList}}]),r}(h)).Event=y,f=_))||f);r._RF.pop()}}}));

System.register("chunks:///_virtual/MovingShow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts"],(function(i){var o,t,n,s,e,h,m,r,a;return{setters:[function(i){o=i.inheritsLoose},function(i){t=i.cclegacy,n=i._decorator,s=i.Widget,e=i.Vec3,h=i.UITransform,m=i.Tween,r=i.easing},function(i){a=i.BaseUI}],execute:function(){var g,l;t._RF.push({},"c52adOJ75FHkJuJGj9YqhY5","MovingShow",void 0);var d=n.ccclass,c=(n.property,i("MovingShow",d("MovingShow")(((l=function(i){function t(){for(var o,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(o=i.call.apply(i,[this].concat(n))||this).mMoving=!1,o.mAnimationShowType=null,o.mOriginPos=null,o.mShowCallback=null,o.mHideCallback=null,o.mRootNode=null,o.mShowing=!1,o}o(t,i);var n=t.prototype;return n.onEnable=function(){this.ResetPosition(),this.ShowAnimation()},n.InitParam=function(){},n.BindUI=function(){},n.RegDataNotify=function(){},n.LateInit=function(){},n.CustmoerDestory=function(){this.mShowCallback=null,this.mHideCallback=null,this.mRootNode=null},n.IsAnimating=function(){return this.mMoving},n.SetRoot=function(i){this.mRootNode=i},n.SetShowAnimationCallback=function(i){this.mShowCallback=i},n.SetHideAnimationCallback=function(i){this.mHideCallback=i},n.SetAnimationType=function(i){this.mAnimationShowType=i;var o=this.node.getComponent(s);o&&(1==o.enabled&&o.updateAlignment(),o.enabled=!1,o.destroy()),this.mOriginPos=new e(this.node.position.x,this.node.position.y,this.node.position.z),this.ResetPosition()},n.ResetPosition=function(){if(this.mAnimationShowType==c.FromLeft){var i=this.node.getComponent(h).width,o=new e(this.mOriginPos.x-i,this.mOriginPos.y,this.mOriginPos.z);this.node.setPosition(o)}else if(this.mAnimationShowType==c.FromBottom){var t=this.node.getComponent(h).height,n=new e(this.mOriginPos.x,this.mOriginPos.y-t,this.mOriginPos.z);this.node.setPosition(n)}else if(this.mAnimationShowType==c.FromRight){var s=this.node.getComponent(h).width,m=new e(this.mOriginPos.x+s,this.mOriginPos.y,this.mOriginPos.z);this.node.setPosition(m)}else if(this.mAnimationShowType==c.FromTop){var r=this.node.getComponent(h).height,a=new e(this.mOriginPos.x,this.mOriginPos.y+r,this.mOriginPos.z);this.node.setPosition(a)}},n.ShowAnimation=function(i){if(void 0===i&&(i=t.mDuration),!this.mMoving&&!this.mShowing){if(this.mMoving=!0,this.mShowing=!0,this.StopAllTween(),this.mAnimationShowType==c.FromLeft){var o=this.node.getComponent(h).width,n=new e(this.mOriginPos.x-o,this.mOriginPos.y,this.mOriginPos.z);this.node.setPosition(n)}else if(this.mAnimationShowType==c.FromBottom){var s=this.node.getComponent(h).height,m=new e(this.mOriginPos.x,this.mOriginPos.y-s,this.mOriginPos.z);this.node.setPosition(m)}else if(this.mAnimationShowType==c.FromRight){var r=this.node.getComponent(h).width,a=new e(this.mOriginPos.x+r,this.mOriginPos.y,this.mOriginPos.z);this.node.setPosition(a)}else if(this.mAnimationShowType==c.FromTop){var g=this.node.getComponent(h).height,l=new e(this.mOriginPos.x,this.mOriginPos.y+g,this.mOriginPos.z);this.node.setPosition(l)}switch(this.mAnimationShowType){case c.FromLeft:this.ShowAnimationFromLeft(i);break;case c.FromBottom:this.ShowAnimationFromBottom(i);break;case c.FromRight:this.ShowAnimationFromRight(i);break;case c.FromTop:this.ShowAnimationFromTop(i)}}},n.HideAnimation=function(i){if(void 0===i&&(i=t.mDuration),!this.mMoving&&0!=this.mShowing)switch(this.mMoving=!0,this.mShowing=!1,this.StopAllTween(),this.mAnimationShowType){case c.FromLeft:this.HideAnimationFromLeft(i);break;case c.FromBottom:this.HideAnimationFromBottom(i);break;case c.FromRight:this.HideAnimationFromRight(i);break;case c.FromTop:this.HideAnimationFromTop(i)}},n.ShowAnimationFromLeft=function(i){var o=this;void 0===i&&(i=t.mDuration);var n=new e(this.mOriginPos.x,this.mOriginPos.y,this.mOriginPos.z),s=new m(this.node);s.to(i,{position:n},{easing:r.quadIn}),s.call((function(){o.mMoving=!1,null!=o.mShowCallback&&o.mShowCallback()})),s.start()},n.HideAnimationFromLeft=function(i){var o=this;void 0===i&&(i=t.mDuration);var n=this.node.getComponent(h).width,s=new e(this.mOriginPos.x,this.mOriginPos.y,this.mOriginPos.z);this.node.setPosition(s);var a=new e(this.mOriginPos.x-n,this.mOriginPos.y,this.mOriginPos.z),g=new m(this.node);g.to(i,{position:a},{easing:r.quadIn}),g.call((function(){o.mMoving=!1,o.HideRoot()})),g.start()},n.ShowAnimationFromBottom=function(i){var o=this;void 0===i&&(i=t.mDuration);var n=new e(this.mOriginPos.x,this.mOriginPos.y,this.mOriginPos.z),s=new m(this.node);s.to(i,{position:n},{easing:r.quadIn}),s.call((function(){o.mMoving=!1,null!=o.mShowCallback&&o.mShowCallback()})),s.start()},n.ShowAnimationFromTop=function(i){var o=this;void 0===i&&(i=t.mDuration);var n=new e(this.mOriginPos.x,this.mOriginPos.y,this.mOriginPos.z),s=new m(this.node);s.to(i,{position:n},{easing:r.quadIn}),s.call((function(){o.mMoving=!1,null!=o.mShowCallback&&o.mShowCallback()})),s.start()},n.HideAnimationFromBottom=function(i){var o=this;void 0===i&&(i=t.mDuration);var n=this.node.getComponent(h).height,s=new e(this.mOriginPos.x,this.mOriginPos.y,this.mOriginPos.z);this.node.setPosition(s);var a=new e(this.mOriginPos.x,this.mOriginPos.y-n,this.mOriginPos.z),g=new m(this.node);g.to(i,{position:a},{easing:r.quadIn}),g.call((function(){o.mMoving=!1,o.HideRoot()})),g.start()},n.HideAnimationFromTop=function(i){var o=this;void 0===i&&(i=t.mDuration);var n=this.node.getComponent(h).height,s=new e(this.mOriginPos.x,this.mOriginPos.y,this.mOriginPos.z);this.node.setPosition(s);var a=new e(this.mOriginPos.x,this.mOriginPos.y+n,this.mOriginPos.z),g=new m(this.node);g.to(i,{position:a},{easing:r.quadIn}),g.call((function(){o.mMoving=!1,o.HideRoot()})),g.start()},n.ShowAnimationFromRight=function(i){var o=this;void 0===i&&(i=t.mDuration);var n=new e(this.mOriginPos.x,this.mOriginPos.y,this.mOriginPos.z),s=new m(this.node);s.to(i,{position:n},{easing:r.quadIn}),s.call((function(){o.mMoving=!1,null!=o.mShowCallback&&o.mShowCallback()})),s.start()},n.HideAnimationFromRight=function(i){var o=this;void 0===i&&(i=t.mDuration);var n=this.node.getComponent(h).width,s=new e(this.mOriginPos.x,this.mOriginPos.y,this.mOriginPos.z);this.node.setPosition(s);var a=new e(this.mOriginPos.x+n,this.mOriginPos.y,this.mOriginPos.z),g=new m(this.node);g.to(i,{position:a},{easing:r.quadIn}),g.call((function(){o.mMoving=!1,o.HideRoot()})),g.start()},n.HideRoot=function(){null!=this.mRootNode&&(this.mRootNode.active=!1),null!=this.mHideCallback&&this.mHideCallback()},t}(a)).mDuration=.35,g=l))||g),i("AnimationShowType",function(i){return i[i.FromLeft=0]="FromLeft",i[i.FromBottom=1]="FromBottom",i[i.FromRight=2]="FromRight",i[i.FromTop=3]="FromTop",i}({})));t._RF.pop()}}}));

System.register("chunks:///_virtual/PageViewManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./ScrollManager.ts","./ViewManager.ts"],(function(e){var t,n,i,r,a,o,s,l,h,c,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator},function(e){l=e.Manager},function(e){h=e.AlwaysScroll},function(e){c=e.ScrollManager},function(e){g=e.ViewManager}],execute:function(){var u,d,_,p,f,b,E,T,O,v,L,P,N,S;o._RF.push({},"fdb88P/h/ZIl5Yq5l85NGx4","PageViewManager",void 0);var M=s.ccclass,x=s.property,I=function(e){return e[e.ON_PAGE_LENGTH_CHANGED=0]="ON_PAGE_LENGTH_CHANGED",e[e.ON_SCROLL_PAGE_BEFOR=1]="ON_SCROLL_PAGE_BEFOR",e[e.ON_SCROLL_PAGE_END=2]="ON_SCROLL_PAGE_END",e}(I||{});e("PageViewManager",(u=M("PageViewManager"),d=x("boolean"),_=x({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"滚动临界值，默认单位百分比，当拖拽超出该数值时，松开会自动滚动下一页，小于时则还原"}),p=x({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"设置 PageView PageTurning 事件的发送时机"}),f=x({visible:function(){return this.enabled},tooltip:"快速滑动翻页临界值\n        当用户快速滑动时，会根据滑动开始和结束的距离与时间计算出一个速度值\n        该值与此临界值相比较，如果大于临界值，则进行自动翻页"}),b=x({visible:function(){return this.enabled},tooltip:"每个页面翻页时所需时间。单位：秒"}),u(((S=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_enabled",O,r(t)),i(t,"scrollThreshold",v,r(t)),i(t,"pageTurningEventTiming",L,r(t)),i(t,"autoPageTurningThreshold",P,r(t)),i(t,"pageTurningSpeed",N,r(t)),t._currentIndex=0,t}n(t,e);var o=t.prototype;return o.onInit=function(){this._register()},o._register=function(){this.adapter&&this.enabled&&(this.adapter.scrollManager.on(c.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.on(c.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.on(c.Event.ON_SCROLL_TO_GROUPINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.on(g.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this,!0))},o._unregister=function(){this.adapter&&!this.enabled&&(this.adapter.scrollManager.off(c.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.off(c.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.off(c.Event.ON_SCROLL_TO_GROUPINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.off(g.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this))},o.scrollToPage=function(e,t,n){t<0||t>=this.length||t==this.currentIndex&&0!=this.adapter.scrollManager.calcOffset()||(this.adapter.scrollManager.scrollToGroupIndex(e,t,n),this.emit(I.ON_SCROLL_PAGE_BEFOR,t))},o.scrollToPrevPage=function(e,t){void 0===e&&(e=this.pageTurningSpeed),void 0===t&&(t=h.Header),0!=this._currentIndex?this.scrollToPage(e,this._currentIndex-1,t):this.adapter.viewManager.loopHeader&&this.scrollToPage(e,this.length-1,t)},o.scrollToNextPage=function(e,t){void 0===e&&(e=this.pageTurningSpeed),void 0===t&&(t=h.Footer),this._currentIndex>=this.length-1?this.adapter.viewManager.loopFooter&&this.scrollToPage(e,0,t):this.scrollToPage(e,this._currentIndex+1,t)},o._onUpdateViews=function(){this.emit(I.ON_PAGE_LENGTH_CHANGED),this._currentIndex=0,this.scrollToPage(this.pageTurningSpeed,this._currentIndex)},o._onScrollToIndex=function(e){this._currentIndex=e,this.emit(I.ON_SCROLL_PAGE_END,e)},o._handleReleaseLogic=function(e){if(this._enabled&&this.adapter.scrollManager.isMyEventAndMoved){var t=e.getUIStartLocation()[this.adapter.mainAxis]-e.getUILocation()[this.adapter.mainAxis],n=this._getNextIndex(t);this._isScrollable(t)||this._isQuicklyScrollable(this.adapter.scrollManager.velocity)?this.scrollToPage(this.pageTurningSpeed,n):this.scrollToPage(this.pageTurningSpeed,this._currentIndex)}},o._getNextIndex=function(e){var t=this._currentIndex;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?e>0?t++:e<0&&t--:(e<0&&t++,e>0&&t--):this.adapter.isArrangeAxisStart?e<0?t++:e>0&&t--:e>0?t++:e<0&&t--,t>=this.length&&this.adapter.viewManager.loopFooter?t=0:t<0&&this.adapter.viewManager.loopHeader&&(t=this.length-1),(t<0||t>=this.length)&&(t=this._currentIndex),t},o._isScrollable=function(e){return Math.abs(e)>=this.adapter.mainAxisSize*this.scrollThreshold},o._isQuicklyScrollable=function(e){return Math.abs(e)>this.autoPageTurningThreshold},a(t,[{key:"enabled",get:function(){return this._enabled},set:function(e){e!=this._enabled&&(this._enabled=e,this._enabled?this._register():this._unregister())}},{key:"currentIndex",get:function(){return this._currentIndex}},{key:"length",get:function(){return this.adapter.viewManager.groupLength}}]),t}(l)).Event=I,O=t((T=S).prototype,"_enabled",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(T.prototype,"enabled",[d],Object.getOwnPropertyDescriptor(T.prototype,"enabled"),T.prototype),v=t(T.prototype,"scrollThreshold",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),L=t(T.prototype,"pageTurningEventTiming",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),P=t(T.prototype,"autoPageTurningThreshold",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),N=t(T.prototype,"pageTurningSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),E=T))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressSlider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts"],(function(e){var r,n,i,l,t,a,o,s,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){t=e.cclegacy,a=e._decorator,o=e.Slider,s=e.Node,c=e.Sprite},function(e){u=e.BaseUI}],execute:function(){var d,m,g,f,p,b,S,h,C;t._RF.push({},"b95d67LCXNP27kR021BwTKJ","ProgressSlider",void 0);var P=a.ccclass,y=a.property;e("ProgressSlider",(d=P("ProgressSlider"),m=y(o),g=y(s),f=y(c),d((S=r((b=function(e){function r(){for(var r,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return r=e.call.apply(e,[this].concat(t))||this,i(r,"mSlider",S,l(r)),i(r,"mHadnle",h,l(r)),i(r,"mProgress",C,l(r)),r.mEndCallback=null,r.mDragCallback=null,r}n(r,e);var t=r.prototype;return t.onEnable=function(){},t.InitParam=function(){},t.BindUI=function(){var e=this;this.mHadnle.on(s.EventType.TOUCH_END,(function(){e.mProgress.fillRange=e.mSlider.progress,e.mEndCallback&&e.mEndCallback(e.mSlider.progress)})),this.mHadnle.on(s.EventType.TOUCH_CANCEL,(function(){e.mProgress.fillRange=e.mSlider.progress,e.mEndCallback&&e.mEndCallback(e.mSlider.progress)})),this.mSlider.node.on("slide",(function(){e.mProgress.fillRange=e.mSlider.progress,e.mDragCallback&&e.mDragCallback(e.mSlider.progress)}))},t.RegDataNotify=function(){},t.LateInit=function(){},t.CustmoerDestory=function(){},t.GetPercent=function(){return this.mSlider.progress},t.SetEndCallback=function(e){this.mEndCallback=e},t.SetDragCallback=function(e){this.mDragCallback=e},t.SetPercent=function(e){this.mSlider.progress=e,this.mProgress.fillRange=this.mSlider.progress},t.SetEnable=function(e){this.mSlider.enabled=e},r}(u)).prototype,"mSlider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=r(b.prototype,"mHadnle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=r(b.prototype,"mProgress",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=b))||p));t._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressSliderSimple.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts"],(function(e){var i,t,r,n,a,l,o,s,c,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Slider,s=e.Node,c=e.UITransform},function(e){d=e.BaseUI}],execute:function(){var u,m,p,f,g,h,S,b,k,C,y;a._RF.push({},"78935yySl9GxIrS7G3zagXx","ProgressSliderSimple",void 0);var E=l.ccclass,v=l.property;e("ProgressSliderSimple",(u=E("ProgressSliderSimple"),m=v(o),p=v(s),f=v(s),g=v(s),u((b=i((S=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,r(i,"mSlider",b,n(i)),r(i,"mHadnle",k,n(i)),r(i,"mMask",C,n(i)),r(i,"mHead",y,n(i)),i.mEndCallback=null,i.mDragCallback=null,i.mOriginWidth=0,i}t(i,e);var a=i.prototype;return a.onEnable=function(){},a.InitParam=function(){this.mOriginWidth=this.node.getComponent(c).width},a.BindUI=function(){var e=this;this.mHadnle.on(s.EventType.TOUCH_END,(function(){e.UpdateMaskWidth(e.mSlider.progress),e.mEndCallback&&e.mEndCallback(e.mSlider.progress)})),this.mHadnle.on(s.EventType.TOUCH_CANCEL,(function(){e.UpdateMaskWidth(e.mSlider.progress),e.mEndCallback&&e.mEndCallback(e.mSlider.progress)})),this.mSlider.node.on("slide",(function(){e.UpdateMaskWidth(e.mSlider.progress),e.mDragCallback&&e.mDragCallback(e.mSlider.progress)}))},a.RegDataNotify=function(){},a.LateInit=function(){},a.CustmoerDestory=function(){},a.GetPercent=function(){return this.mSlider.progress},a.SetEndCallback=function(e){this.mEndCallback=e},a.SetDragCallback=function(e){this.mDragCallback=e},a.SetPercent=function(e){this.mSlider.progress=e,this.UpdateMaskWidth(this.mSlider.progress)},a.SetEnable=function(e){this.mSlider.enabled=e},a.UpdateMaskWidth=function(e){var i=e*this.mOriginWidth;this.mMask.getComponent(c).width=i,this.mHead.setPosition(i,0)},i}(d)).prototype,"mSlider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(S.prototype,"mHadnle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(S.prototype,"mMask",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(S.prototype,"mHead",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=S))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/protobuf.min.js",["./cjs-loader.mjs"],(function(exports,module){var loader;return{setters:[function(t){loader=t.default}],execute:function(){var _cjsExports;exports("default",void 0);var __cjsMetaURL=exports("__cjsMetaURL",module.meta.url);loader.define(__cjsMetaURL,(function(exports$1,require,module,__filename,__dirname){!function(d){var r,u,t,n;r={1:[function(t,r){r.exports=function(t,r){for(var e=Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)e[n++]=arguments[i++];return new Promise((function(i,s){e[n]=function(t){if(o)if(o=!1,t)s(t);else{for(var r=Array(arguments.length-1),e=0;e<r.length;)r[e++]=arguments[e];i.apply(null,r)}};try{t.apply(r||null,e)}catch(t){o&&(o=!1,s(t))}}))}},{}],2:[function(t,r,e){var n=e;n.length=function(t){var r=t.length;if(!r)return 0;for(var e=0;1<--r%4&&"="==t[0|r];)++e;return Math.ceil(3*t.length)/4-e};for(var i=Array(64),o=Array(123),s=0;s<64;)o[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(t,r,e){for(var n,o=null,s=[],u=0,f=0;r<e;){var h=t[r++];switch(f){case 0:s[u++]=i[h>>2],n=(3&h)<<4,f=1;break;case 1:s[u++]=i[n|h>>4],n=(15&h)<<2,f=2;break;case 2:s[u++]=i[n|h>>6],s[u++]=i[63&h],f=0}8191<u&&((o=o||[]).push(String.fromCharCode.apply(String,s)),u=0)}return f&&(s[u++]=i[n],s[u++]=61,1===f&&(s[u++]=61)),o?(u&&o.push(String.fromCharCode.apply(String,s.slice(0,u))),o.join("")):String.fromCharCode.apply(String,s.slice(0,u))};var u="invalid encoding";n.decode=function(t,r,e){for(var n,i=e,s=0,f=0;f<t.length;){var h=t.charCodeAt(f++);if(61===h&&1<s)break;if((h=o[h])===d)throw Error(u);switch(s){case 0:n=h,s=1;break;case 1:r[e++]=n<<2|(48&h)>>4,n=h,s=2;break;case 2:r[e++]=(15&n)<<4|(60&h)>>2,n=h,s=3;break;case 3:r[e++]=(3&n)<<6|h,s=0}}if(1===s)throw Error(u);return e-i},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},{}],3:[function(t,r){function e(){this.t={}}(r.exports=e).prototype.on=function(t,r,e){return(this.t[t]||(this.t[t]=[])).push({fn:r,ctx:e||this}),this},e.prototype.off=function(t,r){if(t===d)this.t={};else if(r===d)this.t[t]=[];else for(var e=this.t[t],n=0;n<e.length;)e[n].fn===r?e.splice(n,1):++n;return this},e.prototype.emit=function(t){var r=this.t[t];if(r){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,e)}return this}},{}],4:[function(t,r){function e(t){function r(t,r,e,n){var i=r<0?1:0;if(i&&(r=-r),0===r)t(0<1/r?0:2147483648,e,n);else if(isNaN(r))t(2143289344,e,n);else if(34028234663852886e22<r)t((i<<31|2139095040)>>>0,e,n);else if(r<11754943508222875e-54)t((i<<31|Math.round(r/1401298464324817e-60))>>>0,e,n);else{var o=Math.floor(Math.log(r)/Math.LN2);t((i<<31|127+o<<23|8388607&Math.round(r*Math.pow(2,-o)*8388608))>>>0,e,n)}}function e(t,r,e){var n=t(r,e),i=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255==o?s?NaN:1/0*i:0==o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(8388608+s)}function u(t,r,e){a[0]=t,r[e]=c[0],r[e+1]=c[1],r[e+2]=c[2],r[e+3]=c[3]}function f(t,r,e){a[0]=t,r[e]=c[3],r[e+1]=c[2],r[e+2]=c[1],r[e+3]=c[0]}function h(t,r){return c[0]=t[r],c[1]=t[r+1],c[2]=t[r+2],c[3]=t[r+3],a[0]}function l(t,r){return c[3]=t[r],c[2]=t[r+1],c[1]=t[r+2],c[0]=t[r+3],a[0]}var a,c,p,y,d,b;function g(t,r,e,n,i,o){var s=n<0?1:0;if(s&&(n=-n),0===n)t(0,i,o+r),t(0<1/n?0:2147483648,i,o+e);else if(isNaN(n))t(0,i,o+r),t(2146959360,i,o+e);else if(17976931348623157e292<n)t(0,i,o+r),t((s<<31|2146435072)>>>0,i,o+e);else{var u;if(n<22250738585072014e-324)t((u=n/5e-324)>>>0,i,o+r),t((s<<31|u/4294967296)>>>0,i,o+e);else{var f=Math.floor(Math.log(n)/Math.LN2);1024===f&&(f=1023),t(4503599627370496*(u=n*Math.pow(2,-f))>>>0,i,o+r),t((s<<31|f+1023<<20|1048576*u&1048575)>>>0,i,o+e)}}}function v(t,r,e,n,i){var o=t(n,i+r),s=t(n,i+e),u=2*(s>>31)+1,f=s>>>20&2047,h=4294967296*(1048575&s)+o;return 2047==f?h?NaN:1/0*u:0==f?5e-324*u*h:u*Math.pow(2,f-1075)*(h+4503599627370496)}function m(t,r,e){y[0]=t,r[e]=d[0],r[e+1]=d[1],r[e+2]=d[2],r[e+3]=d[3],r[e+4]=d[4],r[e+5]=d[5],r[e+6]=d[6],r[e+7]=d[7]}function w(t,r,e){y[0]=t,r[e]=d[7],r[e+1]=d[6],r[e+2]=d[5],r[e+3]=d[4],r[e+4]=d[3],r[e+5]=d[2],r[e+6]=d[1],r[e+7]=d[0]}function x(t,r){return d[0]=t[r],d[1]=t[r+1],d[2]=t[r+2],d[3]=t[r+3],d[4]=t[r+4],d[5]=t[r+5],d[6]=t[r+6],d[7]=t[r+7],y[0]}function E(t,r){return d[7]=t[r],d[6]=t[r+1],d[5]=t[r+2],d[4]=t[r+3],d[3]=t[r+4],d[2]=t[r+5],d[1]=t[r+6],d[0]=t[r+7],y[0]}return"undefined"!=typeof Float32Array?(a=new Float32Array([-0]),p=128===(c=new Uint8Array(a.buffer))[3],t.writeFloatLE=p?u:f,t.writeFloatBE=p?f:u,t.readFloatLE=p?h:l,t.readFloatBE=p?l:h):(t.writeFloatLE=r.bind(null,n),t.writeFloatBE=r.bind(null,i),t.readFloatLE=e.bind(null,o),t.readFloatBE=e.bind(null,s)),"undefined"!=typeof Float64Array?(y=new Float64Array([-0]),b=128===(d=new Uint8Array(y.buffer))[7],t.writeDoubleLE=b?m:w,t.writeDoubleBE=b?w:m,t.readDoubleLE=b?x:E,t.readDoubleBE=b?E:x):(t.writeDoubleLE=g.bind(null,n,0,4),t.writeDoubleBE=g.bind(null,i,4,0),t.readDoubleLE=v.bind(null,o,0,4),t.readDoubleBE=v.bind(null,s,4,0)),t}function n(t,r,e){r[e]=255&t,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24}function i(t,r,e){r[e]=t>>>24,r[e+1]=t>>>16&255,r[e+2]=t>>>8&255,r[e+3]=255&t}function o(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16|t[r+3]<<24)>>>0}function s(t,r){return(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3])>>>0}r.exports=e(e)},{}],5:[function(t,n,i){function r(t){try{var n=eval("require")(t);if(n&&(n.length||Object.keys(n).length))return n}catch(t){}return null}n.exports=r},{}],6:[function(t,r){r.exports=function(t,r,e){var n=e||8192,i=n>>>1,o=null,s=n;return function(e){if(e<1||i<e)return t(e);n<s+e&&(o=t(n),s=0);var u=r.call(o,s,s+=e);return 7&s&&(s=1+(7|s)),u}}},{}],7:[function(t,r,e){var n=e;n.length=function(t){for(var r=0,e=0,n=0;n<t.length;++n)(e=t.charCodeAt(n))<128?r+=1:e<2048?r+=2:55296==(64512&e)&&56320==(64512&t.charCodeAt(n+1))?(++n,r+=4):r+=3;return r},n.read=function(t,r,e){if(e-r<1)return"";for(var n,i=null,o=[],s=0;r<e;)(n=t[r++])<128?o[s++]=n:191<n&&n<224?o[s++]=(31&n)<<6|63&t[r++]:239<n&&n<365?(n=((7&n)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&t[r++])<<6|63&t[r++],8191<s&&((i=i||[]).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},n.write=function(t,r,e){for(var n,i,o=e,s=0;s<t.length;++s)(n=t.charCodeAt(s))<128?r[e++]=n:(n<2048?r[e++]=n>>6|192:(55296==(64512&n)&&56320==(64512&(i=t.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&i),++s,r[e++]=n>>18|240,r[e++]=n>>12&63|128):r[e++]=n>>12|224,r[e++]=n>>6&63|128),r[e++]=63&n|128);return e-o}},{}],8:[function(t,r,e){var n=e;n.build="minimal",n.Writer=t(16),n.BufferWriter=t(17),n.Reader=t(9),n.BufferReader=t(10),n.util=t(15),n.rpc=t(12),n.roots=t(11),(n.configure=function(){n.util.n(),n.Writer.n(n.BufferWriter),n.Reader.n(n.BufferReader)})()},{10:10,11:11,12:12,15:15,16:16,17:17,9:9}],9:[function(t,r){r.exports=u;var e,n=t(15),i=n.LongBits,o=n.utf8;function s(t,r){return RangeError("index out of range: "+t.pos+" + "+(r||1)+" > "+t.len)}function u(t){this.buf=t,this.pos=0,this.len=t.length}function f(){return n.Buffer?function(t){return(u.create=function(t){return n.Buffer.isBuffer(t)?new e(t):l(t)})(t)}:l}var h,l="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new u(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new u(t);throw Error("illegal buffer")};function a(){var t=new i(0,0),r=0;if(!(4<this.len-this.pos)){for(;r<3;++r){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*r)>>>0,t}for(;r<4;++r)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(r=0,4<this.len-this.pos){for(;r<5;++r)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}else for(;r<5;++r){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function c(t,r){return(t[r-4]|t[r-3]<<8|t[r-2]<<16|t[r-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new i(c(this.buf,this.pos+=4),c(this.buf,this.pos+=4))}u.create=f(),u.prototype.i=n.Array.prototype.subarray||n.Array.prototype.slice,u.prototype.uint32=(h=4294967295,function(){if(h=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return h;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return h}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return c(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|c(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},u.prototype.bytes=function(){var t=this.uint32(),r=this.pos,e=this.pos+t;if(e>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,e):r===e?new this.buf.constructor(0):this.i.call(this.buf,r,e)},u.prototype.string=function(){var t=this.bytes();return o.read(t,0,t.length)},u.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},u.n=function(t){e=t,u.create=f(),e.n();var r=n.Long?"toLong":"toNumber";n.merge(u.prototype,{int64:function(){return a.call(this)[r](!1)},uint64:function(){return a.call(this)[r](!0)},sint64:function(){return a.call(this).zzDecode()[r](!1)},fixed64:function(){return p.call(this)[r](!0)},sfixed64:function(){return p.call(this)[r](!1)}})}},{15:15}],10:[function(t,r){r.exports=i;var e=t(9);(i.prototype=Object.create(e.prototype)).constructor=i;var n=t(15);function i(t){e.call(this,t)}i.n=function(){n.Buffer&&(i.prototype.i=n.Buffer.prototype.slice)},i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},i.n()},{15:15,9:9}],11:[function(t,r){r.exports={}},{}],12:[function(t,r,e){e.Service=t(13)},{13:13}],13:[function(t,r){r.exports=n;var e=t(15);function n(t,r,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!r,this.responseDelimited=!!n}((n.prototype=Object.create(e.EventEmitter.prototype)).constructor=n).prototype.rpcCall=function t(r,n,i,o,s){if(!o)throw TypeError("request must be specified");var u=this;if(!s)return e.asPromise(t,u,r,n,i,o);if(!u.rpcImpl)return setTimeout((function(){s(Error("already ended"))}),0),d;try{return u.rpcImpl(r,n[u.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(t,e){if(t)return u.emit("error",t,r),s(t);if(null===e)return u.end(!0),d;if(!(e instanceof i))try{e=i[u.responseDelimited?"decodeDelimited":"decode"](e)}catch(t){return u.emit("error",t,r),s(t)}return u.emit("data",e,r),s(null,e)}))}catch(t){return u.emit("error",t,r),setTimeout((function(){s(t)}),0),d}},n.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{15:15}],14:[function(t,r){r.exports=n;var e=t(15);function n(t,r){this.lo=t>>>0,this.hi=r>>>0}var i=n.zero=new n(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var o=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(t){if(0===t)return i;var r=t<0;r&&(t=-t);var e=t>>>0,o=(t-e)/4294967296>>>0;return r&&(o=~o>>>0,e=~e>>>0,4294967295<++e&&(e=0,4294967295<++o&&(o=0))),new n(e,o)},n.from=function(t){if("number"==typeof t)return n.fromNumber(t);if(e.isString(t)){if(!e.Long)return n.fromNumber(parseInt(t,10));t=e.Long.fromString(t)}return t.low||t.high?new n(t.low>>>0,t.high>>>0):i},n.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=1+~this.lo>>>0,e=~this.hi>>>0;return r||(e=e+1>>>0),-(r+4294967296*e)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,!!t):{low:0|this.lo,high:0|this.hi,unsigned:!!t}};var s=String.prototype.charCodeAt;n.fromHash=function(t){return t===o?i:new n((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},n.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},n.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,e=this.hi>>>24;return 0==e?0==r?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:e<128?9:10}},{15:15}],15:[function(t,r,e){var n=e;function i(t,r,e){for(var n=Object.keys(r),i=0;i<n.length;++i)t[n[i]]!==d&&e||(t[n[i]]=r[n[i]]);return t}function o(t){function r(t,e){if(!(this instanceof r))return new r(t,e);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,r):Object.defineProperty(this,"stack",{value:Error().stack||""}),e&&i(this,e)}return(r.prototype=Object.create(Error.prototype)).constructor=r,Object.defineProperty(r.prototype,"name",{get:function(){return t}}),r.prototype.toString=function(){return this.name+": "+this.message},r}n.asPromise=t(1),n.base64=t(2),n.EventEmitter=t(3),n.float=t(4),n.inquire=t(5),n.utf8=t(7),n.pool=t(6),n.LongBits=t(14),n.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},n.isString=function(t){return"string"==typeof t||t instanceof String},n.isObject=function(t){return t&&"object"==typeof t},n.isset=n.isSet=function(t,r){var e=t[r];return null!=e&&t.hasOwnProperty(r)&&("object"!=typeof e||0<(Array.isArray(e)?e.length:Object.keys(e).length))},n.Buffer=function(){try{var t=n.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),n.r=null,n.u=null,n.newBuffer=function(t){return"number"==typeof t?n.Buffer?n.u(t):new n.Array(t):n.Buffer?n.r(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(t){return t?n.LongBits.from(t).toHash():n.LongBits.zeroHash},n.longFromHash=function(t,r){var e=n.LongBits.fromHash(t);return n.Long?n.Long.fromBits(e.lo,e.hi,r):e.toNumber(!!r)},n.merge=i,n.lcFirst=function(t){return t[0].toLowerCase()+t.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(t){for(var r={},e=0;e<t.length;++e)r[t[e]]=1;return function(){for(var t=Object.keys(this),e=t.length-1;-1<e;--e)if(1===r[t[e]]&&this[t[e]]!==d&&null!==this[t[e]])return t[e]}},n.oneOfSetter=function(t){return function(r){for(var e=0;e<t.length;++e)t[e]!==r&&delete this[t[e]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n.n=function(){var t=n.Buffer;t?(n.r=t.from!==Uint8Array.from&&t.from||function(r,e){return new t(r,e)},n.u=t.allocUnsafe||function(r){return new t(r)}):n.r=n.u=null}},{1:1,14:14,2:2,3:3,4:4,5:5,6:6,7:7}],16:[function(t,r){r.exports=l;var e,n=t(15),i=n.LongBits,o=n.base64,s=n.utf8;function u(t,r,e){this.fn=t,this.len=r,this.next=d,this.val=e}function f(){}function h(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function l(){this.len=0,this.head=new u(f,0,0),this.tail=this.head,this.states=null}function a(){return n.Buffer?function(){return(l.create=function(){return new e})()}:function(){return new l}}function c(t,r,e){r[e]=255&t}function p(t,r){this.len=t,this.next=d,this.val=r}function y(t,r,e){for(;t.hi;)r[e++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;127<t.lo;)r[e++]=127&t.lo|128,t.lo=t.lo>>>7;r[e++]=t.lo}function b(t,r,e){r[e]=255&t,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24}l.create=a(),l.alloc=function(t){return new n.Array(t)},n.Array!==Array&&(l.alloc=n.pool(l.alloc,n.Array.prototype.subarray)),l.prototype.e=function(t,r,e){return this.tail=this.tail.next=new u(t,r,e),this.len+=r,this},(p.prototype=Object.create(u.prototype)).fn=function(t,r,e){for(;127<t;)r[e++]=127&t|128,t>>>=7;r[e]=t},l.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},l.prototype.int32=function(t){return t<0?this.e(y,10,i.fromNumber(t)):this.uint32(t)},l.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},l.prototype.int64=l.prototype.uint64=function(t){var r=i.from(t);return this.e(y,r.length(),r)},l.prototype.sint64=function(t){var r=i.from(t).zzEncode();return this.e(y,r.length(),r)},l.prototype.bool=function(t){return this.e(c,1,t?1:0)},l.prototype.sfixed32=l.prototype.fixed32=function(t){return this.e(b,4,t>>>0)},l.prototype.sfixed64=l.prototype.fixed64=function(t){var r=i.from(t);return this.e(b,4,r.lo).e(b,4,r.hi)},l.prototype.float=function(t){return this.e(n.float.writeFloatLE,4,t)},l.prototype.double=function(t){return this.e(n.float.writeDoubleLE,8,t)};var g=n.Array.prototype.set?function(t,r,e){r.set(t,e)}:function(t,r,e){for(var n=0;n<t.length;++n)r[e+n]=t[n]};l.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this.e(c,1,0);if(n.isString(t)){var e=l.alloc(r=o.length(t));o.decode(t,e,0),t=e}return this.uint32(r).e(g,r,t)},l.prototype.string=function(t){var r=s.length(t);return r?this.uint32(r).e(s.write,r,t):this.e(c,1,0)},l.prototype.fork=function(){return this.states=new h(this),this.head=this.tail=new u(f,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(f,0,0),this.len=0),this},l.prototype.ldelim=function(){var t=this.head,r=this.tail,e=this.len;return this.reset().uint32(e),e&&(this.tail.next=t.next,this.tail=r,this.len+=e),this},l.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),e=0;t;)t.fn(t.val,r,e),e+=t.len,t=t.next;return r},l.n=function(t){e=t,l.create=a(),e.n()}},{15:15}],17:[function(t,r){r.exports=i;var e=t(16);(i.prototype=Object.create(e.prototype)).constructor=i;var n=t(15);function i(){e.call(this)}function o(t,r,e){t.length<40?n.utf8.write(t,r,e):r.utf8Write?r.utf8Write(t,e):r.write(t,e)}i.n=function(){i.alloc=n.u,i.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function(t,r,e){r.set(t,e)}:function(t,r,e){if(t.copy)t.copy(r,e,0,t.length);else for(var n=0;n<t.length;)r[e++]=t[n++]}},i.prototype.bytes=function(t){n.isString(t)&&(t=n.r(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this.e(i.writeBytesBuffer,r,t),this},i.prototype.string=function(t){var r=n.Buffer.byteLength(t);return this.uint32(r),r&&this.e(o,r,t),this},i.n()},{15:15,16:16}]},u={},t=[8],n=function t(e){var n=u[e];return n||r[e][0].call(n=u[e]={exports:{}},t,n,n.exports),n.exports}(t[0]),n.util.global.protobuf=n,"function"==typeof define&&define.amd&&define(["long"],(function(t){return t&&t.isLong&&(n.util.Long=t,n.configure()),n})),"object"==typeof module&&module&&module.exports&&(module.exports=n)}(),_cjsExports=exports("default",module.exports)}),{})}}}));

System.register("chunks:///_virtual/protobuf.min.mjs_cjs=&original=.js",["./protobuf.min.js","./cjs-loader.mjs"],(function(t,e){var r,u;return{setters:[function(e){r=e.__cjsMetaURL;var u={};u.__cjsMetaURL=e.__cjsMetaURL,u.default=e.default,t(u)},function(t){u=t.default}],execute:function(){r||u.throwInvalidWrapper("./protobuf.min.js",e.meta.url),u.require(r)}}}));

System.register("chunks:///_virtual/protobufMaJiang.js",["./cjs-loader.mjs"],(function(e,t){var n;return{setters:[function(e){n=e.default}],execute:function(){e("default",void 0);var r=e("__cjsMetaURL",t.meta.url);n.define(r,(function(t,n,r,o,i){var l,a,c=protobuf.Reader,s=protobuf.Writer,u=protobuf.util,p=protobuf.roots.creator||(protobuf.roots.creator=u.global);p.TRemoveList=function(){function e(e){if(this.wincount=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.iconid=0,e.prototype.winlines=0,e.prototype.wincount=u.emptyArray,e.encode=function(e,t){if(t||(t=s.create()),null!=e.iconid&&Object.hasOwnProperty.call(e,"iconid")&&t.uint32(8).int32(e.iconid),null!=e.winlines&&Object.hasOwnProperty.call(e,"winlines")&&t.uint32(16).int32(e.winlines),null!=e.wincount&&e.wincount.length){t.uint32(26).fork();for(var n=0;n<e.wincount.length;++n)t.int32(e.wincount[n]);t.ldelim()}return t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TRemoveList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.iconid=e.int32();break;case 2:r.winlines=e.int32();break;case 3:if(r.wincount&&r.wincount.length||(r.wincount=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.wincount.push(e.int32());else r.wincount.push(e.int32());break;default:e.skipType(7&o)}}return r},e}(),p.TMjhlCardList=function(){function e(e){if(this.list=[],this.win=[],this.droplist=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.list=u.emptyArray,e.prototype.win=u.emptyArray,e.prototype.droplist=u.emptyArray,e.encode=function(e,t){if(t||(t=s.create()),null!=e.list&&e.list.length){t.uint32(10).fork();for(var n=0;n<e.list.length;++n)t.int32(e.list[n]);t.ldelim()}if(null!=e.win&&e.win.length){t.uint32(18).fork();for(n=0;n<e.win.length;++n)t.int32(e.win[n]);t.ldelim()}if(null!=e.droplist&&e.droplist.length){t.uint32(26).fork();for(n=0;n<e.droplist.length;++n)t.int32(e.droplist[n]);t.ldelim()}return t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TMjhlCardList;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(r.list&&r.list.length||(r.list=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.list.push(e.int32());else r.list.push(e.int32());break;case 2:if(r.win&&r.win.length||(r.win=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.win.push(e.int32());else r.win.push(e.int32());break;case 3:if(r.droplist&&r.droplist.length||(r.droplist=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.droplist.push(e.int32());else r.droplist.push(e.int32());break;default:e.skipType(7&o)}}return r},e}(),p.TMjhlResult=function(){function e(e){if(this.cardList=[],this.removelist=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cardList=u.emptyArray,e.prototype.win=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.havewin=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.removelist=u.emptyArray,e.prototype.roundid="",e.prototype.balance=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.scattercount=0,e.prototype.createtime=u.Long?u.Long.fromBits(0,0,!1):0,e.encode=function(e,t){if(t||(t=s.create()),null!=e.cardList&&e.cardList.length)for(var n=0;n<e.cardList.length;++n)p.TMjhlCardList.encode(e.cardList[n],t.uint32(10).fork()).ldelim();if(null!=e.win&&Object.hasOwnProperty.call(e,"win")&&t.uint32(16).int64(e.win),null!=e.havewin&&Object.hasOwnProperty.call(e,"havewin")&&t.uint32(24).int64(e.havewin),null!=e.removelist&&e.removelist.length)for(n=0;n<e.removelist.length;++n)p.TRemoveList.encode(e.removelist[n],t.uint32(34).fork()).ldelim();return null!=e.roundid&&Object.hasOwnProperty.call(e,"roundid")&&t.uint32(42).string(e.roundid),null!=e.balance&&Object.hasOwnProperty.call(e,"balance")&&t.uint32(48).int64(e.balance),null!=e.scattercount&&Object.hasOwnProperty.call(e,"scattercount")&&t.uint32(56).int32(e.scattercount),null!=e.createtime&&Object.hasOwnProperty.call(e,"createtime")&&t.uint32(64).int64(e.createtime),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TMjhlResult;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.cardList&&r.cardList.length||(r.cardList=[]),r.cardList.push(p.TMjhlCardList.decode(e,e.uint32()));break;case 2:r.win=e.int64();break;case 3:r.havewin=e.int64();break;case 4:r.removelist&&r.removelist.length||(r.removelist=[]),r.removelist.push(p.TRemoveList.decode(e,e.uint32()));break;case 5:r.roundid=e.string();break;case 6:r.balance=e.int64();break;case 7:r.scattercount=e.int32();break;case 8:r.createtime=e.int64();break;default:e.skipType(7&o)}}return r},e}(),p.TAccountStatus=(l={},(a=Object.create(l))[l[0]="ACCOUNT_STATUS_NORMAL"]=0,a[l[1]="ACCOUNT_STATUS_FROZEN"]=1,a[l[2]="ACCOUNT_STATUS_FORBIDEN"]=2,a),p.TPlayerInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.agentId=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.balance=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.frozen=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.account="",e.prototype.nickname="",e.prototype.isBuy="",e.prototype.status=0,e.prototype.target=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.complete=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.contrRate=0,e.prototype.special=0,e.prototype.agentName="",e.prototype.clientIp="",e.prototype.lineCode="",e.prototype.balanceS="",e.prototype.type=0,e.prototype.platform=0,e.prototype.createTime="",e.prototype.updateTime="",e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.agentId&&Object.hasOwnProperty.call(e,"agentId")&&t.uint32(16).int64(e.agentId),null!=e.balance&&Object.hasOwnProperty.call(e,"balance")&&t.uint32(24).int64(e.balance),null!=e.frozen&&Object.hasOwnProperty.call(e,"frozen")&&t.uint32(32).int64(e.frozen),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(42).string(e.account),null!=e.nickname&&Object.hasOwnProperty.call(e,"nickname")&&t.uint32(50).string(e.nickname),null!=e.isBuy&&Object.hasOwnProperty.call(e,"isBuy")&&t.uint32(58).string(e.isBuy),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(64).int32(e.status),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(72).int64(e.target),null!=e.complete&&Object.hasOwnProperty.call(e,"complete")&&t.uint32(80).int64(e.complete),null!=e.contrRate&&Object.hasOwnProperty.call(e,"contrRate")&&t.uint32(88).int32(e.contrRate),null!=e.special&&Object.hasOwnProperty.call(e,"special")&&t.uint32(96).int32(e.special),null!=e.agentName&&Object.hasOwnProperty.call(e,"agentName")&&t.uint32(106).string(e.agentName),null!=e.clientIp&&Object.hasOwnProperty.call(e,"clientIp")&&t.uint32(114).string(e.clientIp),null!=e.lineCode&&Object.hasOwnProperty.call(e,"lineCode")&&t.uint32(122).string(e.lineCode),null!=e.balanceS&&Object.hasOwnProperty.call(e,"balanceS")&&t.uint32(130).string(e.balanceS),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(136).int32(e.type),null!=e.platform&&Object.hasOwnProperty.call(e,"platform")&&t.uint32(144).int32(e.platform),null!=e.createTime&&Object.hasOwnProperty.call(e,"createTime")&&t.uint32(794).string(e.createTime),null!=e.updateTime&&Object.hasOwnProperty.call(e,"updateTime")&&t.uint32(802).string(e.updateTime),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TPlayerInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.agentId=e.int64();break;case 3:r.balance=e.int64();break;case 4:r.frozen=e.int64();break;case 5:r.account=e.string();break;case 6:r.nickname=e.string();break;case 7:r.isBuy=e.string();break;case 8:r.status=e.int32();break;case 9:r.target=e.int64();break;case 10:r.complete=e.int64();break;case 11:r.contrRate=e.int32();break;case 12:r.special=e.int32();break;case 13:r.agentName=e.string();break;case 14:r.clientIp=e.string();break;case 15:r.lineCode=e.string();break;case 16:r.balanceS=e.string();break;case 17:r.type=e.int32();break;case 18:r.platform=e.int32();break;case 99:r.createTime=e.string();break;case 100:r.updateTime=e.string();break;default:e.skipType(7&o)}}return r},e}(),p.TMjhlGameInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id="",e.prototype.playerId=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.freePlayTimes=0,e.prototype.lastTimeBet=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.lastMjhlBetId=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.havewin=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.createTime="",e.prototype.updateTime="",e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).string(e.id),null!=e.playerId&&Object.hasOwnProperty.call(e,"playerId")&&t.uint32(16).int64(e.playerId),null!=e.freePlayTimes&&Object.hasOwnProperty.call(e,"freePlayTimes")&&t.uint32(24).int32(e.freePlayTimes),null!=e.lastTimeBet&&Object.hasOwnProperty.call(e,"lastTimeBet")&&t.uint32(32).int64(e.lastTimeBet),null!=e.lastMjhlBetId&&Object.hasOwnProperty.call(e,"lastMjhlBetId")&&t.uint32(40).int64(e.lastMjhlBetId),null!=e.havewin&&Object.hasOwnProperty.call(e,"havewin")&&t.uint32(48).int64(e.havewin),null!=e.createTime&&Object.hasOwnProperty.call(e,"createTime")&&t.uint32(794).string(e.createTime),null!=e.updateTime&&Object.hasOwnProperty.call(e,"updateTime")&&t.uint32(802).string(e.updateTime),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TMjhlGameInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.string();break;case 2:r.playerId=e.int64();break;case 3:r.freePlayTimes=e.int32();break;case 4:r.lastTimeBet=e.int64();break;case 5:r.lastMjhlBetId=e.int64();break;case 6:r.havewin=e.int64();break;case 99:r.createTime=e.string();break;case 100:r.updateTime=e.string();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlRecordReq=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.token="",e.prototype.starttime=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.endtime=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.limit=0,e.prototype.offset=0,e.encode=function(e,t){return t||(t=s.create()),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(10).string(e.token),null!=e.starttime&&Object.hasOwnProperty.call(e,"starttime")&&t.uint32(16).int64(e.starttime),null!=e.endtime&&Object.hasOwnProperty.call(e,"endtime")&&t.uint32(24).int64(e.endtime),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(32).int32(e.limit),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(40).int32(e.offset),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlRecordReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.token=e.string();break;case 2:r.starttime=e.int64();break;case 3:r.endtime=e.int64();break;case 4:r.limit=e.int32();break;case 5:r.offset=e.int32();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlRecordInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.bet=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.freetimes=0,e.prototype.wintotal=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.orderid="",e.prototype.createtime=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.normalremovecount=0,e.prototype.freeremovecount=0,e.encode=function(e,t){return t||(t=s.create()),null!=e.bet&&Object.hasOwnProperty.call(e,"bet")&&t.uint32(8).int64(e.bet),null!=e.freetimes&&Object.hasOwnProperty.call(e,"freetimes")&&t.uint32(16).int32(e.freetimes),null!=e.wintotal&&Object.hasOwnProperty.call(e,"wintotal")&&t.uint32(24).int64(e.wintotal),null!=e.orderid&&Object.hasOwnProperty.call(e,"orderid")&&t.uint32(34).string(e.orderid),null!=e.createtime&&Object.hasOwnProperty.call(e,"createtime")&&t.uint32(40).int64(e.createtime),null!=e.normalremovecount&&Object.hasOwnProperty.call(e,"normalremovecount")&&t.uint32(48).int32(e.normalremovecount),null!=e.freeremovecount&&Object.hasOwnProperty.call(e,"freeremovecount")&&t.uint32(56).int32(e.freeremovecount),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlRecordInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.bet=e.int64();break;case 2:r.freetimes=e.int32();break;case 3:r.wintotal=e.int64();break;case 4:r.orderid=e.string();break;case 5:r.createtime=e.int64();break;case 6:r.normalremovecount=e.int32();break;case 7:r.freeremovecount=e.int32();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlRecordRsp=function(){function e(e){if(this.record=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.record=u.emptyArray,e.prototype.totalbet=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.totalprofit=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.totalcount=u.Long?u.Long.fromBits(0,0,!1):0,e.encode=function(e,t){if(t||(t=s.create()),null!=e.record&&e.record.length)for(var n=0;n<e.record.length;++n)p.TProtoMjhlRecordInfo.encode(e.record[n],t.uint32(10).fork()).ldelim();return null!=e.totalbet&&Object.hasOwnProperty.call(e,"totalbet")&&t.uint32(16).int64(e.totalbet),null!=e.totalprofit&&Object.hasOwnProperty.call(e,"totalprofit")&&t.uint32(24).int64(e.totalprofit),null!=e.totalcount&&Object.hasOwnProperty.call(e,"totalcount")&&t.uint32(32).int64(e.totalcount),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlRecordRsp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.record&&r.record.length||(r.record=[]),r.record.push(p.TProtoMjhlRecordInfo.decode(e,e.uint32()));break;case 2:r.totalbet=e.int64();break;case 3:r.totalprofit=e.int64();break;case 4:r.totalcount=e.int64();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlRecordDetailReq=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.token="",e.prototype.orderid="",e.encode=function(e,t){return t||(t=s.create()),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(10).string(e.token),null!=e.orderid&&Object.hasOwnProperty.call(e,"orderid")&&t.uint32(18).string(e.orderid),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlRecordDetailReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.token=e.string();break;case 2:r.orderid=e.string();break;default:e.skipType(7&o)}}return r},e}(),p.TResultArray=function(){function e(e){if(this.freearray=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.freearray=u.emptyArray,e.encode=function(e,t){if(t||(t=s.create()),null!=e.freearray&&e.freearray.length)for(var n=0;n<e.freearray.length;++n)p.TMjhlResult.encode(e.freearray[n],t.uint32(10).fork()).ldelim();return t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TResultArray;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.freearray&&r.freearray.length||(r.freearray=[]),r.freearray.push(p.TMjhlResult.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlRecordDetailRsp=function(){function e(e){if(this.normalresult=[],this.freeresult=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.balance=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.normalresult=u.emptyArray,e.prototype.bet=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.freetimes=0,e.prototype.freeresult=u.emptyArray,e.prototype.wintotal=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.orderid="",e.prototype.betsize=0,e.prototype.betmultiple=0,e.encode=function(e,t){if(t||(t=s.create()),null!=e.balance&&Object.hasOwnProperty.call(e,"balance")&&t.uint32(8).int64(e.balance),null!=e.normalresult&&e.normalresult.length)for(var n=0;n<e.normalresult.length;++n)p.TMjhlResult.encode(e.normalresult[n],t.uint32(18).fork()).ldelim();if(null!=e.bet&&Object.hasOwnProperty.call(e,"bet")&&t.uint32(24).int64(e.bet),null!=e.freetimes&&Object.hasOwnProperty.call(e,"freetimes")&&t.uint32(32).int32(e.freetimes),null!=e.freeresult&&e.freeresult.length)for(n=0;n<e.freeresult.length;++n)p.TResultArray.encode(e.freeresult[n],t.uint32(42).fork()).ldelim();return null!=e.wintotal&&Object.hasOwnProperty.call(e,"wintotal")&&t.uint32(48).int64(e.wintotal),null!=e.orderid&&Object.hasOwnProperty.call(e,"orderid")&&t.uint32(58).string(e.orderid),null!=e.betsize&&Object.hasOwnProperty.call(e,"betsize")&&t.uint32(64).int32(e.betsize),null!=e.betmultiple&&Object.hasOwnProperty.call(e,"betmultiple")&&t.uint32(72).int32(e.betmultiple),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlRecordDetailRsp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.balance=e.int64();break;case 2:r.normalresult&&r.normalresult.length||(r.normalresult=[]),r.normalresult.push(p.TMjhlResult.decode(e,e.uint32()));break;case 3:r.bet=e.int64();break;case 4:r.freetimes=e.int32();break;case 5:r.freeresult&&r.freeresult.length||(r.freeresult=[]),r.freeresult.push(p.TResultArray.decode(e,e.uint32()));break;case 6:r.wintotal=e.int64();break;case 7:r.orderid=e.string();break;case 8:r.betsize=e.int32();break;case 9:r.betmultiple=e.int32();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlBetReq=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.token="",e.prototype.bet=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.betsize=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.betmultiple=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.betid=0,e.encode=function(e,t){return t||(t=s.create()),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(10).string(e.token),null!=e.bet&&Object.hasOwnProperty.call(e,"bet")&&t.uint32(16).int64(e.bet),null!=e.betsize&&Object.hasOwnProperty.call(e,"betsize")&&t.uint32(24).int64(e.betsize),null!=e.betmultiple&&Object.hasOwnProperty.call(e,"betmultiple")&&t.uint32(32).int64(e.betmultiple),null!=e.betid&&Object.hasOwnProperty.call(e,"betid")&&t.uint32(40).int32(e.betid),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlBetReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.token=e.string();break;case 2:r.bet=e.int64();break;case 3:r.betsize=e.int64();break;case 4:r.betmultiple=e.int64();break;case 5:r.betid=e.int32();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlBetRsp=function(){function e(e){if(this.result=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.balance=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.result=u.emptyArray,e.prototype.wintotal=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.freetimes=0,e.prototype.bet=u.Long?u.Long.fromBits(0,0,!1):0,e.encode=function(e,t){if(t||(t=s.create()),null!=e.balance&&Object.hasOwnProperty.call(e,"balance")&&t.uint32(8).int64(e.balance),null!=e.result&&e.result.length)for(var n=0;n<e.result.length;++n)p.TMjhlResult.encode(e.result[n],t.uint32(18).fork()).ldelim();return null!=e.wintotal&&Object.hasOwnProperty.call(e,"wintotal")&&t.uint32(24).int64(e.wintotal),null!=e.freetimes&&Object.hasOwnProperty.call(e,"freetimes")&&t.uint32(32).int32(e.freetimes),null!=e.bet&&Object.hasOwnProperty.call(e,"bet")&&t.uint32(40).int64(e.bet),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlBetRsp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.balance=e.int64();break;case 2:r.result&&r.result.length||(r.result=[]),r.result.push(p.TMjhlResult.decode(e,e.uint32()));break;case 3:r.wintotal=e.int64();break;case 4:r.freetimes=e.int32();break;case 5:r.bet=e.int64();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlFreeReq=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.token="",e.prototype.bet=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.betsize=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.betmultiple=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.betid=0,e.encode=function(e,t){return t||(t=s.create()),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(10).string(e.token),null!=e.bet&&Object.hasOwnProperty.call(e,"bet")&&t.uint32(16).int64(e.bet),null!=e.betsize&&Object.hasOwnProperty.call(e,"betsize")&&t.uint32(24).int64(e.betsize),null!=e.betmultiple&&Object.hasOwnProperty.call(e,"betmultiple")&&t.uint32(32).int64(e.betmultiple),null!=e.betid&&Object.hasOwnProperty.call(e,"betid")&&t.uint32(40).int32(e.betid),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlFreeReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.token=e.string();break;case 2:r.bet=e.int64();break;case 3:r.betsize=e.int64();break;case 4:r.betmultiple=e.int64();break;case 5:r.betid=e.int32();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlFreeRsp=function(){function e(e){if(this.result=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.balance=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.result=u.emptyArray,e.prototype.wintotal=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.freetimes=0,e.prototype.bet=u.Long?u.Long.fromBits(0,0,!1):0,e.encode=function(e,t){if(t||(t=s.create()),null!=e.balance&&Object.hasOwnProperty.call(e,"balance")&&t.uint32(8).int64(e.balance),null!=e.result&&e.result.length)for(var n=0;n<e.result.length;++n)p.TMjhlResult.encode(e.result[n],t.uint32(18).fork()).ldelim();return null!=e.wintotal&&Object.hasOwnProperty.call(e,"wintotal")&&t.uint32(24).int64(e.wintotal),null!=e.freetimes&&Object.hasOwnProperty.call(e,"freetimes")&&t.uint32(32).int32(e.freetimes),null!=e.bet&&Object.hasOwnProperty.call(e,"bet")&&t.uint32(40).int64(e.bet),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlFreeRsp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.balance=e.int64();break;case 2:r.result&&r.result.length||(r.result=[]),r.result.push(p.TMjhlResult.decode(e,e.uint32()));break;case 3:r.wintotal=e.int64();break;case 4:r.freetimes=e.int32();break;case 5:r.bet=e.int64();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlMarqueeReq=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.token="",e.encode=function(e,t){return t||(t=s.create()),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(10).string(e.token),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlMarqueeReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.token=e.string();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlMarqueeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.text="",e.encode=function(e,t){return t||(t=s.create()),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(10).string(e.text),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlMarqueeRsp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.text=e.string();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlUserInfoReq=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.token="",e.encode=function(e,t){return t||(t=s.create()),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(10).string(e.token),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlUserInfoReq;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.token=e.string();break;default:e.skipType(7&o)}}return r},e}(),p.TProtoMjhlUserInfoRsp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerInfo=null,e.prototype.mjhlInfo=null,e.encode=function(e,t){return t||(t=s.create()),null!=e.playerInfo&&Object.hasOwnProperty.call(e,"playerInfo")&&p.TPlayerInfo.encode(e.playerInfo,t.uint32(10).fork()).ldelim(),null!=e.mjhlInfo&&Object.hasOwnProperty.call(e,"mjhlInfo")&&p.TMjhlGameInfo.encode(e.mjhlInfo,t.uint32(18).fork()).ldelim(),t},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new p.TProtoMjhlUserInfoRsp;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.playerInfo=p.TPlayerInfo.decode(e,e.uint32());break;case 2:r.mjhlInfo=p.TMjhlGameInfo.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e}(),e("default",r.exports)}),{})}}}));

System.register("chunks:///_virtual/protobufMaJiang.mjs_cjs=&original=.js",["./protobufMaJiang.js","./cjs-loader.mjs"],(function(t,a){var e,r;return{setters:[function(a){e=a.__cjsMetaURL;var r={};r.__cjsMetaURL=a.__cjsMetaURL,r.default=a.default,t(r)},function(t){r=t.default}],execute:function(){e||r.throwInvalidWrapper("./protobufMaJiang.js",a.meta.url),r.require(e)}}}));

System.register("chunks:///_virtual/ReleaseManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./ScrollManager.ts"],(function(t){var e,i,a,s,n,r,o,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.createClass,a=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator},function(t){l=t.Manager},function(t){h=t.ReleaseState},function(t){p=t.ScrollManager}],execute:function(){var _,u,d,c,f,g,L,b,v,S,E,m,w,R;r._RF.push({},"54addzT7IZGDaeDYTS/CNAm","ReleaseManager",void 0);var y=o.ccclass,M=o.property,U=function(t){return t[t.ON_PULL_UP=0]="ON_PULL_UP",t[t.ON_PULL_DOWN=1]="ON_PULL_DOWN",t[t.ON_PULL_LEFT=2]="ON_PULL_LEFT",t[t.ON_PULL_RIGHT=3]="ON_PULL_RIGHT",t}(U||{}),O=(t("ReleaseManager",(_=y("ReleaseManager"),u=M("boolean"),d=M({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"根据此阈值来切换state状态"}),c=M({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"根据此阈值来切换state状态"}),f=M({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"根据此阈值来切换state状态"}),g=M({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"根据此阈值来切换state状态"}),_(((R=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,s(e,"_enabled",v,n(e)),s(e,"left",S,n(e)),s(e,"right",E,n(e)),s(e,"top",m,n(e)),s(e,"bottom",w,n(e)),e._pullUp=void 0,e._pullDown=void 0,e._pullLeft=void 0,e._pullRight=void 0,e}a(e,t);var r=e.prototype;return r.onInit=function(){this.enabled&&(this._pullUp=new O(this,U.ON_PULL_UP,this.bottom),this._pullDown=new O(this,U.ON_PULL_DOWN,this.top),this._pullLeft=new O(this,U.ON_PULL_LEFT,this.right),this._pullRight=new O(this,U.ON_PULL_RIGHT,this.left),this.adapter.scrollManager.on(p.Event.ON_SCROLL_START,this.onScrollStart,this),this.adapter.scrollManager.on(p.Event.ON_SCROLL_END,this.onScrollEnd,this),this.adapter.scrollManager.on(p.Event.ON_SCROLL_CANCEL,this.onScrollEnd,this),this.checkLoop())},r.checkLoop=function(){this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?(this.left>0&&(this.adapter.viewManager.loopHeader=!1),this.right>0&&(this.adapter.viewManager.loopFooter=!1)):(this.left>0&&(this.adapter.viewManager.loopFooter=!1),this.right>0&&(this.adapter.viewManager.loopHeader=!1)):this.adapter.isArrangeAxisStart?(this.top>0&&(this.adapter.viewManager.loopHeader=!1),this.bottom>0&&(this.adapter.viewManager.loopFooter=!1)):(this.top>0&&(this.adapter.viewManager.loopFooter=!1),this.bottom>0&&(this.adapter.viewManager.loopHeader=!1))},r.onScrollStart=function(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(h.IDLE),this.right>0&&this._pullLeft._setState(h.IDLE)):(this.top>0&&this._pullDown._setState(h.IDLE),this.bottom>0&&this._pullUp._setState(h.IDLE))},r.onScrollEnd=function(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(h.RELEASE),this.right>0&&this._pullLeft._setState(h.RELEASE)):(this.top>0&&this._pullDown._setState(h.RELEASE),this.bottom>0&&this._pullUp._setState(h.RELEASE))},r.internal_lateUpdate=function(t){if(this.enabled){var e=this.adapter.scrollManager.boundaryOffset;this.adapter.scrollManager.dragging||(e=0),this.adapter.isHorizontal?(this.left>0&&this._pullRight._set(Math.max(-e,0),e<0),this.right>0&&this._pullLeft._set(Math.max(e,0),e>0)):(this.top>0&&this._pullDown._set(Math.max(e,0),e>0),this.bottom>0&&this._pullUp._set(Math.max(-e,0),e<0))}},i(e,[{key:"enabled",get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t)}},{key:"max",get:function(){return this.enabled?this.adapter.isHorizontal?this._pullLeft?this._pullLeft.expand:0:this._pullDown?this._pullDown.expand:0:0}},{key:"min",get:function(){return this.enabled?this.adapter.isHorizontal?this._pullRight?this._pullRight.expand:0:this._pullUp?this._pullUp.expand:0:0}}]),e}(l)).Event=U,v=e((b=R).prototype,"_enabled",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"enabled",[u],Object.getOwnPropertyDescriptor(b.prototype,"enabled"),b.prototype),S=e(b.prototype,"left",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=e(b.prototype,"right",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=e(b.prototype,"top",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=e(b.prototype,"bottom",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=b))||L)),t("ReleaseEvent",function(){function t(t,e,i){this._expand=0,this._progress=0,this._offset=0,this._state=void 0,this._defaultPercentage=void 0,this._manager=void 0,this._event=void 0,this._stop=void 0,this._defaultPercentage=i,this._manager=t,this._event=e}var e=t.prototype;return e._set=function(t,e){e&&(this._stop=!1),this._stop||(this._offset=t,this._progress=t/(this._defaultPercentage*this._manager.adapter.mainAxisSize),this._stop=this._offset<=.1,this._setState(h.PULL),this._manager.emit(this._event,this))},e._setState=function(t){this._state!=h.WAIT&&(t==h.PULL&&this._state==h.RELEASE||(this._state=t))},e.wait=function(t){void 0===t&&(t=this._defaultPercentage*this._manager.adapter.mainAxisSize),this._expand=t,this._state=h.WAIT},e.release=function(){this._expand=0,this._state=h.IDLE,this.offset<=.1&&(this._offset=0,this._progress=0,this._manager.emit(this._event,this))},i(t,[{key:"expand",get:function(){return this._expand}},{key:"progress",get:function(){return this._progress}},{key:"offset",get:function(){return this._offset}},{key:"state",get:function(){return this._state}}]),t}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["cc"],(function(e){var n,l;return{setters:[function(e){n=e.cclegacy,l=e.assetManager}],execute:function(){n._RF.push({},"fdc43owwnFLUpSvMom8VBQf","ResMgr",void 0);e("ResMgr",function(){function e(){}return e.PreloadBundle=function(e,n){console.log("[ResMgr] PreloadBundle start: "+e),l.loadBundle(e,(function(l,o){null!=l?(console.error("[ResMgr] PreloadBundle error: "+e,l),n&&n(null)):(console.log("[ResMgr] PreloadBundle success: "+e),n&&n(o))}))},e.PreloadAssetsInBundle=function(e,n,l){for(var o=0;o<n.length;o++)e.loadDir(n[o],(function(e,n){l&&l()}))},e.GetAssetInBundle=function(e,n,l,o){var u=this.GetBundle(e);if(null==u)return console.log("GetAssetInBundle  失败  name===:"+e),null;console.log("[ResMgr] GetAssetInBundle start: "+e+"/"+n),u.load(n,l,(function(l,u){null!=l?(console.error("[ResMgr] GetAssetInBundle error: "+e+"/"+n,l),o&&o(null)):(console.log("[ResMgr] GetAssetInBundle success: "+e+"/"+n),o&&o(u))}))},e.ReleaseBundle=function(e){var n=this.GetBundle(e);if(null==n)return console.log("ReleaseBundle  失败  name===:"+e),null;n.releaseAll(),l.removeBundle(n)},e.GetBundle=function(e){var n=l.getBundle(e);return null==n?(console.log("GetBundle  当前bundle还没有加载  name===:"+e),null):n},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SA_ScrollCards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScrollAdapter.ts","./Holder.ts","./View.ts","./SA_ScrollCardsItem.ts","./GameConfig.ts"],(function(t){var n,e,r,i,o,l,a,c,s,u,f,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Node},function(t){c=t.ScrollAdapter},function(t){s=t.Holder},function(t){u=t.View},function(t){f=t.SA_ScrollCardsItem},function(t){p=t.GameConfig}],execute:function(){var h,d,S,g,b;o._RF.push({},"999b9Z23g5Dop9wS0SR6fli","SA_ScrollCards",void 0);var m=l.ccclass,y=l.property,C=(t("SA_ScrollCards",(h=m("SA_ScrollCards"),d=y(a),h((b=n((g=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return(n=t.call.apply(t,[this].concat(o))||this).mSelectIndex=p.WrongIndex,r(n,"prefab",b,i(n)),n}e(n,t);var o=n.prototype;return o.getPrefab=function(t){return this.prefab},o.getHolder=function(t,n){return new _(t,n,this)},o.getView=function(){return new C(this)},o.initElement=function(t,n){},o.InitWithData=function(t,n){var e=this;this.modelManager.insert(t),this.centerManager.mNoCallbackThisTurn=!0,this.centerManager.SetSelecIndexCallback((function(t,r){e.mSelectIndex=t,r||n(t)}))},o.ScrollToWithCallback=function(t,n,e){this.centerManager.mNoCallbackThisTurn=e,this.scrollManager.SetIsEmitAboutToStop(!1),this.scrollManager.scrollToGroupIndex(t,n)},n}(c)).prototype,"prefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=g))||S)),function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.onVisible=function(){},r.onDisable=function(){},n}(u)),_=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this)._item=null,n}e(n,t);var r=n.prototype;return r.onCreated=function(){this._item=this.node.getComponent(f)},r.onVisible=function(){this._item.show(this)},r.onDisable=function(){this._item.hide()},n}(s);o._RF.pop()}}}));

System.register("chunks:///_virtual/SA_ScrollCardsItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,a,o,n,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,l=e.UIOpacity,s=e.Label,c=e.Component}],execute:function(){var d,p,h,u,m,f,S,_,b,y,g;o._RF.push({},"b92e0VM/ZZLu6KNdndMuj9A","SA_ScrollCardsItem",void 0);var v=n.ccclass,A=n.property;e("SA_ScrollCardsItem",(d=v("SA_ScrollCardsItem"),p=A(l),h=A(s),u=A(s),m=A(s),d((_=t((S=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"mOpacity",_,a(t)),r(t,"mTopSide",b,a(t)),r(t,"mMainLabel",y,a(t)),r(t,"mBottomSide",g,a(t)),t._holder=void 0,t}i(t,e);var o=t.prototype;return o.show=function(e){this._holder=e,this.mTopSide.string=e.data.mTopSide,this.mMainLabel.string=e.data.mainContent,this.mBottomSide.string=e.data.mBottomSide},o.hide=function(){},o.start=function(){this.node.on("click",this.OnClick.bind(this),this)},o.OnClick=function(){this._holder.adapter.scrollManager.scrollToGroupIndex(.5,this._holder.view.index)},o.lateUpdate=function(e){if(this._holder&&this._holder.model){var t=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),i=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(t),r=this._holder.adapter.centerManager.getContainerOffset(),a=i[this._holder.adapter.mainAxis]+r,o=(a=Math.abs(a))/(1.5*this._holder.adapter.mainAxisSize);o=1-o;var n=this.mOpacity.node.getScale();n[this._holder.adapter.mainAxis]=o,this.mOpacity.node.setScale(n);var l=1-a/(.8*this._holder.adapter.mainAxisSize);this.mOpacity.opacity=255*l}},t}(c)).prototype,"mOpacity",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(S.prototype,"mTopSide",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(S.prototype,"mMainLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(S.prototype,"mBottomSide",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=S))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.ts","./CenterManager.ts","./LayoutManager.ts","./ModelManager.ts","./PageViewManager.ts","./ReleaseManager.ts","./ScrollManager.ts","./ViewManager.ts","./Holder.ts","./View.ts"],(function(e){var t,n,i,r,a,o,s,l,c,g,u,h,M,p,f,w,d,y,A,v,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.Component},function(e){c=e.Orientation,g=e.ArrangeAxis,u=e.ViewEvent,h=e.HolderEvent},function(e){M=e.CenterManager},function(e){p=e.LayoutManager},function(e){f=e.ModelManager},function(e){w=e.PageViewManager},function(e){d=e.ReleaseManager},function(e){y=e.ScrollManager},function(e){A=e.ViewManager},function(e){v=e.Holder},function(e){m=e.View}],execute:function(){var b,S,_,V,x,z,k,H,D,E,C,I,L,P,B;o._RF.push({},"2eafaHDOgJCKIqbAFMhh83c","ScrollAdapter",void 0);var R=s.ccclass,U=s.property,F=(e("ScrollAdapter",(b=R("ScrollAdapter"),S=U(y),_=U(A),V=U(p),x=U(w),z=U(d),k=U(M),b((E=t((D=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"scrollManager",E,r(t)),i(t,"viewManager",C,r(t)),i(t,"layoutManager",I,r(t)),i(t,"pageViewManager",L,r(t)),i(t,"releaseManager",P,r(t)),i(t,"centerManager",B,r(t)),t.modelManager=new f,t}n(t,e);var o=t.prototype;return o.initElement=function(e,t){},o.getView=function(){return new F(this)},o.getHolder=function(e,t){return new O(e,t,this)},o.getParentAdapter=function(e){if(null!=e){var t=e.getComponent("ScrollAdapter");return t||this.getParentAdapter(e.parent)}},o.__preload=function(){this.scrollManager.internal_create(this),this.viewManager.internal_create(this),this.modelManager.internal_create(this),this.releaseManager.internal_create(this),this.layoutManager.internal_create(this),this.pageViewManager.internal_create(this),this.centerManager.internal_create(this),this.viewManager.internal_init(),this.releaseManager.internal_init(),this.layoutManager.internal_init(),this.pageViewManager.internal_init(),this.centerManager.internal_init(),this.scrollManager.internal_init(),this.modelManager.internal_init()},o.lateUpdate=function(e){this.scrollManager.internal_lateUpdate(e),this.viewManager.internal_lateUpdate(e),this.layoutManager.internal_lateUpdate(e),this.releaseManager.internal_lateUpdate(e)},a(t,[{key:"isVertical",get:function(){return this.scrollManager.orientation==c.Vertical}},{key:"isHorizontal",get:function(){return this.scrollManager.orientation==c.Horizontal}},{key:"isArrangeAxisStart",get:function(){return this.viewManager.arrangeAxis==g.Start}},{key:"mainAxis",get:function(){return this.isVertical?"y":"x"}},{key:"crossAxis",get:function(){return this.isVertical?"x":"y"}},{key:"mainAxisAnchorPoint",get:function(){var e=this.isVertical?1:0;return this.isArrangeAxisStart?e:1-e}},{key:"mainAxisSize",get:function(){return this.scrollManager.view.contentSize[this.mainAxis]}},{key:"crossAxisSize",get:function(){return this.scrollManager.view.contentSize[this.crossAxis]}},{key:"multiplier",get:function(){var e=this.isVertical?-1:1;return this.isArrangeAxisStart?-e:e}},{key:"paddingHeader",get:function(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.left:this.viewManager.right:this.isArrangeAxisStart?this.viewManager.top:this.viewManager.bottom}},{key:"paddingFooter",get:function(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.right:this.viewManager.left:this.isArrangeAxisStart?this.viewManager.bottom:this.viewManager.top}},{key:"mainAxisPadding",get:function(){return this.isHorizontal?this.viewManager.left+this.viewManager.right:this.viewManager.top+this.viewManager.bottom}}]),t}(l)).prototype,"scrollManager",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y}}),C=t(D.prototype,"viewManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new A}}),I=t(D.prototype,"layoutManager",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),L=t(D.prototype,"pageViewManager",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new w}}),P=t(D.prototype,"releaseManager",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d}}),B=t(D.prototype,"centerManager",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new M}}),H=D))||H)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.onVisible=function(){this.adapter.node.emit(u.VISIBLE,this)},i.onDisable=function(){this.adapter.node.emit(u.DISABLE,this)},t}(m)),O=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.onCreated=function(){this.node.emit(h.CREATED,this)},i.onVisible=function(){this.node.emit(h.VISIBLE,this)},i.onDisable=function(){this.node.emit(h.DISABLE,this)},t}(v);o._RF.pop()}}}));

System.register("chunks:///_virtual/Scrollbar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScrollAdapter.ts","./enum.ts","./helper.ts","./ScrollManager.ts"],(function(t){var i,e,n,r,o,a,s,h,l,c,u,p,_,f,d,g,m,b,S,T,v,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,h=t.Color,l=t.Sprite,c=t.SpriteFrame,u=t.Node,p=t.v3,_=t.UITransform,f=t.Component,d=t.Vec2},function(t){g=t.ScrollAdapter},function(t){m=t.ScrollbarDirection,b=t.Transition,S=t.Orientation},function(t){T=t.Helper},function(t){v=t.ScrollManager,y=t.ADAPTER}],execute:function(){var E,w,z,H,C,M,O,A,L,x,R,I,U,G,D,N,P,k,V,F,B,j,Y,q,W,J,K,Q,X,Z,$,tt,it,et,nt,rt,ot,at,st,ht;a._RF.push({},"343fbtE5q5N1YLjuI6VhPYI","Scrollbar",void 0);var lt=s.ccclass,ct=s.property,ut=new h;t("Scrollbar",(E=lt("Scrollbar"),w=ct(g),z=ct(l),H=ct({type:m,tooltip:"滚动方向"}),C=ct({tooltip:"开启后会允许用户滑动进度条"}),M=ct({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"可拖拽的最小限制，默认=0不限制,仅当你开启了循环,并且你的item会实时修改主轴尺寸时,那么你应该适当限制拖拽区域"}),O=ct({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"可拖拽的最大限制，默认=1不限制,仅当你开启了循环,并且你的item会实时修改主轴尺寸时,那么你应该适当限制拖拽区域"}),A=ct({type:b}),L=ct({type:b,visible:function(){return this.interactable}}),x=ct({type:l,visible:function(){return this.transition!=b.None&&this.interactable}}),R=ct({type:c,visible:function(){return this.transition==b.SpriteSwap&&this.interactable}}),I=ct({type:c,visible:function(){return this.transition==b.SpriteSwap&&this.interactable}}),U=ct({visible:function(){return this.transition==b.ColorTint&&this.interactable}}),G=ct({visible:function(){return this.transition==b.ColorTint&&this.interactable}}),D=ct({visible:function(){return this.transition==b.Scale&&this.interactable}}),N=ct({visible:function(){return this.transition==b.Scale&&this.interactable}}),P=ct({visible:function(){return this.transition==b.Scale||this.transition==b.ColorTint&&this.interactable}}),k=ct({range:[0,11],slide:!0,step:1,tooltip:"用于进度的步数。值为 < 2 将禁用"}),V=ct({tooltip:"开启后会在滚动条无更新时自动隐藏"}),F=ct({visible:function(){return this.enableAutoHide},tooltip:"自动隐藏滚动条的时间"}),E((Y=i((j=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"adapter",Y,r(i)),n(i,"handle",q,r(i)),n(i,"direction",W,r(i)),n(i,"interactable",J,r(i)),n(i,"dragMinLimit",K,r(i)),n(i,"dragMaxLimit",Q,r(i)),n(i,"_transition",X,r(i)),n(i,"targetGraphic",Z,r(i)),n(i,"hoverSprite",$,r(i)),n(i,"pressedSprite",tt,r(i)),n(i,"hoverColor",it,r(i)),n(i,"pressedColor",et,r(i)),n(i,"hoverScale",nt,r(i)),n(i,"pressedScale",rt,r(i)),n(i,"transitionDuration",ot,r(i)),n(i,"numberOfSteps",at,r(i)),n(i,"enableAutoHide",st,r(i)),n(i,"autoHideTime",ht,r(i)),i._transitionInfo=void 0,i._targetEnter=void 0,i._targetStart=void 0,i._isDirty=!1,i._transform=void 0,i._handleTransform=void 0,i._size=0,i._value=-1,i._pointerEvent=void 0,i._offset=void 0,i._isHide=void 0,i._opacity=255,i._autoHideRemainingTime=void 0,i._rawTargetScale=void 0,i._rawTargetFrame=void 0,i._rawTargetColor=void 0,i}e(i,t);var a=i.prototype;return a.__preload=function(){this.transform.setAnchorPoint(.5,.5),this.handleTransform.setAnchorPoint(.5,.5),this.handle.node.setPosition(0,0),this.adapter&&(this.adapter.scrollManager.on(v.Event.ON_UPDATE_PERCENTAGE,this._onUpdateScrollbar,this),this._updateVisuals()),this.targetGraphic&&(this._rawTargetScale=this.targetGraphic.node.getScale().clone(),this._rawTargetFrame=this.targetGraphic.spriteFrame,this._rawTargetColor=this.targetGraphic.color.clone()),this._openAutoHide(!0)},a.onEnable=function(){var t=this.node.getComponent(l);t&&(this._opacity=t.color.a),this.adapter&&(this.node[y]=!0,this.node.on(u.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(u.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.on(u.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.on(u.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.on(u.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.on(u.EventType.MOUSE_LEAVE,this._targetMouseLeave,this)))},a.onDisable=function(){this.node.off(u.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(u.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.off(u.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.off(u.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.off(u.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.off(u.EventType.MOUSE_LEAVE,this._targetMouseLeave,this))},a._targetMouseEnter=function(){switch(this._targetEnter=!0,this._openAutoHide(!1),this.transition){case b.Scale:this._transitionScale(this._targetStart?this.pressedScale:this.hoverScale);break;case b.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this.hoverSprite);break;case b.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this.hoverColor)}},a._targetMouseLeave=function(){switch(this._targetEnter=!1,this._openAutoHide(!0),this.transition){case b.Scale:this._transitionScale(this._targetStart?this.pressedScale:this._rawTargetScale);break;case b.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this._rawTargetFrame);break;case b.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this._rawTargetColor)}},a._transitionScale=function(t){t&&this.targetGraphic&&(this._transitionInfo={time:0,from:this.targetGraphic.node.getScale().clone(),to:t})},a._transitionColor=function(t){t&&this.targetGraphic&&(this._transitionInfo={time:0,from:this.targetGraphic.color,to:t})},a._transitionSprite=function(t){t&&this.targetGraphic&&(this.targetGraphic.spriteFrame=t)},a._mouseEnter=function(t){this.interactable&&this._openAutoHide(!1)},a._mouseLeave=function(t){this.interactable&&this._openAutoHide(!0)},a._openAutoHide=function(t){this.enableAutoHide&&(this._autoHideRemainingTime=this.autoHideTime,this._isHide=t,t||this._setOpacity(this._opacity))},a._onTouchStart=function(t){if(this.interactable&&1!=this.size&&0!=this.size){this._openAutoHide(!1),this._pointerEvent=null,this._targetStart=!0;var i=t.getUIStartLocation();if(this._offset=this.handleTransform.convertToNodeSpaceAR(p(i.x,i.y)),Math.abs(this._offset[this.xy])>.5*this.handleTransform[this.wh]){this._offset=null,this._pointerEvent=t;var e=this._calcPercentage(t);this._setPercentage(e)}this.transition==b.Scale?this._transitionScale(this.pressedScale):this.transition==b.SpriteSwap?this._transitionSprite(this.pressedSprite):this.transition==b.ColorTint&&this._transitionColor(this.pressedColor)}},a._onTouchMove=function(t){if(this.interactable&&1!=this.size&&0!=this.size&&this._offset){var i=this._calcPercentage(t,this._offset[this.xy]);this._setPercentage(i)}},a._onTouchEnd=function(t){if(this.interactable&&1!=this.size&&0!=this.size){switch(this._offset=null,this._pointerEvent=null,this._targetStart=!1,this.transition){case b.Scale:this._transitionScale(this._targetEnter?this.hoverScale:this._rawTargetScale);break;case b.SpriteSwap:this._transitionSprite(this._targetEnter?this.hoverSprite:this._rawTargetFrame);break;case b.ColorTint:this._transitionColor(this._targetEnter?this.hoverColor:this._rawTargetColor)}this.adapter.centerManager.scrollToCenter()}},a._setPercentage=function(t){this.adapter.scrollManager.stopScroll(),this.adapter.scrollManager.setPercentage(t)},a._calcPercentage=function(t,i){void 0===i&&(i=0);var e=(this.axis==S.Horizontal?this.transform.width:this.transform.height)*(1-this.size),n=t.getUILocation(),r=this.transform.convertToNodeSpaceAR(p(n.x,n.y))[this.xy]-i-.5*-this.transform[this.wh];r-=.5*this.handleTransform[this.wh];var o=this.adapter.scrollManager.percentage;switch(this.direction){case m.Right_To_Left:case m.Top_To_Bottom:o=T.clamp(1-r/e,this.dragMinLimit,this.dragMaxLimit);break;case m.Left_To_Right:case m.Bottom_To_Top:o=T.clamp(r/e,this.dragMinLimit,this.dragMaxLimit)}return this.getSteps(o)},a._onUpdateScrollbar=function(t,i){var e=0,n=0;this.adapter.viewManager.virtualSize>0&&(e=this.adapter.viewManager.virtualSize>=this.adapter.mainAxisSize?T.clamp01((this.adapter.mainAxisSize-Math.abs(i))/this.adapter.viewManager.virtualSize):1),n=t,this.size=e,this.numberOfSteps>1&&(n=Math.round(n*(this.numberOfSteps-1))/(this.numberOfSteps-1),n=T.clamp01(n)),this.value=n,this._autoHideRemainingTime=this.autoHideTime,this._setOpacity(this._opacity)},a._updateVisuals=function(){if(this.handleTransform&&this.adapter){var t={x:0,y:0},i={x:0,y:0},e=this.adapter.mainAxis,n=T.clamp01(this.value)*(1-this.size);t[e]=n,i[e]=n+this.size;var r=this.transform.contentSize[this.wh]-i[e]*this.transform.contentSize[this.wh],o=t[e]*this.transform.contentSize[this.wh],a=this.handle.node.getPosition();switch(this.direction){case m.Bottom_To_Top:case m.Left_To_Right:a[this.xy]=.5*(o-r);break;case m.Top_To_Bottom:case m.Right_To_Left:a[this.xy]=.5*(r-o)}this.handleTransform[this.wh]=this.transform.contentSize[this.wh]-r-o,this.handle.node.setPosition(a)}},a.update=function(t){this._clearDirty(),this._autoHide(t),this._tranitionHandler(t)},a._clearDirty=function(){if(this._isDirty&&(this._isDirty=!1,this._updateVisuals(),this._pointerEvent)){var t=this._pointerEvent.getUILocation();this._offset=this.handleTransform.convertToNodeSpaceAR(p(t.x,t.y)),this._pointerEvent=null}},a._autoHide=function(t){if(this.enableAutoHide&&this._isHide&&!(this._autoHideRemainingTime<=0)&&(this._autoHideRemainingTime-=t,this._autoHideRemainingTime<=this.autoHideTime)){this._autoHideRemainingTime=Math.max(0,this._autoHideRemainingTime);var i=this._opacity*(this._autoHideRemainingTime/this.autoHideTime);this._setOpacity(i)}},a._tranitionHandler=function(t){var i=this.targetGraphic;if(this.transition!=b.None&&i&&this._transitionInfo){this._transitionInfo.time+=t;var e=1;if(this.transitionDuration>0&&(e=this._transitionInfo.time/this.transitionDuration),e>=1&&(e=1),this.transition==b.Scale){this._transitionInfo.current=i.node.getScale();var n=this._transitionInfo.from,r=this._transitionInfo.to;this._transitionInfo.current.x=T.lerp(n.x,r.x,e),this._transitionInfo.current.y=T.lerp(n.y,r.y,e),i.node.setScale(this._transitionInfo.current)}else if(this.transition==b.ColorTint){var o=this._transitionInfo.from,a=this._transitionInfo.to;h.lerp(ut,o,a,e),i.color=ut}1===e&&(this._transitionInfo=null)}},a._setOpacity=function(t){if(this.handle){var i=function(i){i&&(ut.set(i.color),ut.a=t,i.color=ut)};i(this.node.getComponent(l)),i(this.handle.getComponent(l))}},a.getSteps=function(t){return this.numberOfSteps>1&&(t=Math.round(t*(this.numberOfSteps-1))/(this.numberOfSteps-1),t=T.clamp(t,this.dragMinLimit,this.dragMaxLimit)),t},o(i,[{key:"transition",get:function(){return this._transition},set:function(t){t!=this._transition&&(this._transition=t,t!=b.None&&(this.targetGraphic||(this.targetGraphic=this.handle)))}},{key:"size",get:function(){return this._size},set:function(t){t!=this._size&&(this._size=T.clamp(t,.01,1),this._isDirty=!0)}},{key:"value",get:function(){return this._value},set:function(t){t!=this._value&&(this._value=this.getSteps(t),this._isDirty=!0)}},{key:"stepSize",get:function(){return this.numberOfSteps>1?1/(this.numberOfSteps-1):.1}},{key:"transform",get:function(){return this._transform||(this._transform=this.node.getComponent(_)),this._transform}},{key:"handleTransform",get:function(){return this.handle?(this._handleTransform||(this._handleTransform=this.handle.node.getComponent(_)),this._handleTransform):null}},{key:"xy",get:function(){return this.axis==S.Horizontal?"x":"y"}},{key:"wh",get:function(){return this.axis==S.Horizontal?"width":"height"}},{key:"axis",get:function(){return this.direction==m.Left_To_Right||this.direction==m.Right_To_Left?S.Horizontal:S.Vertical}}]),i}(f)).prototype,"adapter",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(j.prototype,"handle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(j.prototype,"direction",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.Top_To_Bottom}}),J=i(j.prototype,"interactable",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K=i(j.prototype,"dragMinLimit",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=i(j.prototype,"dragMaxLimit",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=i(j.prototype,"_transition",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.None}}),i(j.prototype,"transition",[L],Object.getOwnPropertyDescriptor(j.prototype,"transition"),j.prototype),Z=i(j.prototype,"targetGraphic",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(j.prototype,"hoverSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(j.prototype,"pressedSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(j.prototype,"hoverColor",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.WHITE.clone()}}),et=i(j.prototype,"pressedColor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(211,211,211,255)}}),nt=i(j.prototype,"hoverScale",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(1,1)}}),rt=i(j.prototype,"pressedScale",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(1.2,1.2)}}),ot=i(j.prototype,"transitionDuration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),at=i(j.prototype,"numberOfSteps",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),st=i(j.prototype,"enableAutoHide",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ht=i(j.prototype,"autoHideTime",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),B=j))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./debug.ts","./enum.ts","./helper.ts","./ViewManager.ts"],(function(t){var e,i,n,a,r,o,s,h,l,c,_,d,u,p,g,v,f,E,y,O,M,T,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,h=t.Vec3,l=t.UITransform,c=t.Node,_=t.Widget,d=t.EventTouch,u=t.macro,p=t.easing},function(t){g=t.Manager},null,function(t){v=t.Orientation,f=t.TouchMode,E=t.MovementType,y=t.NestedDirection,O=t.ScrollDirection,M=t.Layer},function(t){T=t.Helper},function(t){A=t.ViewManager}],execute:function(){var S,m,b,w,P,C,N,L,D,x,H,R,z,I,U,V,k,F,B,G,X,W,Z,j,q,K,Y,J,Q,$;o._RF.push({},"bc1f5/ZMXhC+qhZP1fbmKsl","ScrollManager",void 0);var tt=s.ccclass,et=s.property,it=new h,nt=t("ADAPTER","__ADAPTER__"),at=function(t){return t[t.ON_SCROLL=0]="ON_SCROLL",t[t.ON_UPDATE_PERCENTAGE=1]="ON_UPDATE_PERCENTAGE",t[t.ON_VIEW_SIZE_CHANGED=2]="ON_VIEW_SIZE_CHANGED",t[t.ON_ABOUT_TO_STOP=3]="ON_ABOUT_TO_STOP",t[t.ON_SCROLL_START=4]="ON_SCROLL_START",t[t.ON_SCROLL_END=5]="ON_SCROLL_END",t[t.ON_SCROLL_CANCEL=6]="ON_SCROLL_CANCEL",t[t.ON_CHANGED_ORIENTATION=7]="ON_CHANGED_ORIENTATION",t[t.ON_SCROLL_TO_GROUPINDEX_BEFOR=8]="ON_SCROLL_TO_GROUPINDEX_BEFOR",t[t.ON_SCROLL_TO_GROUPINDEX_AFTER=9]="ON_SCROLL_TO_GROUPINDEX_AFTER",t[t.ON_SCROLL_TO_MODELINDEX_BEFOR=10]="ON_SCROLL_TO_MODELINDEX_BEFOR",t[t.ON_SCROLL_TO_MODELINDEX_AFTER=11]="ON_SCROLL_TO_MODELINDEX_AFTER",t}(at||{});t("ScrollManager",(S=tt("ScrollManager"),m=et(l),b=et(l),w=et(l),P=et(l),C=et({type:v}),N=et({type:v}),L=et({type:f,tooltip:"Auto: 当内容撑满可视区域或开启ReleaseManager时允许拖动\n        AlwaysAllow: 任何情况下都可以拖动，即使没有任何元素\n        Disabled: 任何情况下都禁用拖动\n        "}),D=et({type:E}),x=et({range:[0,1],slide:!0,step:.001,visible:function(){return this.movementType==E.Elastic}}),H=et({range:[0,1],slide:!0,step:.001,visible:function(){return this.inertia}}),R=et({tooltip:"当滚动速度小于这个值时，会发送ON_ABOUT_TO_STOP广播"}),z=et({tooltip:"取消子节点的Button点击事件"}),I=et({range:[0,.5],slide:!0,step:.001,visible:function(){return this.inertia},tooltip:"嵌套时，当子元素的ScrollView拖动方向和当前拖动方向相同时，使用当前阈值进行计算由谁来处理拖动\n        无特殊需求时，默认值即可"}),U=et({range:[.5,1],slide:!0,step:.001,visible:function(){return this.inertia},tooltip:"嵌套时，当子元素的ScrollView拖动方向和当前拖动方向相同时，使用当前阈值进行计算由谁来处理拖动\n        无特殊需求时，默认值即可"}),S((($=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"_view",F,a(e)),n(e,"_content",B,a(e)),n(e,"_orientation",G,a(e)),n(e,"touchMode",X,a(e)),n(e,"movementType",W,a(e)),n(e,"elasticity",Z,a(e)),n(e,"inertia",j,a(e)),n(e,"decelerationRate",q,a(e)),n(e,"aboutToStopVelocity",K,a(e)),n(e,"cancelInnerEvents",Y,a(e)),n(e,"nestedMinThreshold",J,a(e)),n(e,"nestedMaxThreshold",Q,a(e)),e.__debug_graphics=void 0,e._boundaryOffset=0,e._viewWidget=null,e._parentAdapter=void 0,e._layerLowest=void 0,e._layerMedium=void 0,e._layerHighest=void 0,e._percentage=0,e._velocity=0,e._dragging=!1,e._scrolling=!1,e._isCanceledEvent=!1,e._contentStartPosition=new h,e._prevContentPosition=new h,e._nestedDirection=y.Both,e._parentTouch=!1,e._stopCheckNested=!1,e._scrollHandlePercentage=null,e._scrollHandlePosition=null,e._isEmitAboutToStop=!1,e._isMyEventAndMoved=!1,e._scrollDirection=O.None,e._laseScrollDirection=O.None,e._touchEvent=null,e.test=!1,e}i(e,t);var o=e.prototype;return o.SetIsEmitAboutToStop=function(t){this._isEmitAboutToStop=t},o.onInit=function(){var t=this;this._initView(),this._initContent(),this._parentAdapter=this.adapter.getParentAdapter(this.adapter.node.parent),this.view.node[nt]=!0,this.adapter.viewManager.on(A.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this),this.adapter.viewManager.on(A.Event.ON_CHANGED_VIRTUALSIZE,this._onChangedVirtualSize,this),this.adapter.viewManager.on(A.Event.ON_CHANGED_OVERFLOWHEADER,this._onChangedOverflowHeader,this),this.adapter.viewManager.on(A.Event.ON_RESET_ALL_STATE,this._onResetAllState,this),this.adapter.viewManager.on(A.Event.ON_CLEARVIEWS,this._onResetAllState,this),this.adapter.node.on(c.EventType.SIZE_CHANGED,this._onAdapterSizeChanged,this),this.view.node.on(c.EventType.SIZE_CHANGED,this._onViewSizeChanged,this),this._registerTouchEvent(),this.__createDebug(),this.view.scheduleOnce((function(){t._updatePercentage()}))},o._initView=function(){if(!this.view)throw Error("ScrollManager view 参数为空！");var t={x:.5,y:.5};t[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint,this.view.setAnchorPoint(t.x,t.y);var e=this.view.getComponent(_);e||((e=this.view.addComponent(_)).isAlignLeft=e.isAlignRight=e.isAlignTop=e.isAlignBottom=!0,e.left=e.right=e.top=e.bottom=0),e.updateAlignment(),this._viewWidget=e},o.__createDebug=function(){},o.__drawDebug=function(){if(this.__debug_graphics){this.__debug_graphics.clear();var t=this.adapter.mainAxis,e=this.adapter.crossAxis,i=this.adapter.multiplier,n={x:0,y:0},a={x:0,y:0};a[t]=this.adapter.viewManager.virtualSize,a[e]=this.adapter.crossAxisSize,n[t]=this.contentPosition-a[t]*this.content.anchorPoint[t]*i,n[t]+=this.adapter.viewManager.overflowHeader,n[e]-=a[e]*this.view.anchorPoint[e],this.__debug_graphics.fillRect(n.x,n.y,a.x,a.y),this.__debug_graphics.stroke()}},o._initContent=function(){if(!this.content)throw Error("ScrollManager content 参数为空！");this.content.setAnchorPoint(this.view.anchorPoint);var t={x:0,y:0};t[this.adapter.crossAxis]=this.view.contentSize[this.adapter.crossAxis],this.content.setContentSize(t.x,t.y),this._layerLowest||(this._layerLowest=new c("_layerLowest"),this._layerMedium=new c("_layerMedium"),this._layerHighest=new c("_layerHighest"),this.content.node.addChild(this._layerLowest),this.content.node.addChild(this._layerMedium),this.content.node.addChild(this._layerHighest)),this._updateContentPosition({x:0,y:0})},o._registerTouchEvent=function(){this.view.node.on(c.EventType.TOUCH_START,this._onTouchStart,this,!0),this.view.node.on(c.EventType.TOUCH_END,this._onTouchEnd,this,!0),this.view.node.on(c.EventType.TOUCH_CANCEL,this._onTouchCancel,this,!0),this.view.node.on(c.EventType.TOUCH_MOVE,this._onTouchMove,this,!0)},o._bubbleToParent=function(t){this._parentAdapter&&this._parentAdapter.scrollManager.view.node.dispatchEvent(t)},o._emitCancelEvent=function(t){if(!this._isCanceledEvent){var e=t.getUILocation();e.subtract(t.getUIStartLocation()),this.cancelInnerEvents&&e.length()>7&&t.target!==this.view.node&&(this._simulateEvent(t,c.EventType.MOUSE_LEAVE),this._simulateEvent(t,c.EventType.TOUCH_CANCEL),this._isCanceledEvent=!0)}},o._simulateEvent=function(t,e,i){if(void 0===i&&(i=!0),t){var n=new d(t.getTouches(),t.bubbles,e),a=t.target;n.type=e,n.touch=t.touch,n.simulate=i,a.dispatchEvent(n)}},o._onUpdateViews=function(){this._velocity=0,this._updatePercentage()},o._onChangedVirtualSize=function(){this._updatePercentage(),null!=this._scrollHandlePosition&&null!=this._scrollHandlePosition.change&&this._scrollHandlePosition.change()},o._onChangedOverflowHeader=function(t){this.__drawDebug()},o._onResetAllState=function(){this._velocity=0,this._scrolling=!1,this._dragging=!1,this._isMyEventAndMoved=!1,this._scrollDirection=O.None,this._percentage=0,this._isEmitAboutToStop=!1,this._boundaryOffset=0,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._scrollDirection=O.None,this._touchEvent=null,this.stopScroll(),this._initView(),this._initContent()},o._onAdapterSizeChanged=function(){this._viewWidget.updateAlignment()},o._onViewSizeChanged=function(){this.emit(at.ON_VIEW_SIZE_CHANGED)},o._isMyEvent=function(t,e){return t.eventPhase==d.AT_TARGET||!e||e[0]==this.view.node&&!t.target[nt]},o._onTouchStart=function(t){this._velocity=0,this._dragging=!0,this._isMyEventAndMoved=!1,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._isEmitAboutToStop=!1,this._scrollDirection=O.None,this._contentStartPosition.set(this.content.node.position),this._touchEvent=t,this.stopScroll(),this._calcNestedDirection(),this.emit(at.ON_SCROLL_START)},o._onTouchEnd=function(t,e){this._dragging=!1,this._touchEvent=null,this.emit(at.ON_SCROLL_END,t)},o._onTouchCancel=function(t,e){t.simulate||(this._dragging=!1,this._touchEvent=null,this.emit(at.ON_SCROLL_CANCEL,t))},o._onTouchMove=function(t,e){if(this._isMyEvent(t,e)){if(this._emitCancelEvent(t),this._parentTouch||!this.canTouch)return this._bubbleToParent(t);if(this._touchEvent){var i=this.adapter.mainAxis,n=t.getUILocation(),a=t.getUIStartLocation(),r=n.subtract(a);if(!r.equals2f(0,0)){var o={x:0,y:0};o[i]=this._contentStartPosition[i]+r[i];var s=o[i]-this.contentPosition,h=this.calcOffset(s),l=this.adapter.isHorizontal?-1:1;o[i]+=l*h,this.movementType==E.Elastic&&0!=h&&(o[i]-=l*this._rubberDelta(h,this.adapter.mainAxisSize)),this._checkNested(t,o,this._parentAdapter),this._parentTouch?this._bubbleToParent(t):(this._isMyEventAndMoved=!0,this._updateContentPosition(o))}}}},o._calcNestedDirection=function(){this._parentAdapter&&(this.percentage<=this.nestedMinThreshold&&!this.adapter.viewManager.loopHeader?this._nestedDirection=1==this.adapter.multiplier?y.Footer:y.Header:this.percentage>=this.nestedMaxThreshold&&!this.adapter.viewManager.loopFooter?this._nestedDirection=1==this.adapter.multiplier?y.Header:y.Footer:this._nestedDirection=y.Both)},o._checkNested=function(t,e,i){if(i&&!this._stopCheckNested){if(this.orientation==i.scrollManager.orientation){var n=e[this.adapter.mainAxis]-this._contentStartPosition[this.adapter.mainAxis];if(Math.abs(n)<=.1)return;this._nestedDirection==y.Footer?n<0&&(this._parentTouch=!0):this._nestedDirection==y.Header&&n>0&&(this._parentTouch=!0)}else{var a=0,r=0;if(t instanceof d){var o=t.getUIStartLocation(),s=t.getUILocation();a=Math.abs(o.x-s.x),r=Math.abs(o.y-s.y)}else a=Math.abs(t.getScrollX()),r=Math.abs(t.getScrollY());if(a==r)return;a>r?this.adapter.isVertical&&(this._parentTouch=!0):r>a&&this.adapter.isHorizontal&&(this._parentTouch=!0)}if(!this._parentTouch&&i.scrollManager.parentAdapter)return this._checkNested(t,e,i.scrollManager.parentAdapter);this._stopCheckNested=!0}},o._updateContentPosition=function(t,e){void 0===e&&(e=!0),this._updateScrollDirection(t),this.content.node.setPosition(t.x,t.y),this.emit(at.ON_SCROLL,this._scrollDirection),e?this._updatePercentage():this.__drawDebug()},o._updatePrevContentPosition=function(){this._prevContentPosition.set(this.content.node.position)},o._calcPercentage=function(t,e){var i=this.internal_getHiddenSize(),n=this.adapter.viewManager.loopHeader,a=this.adapter.viewManager.loopFooter,r=this.adapter.multiplier,o=this.adapter.viewManager.overflowHeader,s=t*r;if(this.adapter.isHorizontal?s-=e*r:s+=e*r,a)s+=(o+(i+=this.adapter.viewManager.spacing)*r)*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s+=1,s%=i;else if(n){s+=this.adapter.mainAxisSize-1,this.adapter.centerManager.enabled?s-=this.adapter.centerManager.getContainerOffset():s-=this.adapter.paddingFooter,s+=(o+i*r)*r,t*-r>o*r&&(s+=this.adapter.viewManager.spacing),s%=i}else s+=o*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s>i&&(s=i);return s/i},o._updatePercentage=function(){var t=this.calcOffset();this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this._percentage=0:this._percentage=this._calcPercentage(this.contentPosition,t),this.emit(at.ON_UPDATE_PERCENTAGE,this._percentage,t),this.__drawDebug()},o.internal_disableTouchTarget=function(t){if(this._touchEvent&&this._touchEvent.target==t){var e=this._touchEvent;this._simulateEvent(e,c.EventType.TOUCH_CANCEL,!1),this._simulateEvent(e,c.EventType.MOUSE_LEAVE,!1),this._touchEvent=null}},o.internal_getHiddenSize=function(){var t=this.adapter.viewManager.loopHeader,e=this.adapter.viewManager.loopFooter,i=this.adapter.viewManager.virtualSize;return t||e||this.adapter.centerManager.enabled||(i-=this.adapter.mainAxisSize,i+=this.adapter.mainAxisPadding),i},o._getContentMinBoundaryOffset=function(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMax+t:e+this._defaultMin+t:this.adapter.viewManager.min+t},o._getContentMaxBoundaryOffset=function(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMin+t:e+this._defaultMax+t:this.adapter.viewManager.max+t},o._getMaxBoundaryOffset=function(t){var e=this._viewMax;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?t:e+t:this.adapter.isArrangeAxisStart?-t:e-t},o._getMinBoundaryOffset=function(t){var e=this._viewMin;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?e+t:t:this.adapter.isArrangeAxisStart?e-t:-t},o._rubberDelta=function(t,e){return(1-1/(.55*Math.abs(t)/e+1))*e*Math.sign(t)},o._calcElastic=function(t,e,i){var n=this.adapter.mainAxis,a=this.elasticity;this._scrolling&&(a*=3);var r=this.adapter.isHorizontal?-1:1,o=T.smoothDamp(this.contentPosition,this.contentPosition+r*e,this._velocity,a,T.Infinity,t),s=o.velocity,h=o.position;Math.abs(s)<1&&(s=0),this._velocity=s,i[n]=h},o._calcInertia=function(t,e){this._velocity*=Math.pow(this.decelerationRate,t),Math.abs(this._velocity)<1&&(this._velocity=0),e[this.adapter.mainAxis]+=this._velocity*t},o._calcClamped=function(t){var e=this.adapter.mainAxis,i=t[e]-this.contentPosition,n=this.calcOffset(i);this.adapter.isHorizontal?t[e]-=n:t[e]+=n},o._updateScrollDirection=function(t){var e=t[this.adapter.mainAxis]-this.contentPosition;0!=e?(this.adapter.isHorizontal?this._scrollDirection=e>0?O.Right:O.Left:this._scrollDirection=e>0?O.Up:O.Down,this._laseScrollDirection=this._scrollDirection):this._scrollDirection=O.None},o.internal_setContentPosition=function(t,e){void 0===e&&(e=!0);var i={x:0,y:0};i[this.adapter.mainAxis]=t,this._updateContentPosition(i,e)},o.internal_lateUpdate=function(t){this.test||(this._autoScrolling(t),this._scrollHandler(t,this._scrollHandlePosition,this._scrollPositionHandler.bind(this)),this._scrollHandler(t,this._scrollHandlePercentage,this._scrollPercentageHandler.bind(this)))},o._autoScrolling=function(t){var e=this.calcOffset();if(this._boundaryOffset=e,this._dragging||0==e&&0==this._velocity||(this.content.node.getPosition(it),this.movementType==E.Elastic&&0!=e?this._calcElastic(t,e,it):this.inertia?this._calcInertia(t,it):this._velocity=0,this.movementType==E.Clamped&&this._calcClamped(it),this._updateContentPosition(it)),this._dragging&&this.inertia){var i=(this.contentPosition-this._prevContentPosition[this.adapter.mainAxis])/t;this._velocity=T.lerp(this._velocity,i,10*t)}this._prevContentPosition.equals(this.content.node.position)||this._updatePrevContentPosition(),!this._isEmitAboutToStop&&!this._dragging&&Math.abs(this._velocity)<=this.aboutToStopVelocity&&(this._scrollHandlePercentage||this._scrollHandlePosition||(this.emit(at.ON_ABOUT_TO_STOP,this._velocity),this._isEmitAboutToStop=!0)),this._scrolling=!1},o._scrollHandler=function(t,e,i){if(null!=e){e.deltaTime+=t;var n=e.deltaTime/(e.duration>u.FLT_EPSILON?e.duration:u.FLT_EPSILON);n=T.clamp01(n);var a=p.quintOut(n);e.current=T.progress(e.from,e.to,e.current,a),i(e,n)}},o._scrollPercentageHandler=function(t,e){var i=this.percentage;if(this.setPercentage(t.current),1==e||i==this.percentage){var n=!0;this._scrollHandlePercentage.stop&&(n=this._scrollHandlePercentage.stop()),n&&(this._scrollHandlePercentage=null)}},o._scrollPositionHandler=function(t,e){var i={x:0,y:0};i[this.adapter.mainAxis]=t.current,this._setAutoScroll(i),(1==e||Math.abs(this.contentPosition-t.to)<=1e-4)&&(this._scrollHandlePosition.stop&&this._scrollHandlePosition.stop(),this._scrollHandlePosition=null)},o._setAutoScroll=function(t){var e=this,i=function(t){e._updateContentPosition(t),e._updatePrevContentPosition(),e._velocity=0};i(t);var n=this.calcOffset();if(0!=n){var a=this.adapter.isHorizontal?-1:1;return t[this.adapter.mainAxis]+=n*a,i(t),!1}return!0},o._scrollToPosition=function(t,e,i){var n=this;if(this.dragging)return!1;var a=e();return!(null==a||Math.abs(this.contentPosition-a)<u.FLT_EPSILON)&&(this._scrollHandlePercentage=null,this._scrollHandlePosition={current:0,from:this.contentPosition,to:a,deltaTime:0,duration:Math.max(0,t),change:function(){a=e(),n._scrollHandlePosition.to=a},stop:function(){i()}},!0)},o.getLayerNode=function(t){switch(t){case M.Medium:return this._layerMedium;case M.Highest:return this._layerHighest;default:return this._layerLowest}},o.scrollToModelIndex=function(t,e,i){var n=this,a=this.adapter.viewManager.getGroupIndexByModelIndex(e);if(-1!=a){var r=!1;this._scrollToPosition(t,(function(){var t=n.adapter.centerManager.getPositionByGroupIndex(a,i,r);return r=!0,t}),(function(){n.emit(at.ON_SCROLL_TO_MODELINDEX_AFTER,e)}))&&this.emit(at.ON_SCROLL_TO_MODELINDEX_BEFOR,e)}},o.scrollToGroupIndex=function(t,e,i){var n=this,a=!1;this._scrollToPosition(t,(function(){var t=n.adapter.centerManager.getPositionByGroupIndex(e,i,a);return a=!0,t}),(function(){n.emit(at.ON_SCROLL_TO_GROUPINDEX_AFTER,e)}))&&this.emit(at.ON_SCROLL_TO_GROUPINDEX_BEFOR,e)},o.scrollToHeader=function(t){this.scrollToGroupIndex(t,0)},o.scrollToFooter=function(t){this.scrollToGroupIndex(t,this.adapter.viewManager.groupLength-1)},o.scrollToPercentage=function(t,e){if(!this.canAutoScroll)return!1;Math.abs(this._percentage-e)<.001||(e=T.clamp01(e),t=Math.max(0,t),this._scrollHandlePercentage=null,this._scrollHandlePercentage={deltaTime:0,duration:t,current:0,from:this._percentage,to:e})},o.stopVelocity=function(){this._velocity=0},o.stopScroll=function(){this._scrollHandlePosition=null,this._scrollHandlePercentage=null,this.stopVelocity()},o.setPercentage=function(t){for(var e=this.internal_getHiddenSize(),i={x:0,y:0},n=0,a=null;n<100;){n++;var r=this._percentage-t;if(null!=a&&this._percentage===a)break;if(Math.abs(r)<u.FLT_EPSILON)break;a=this._percentage;var o=this.contentPosition-r*this.adapter.multiplier*e;if(i[this.adapter.mainAxis]=o,!this._setAutoScroll(i))break}100==n&&console.warn("循环次数已达最大值，尽量不要在滚动过程中频繁修改尺寸")},o.calcOffset=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.contentPosition);var i=0;if(this.movementType==E.Unrestricted)return i;var n=this._getContentMaxBoundaryOffset(t,e),a=this._getContentMinBoundaryOffset(t,e),r=this._getMaxBoundaryOffset(n),o=this._getMinBoundaryOffset(a);!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize&&(this.adapter.isVertical?(r-=this.adapter.viewManager.top,o+=this.adapter.viewManager.bottom):(r-=this.adapter.viewManager.left,o+=this.adapter.viewManager.right));var s=0,h=0;if(this.adapter.centerManager.enabled&&this.adapter.viewManager.groupLength>0)h=this.adapter.centerManager.max,s=this.adapter.centerManager.min;else{var l=this.adapter.viewManager.getMagneticOffset();r-=l,o-=l}return this.adapter.releaseManager.enabled&&(h=Math.max(h,this.adapter.releaseManager.max),s=Math.max(s,this.adapter.releaseManager.min)),r-=h,(o+=s)<-.001?i=o:r>.001&&(i=r),i},r(e,[{key:"view",get:function(){return this._view},set:function(t){this._view=t}},{key:"content",get:function(){return this._content},set:function(t){this._content=t}},{key:"orientation",get:function(){return this._orientation},set:function(t){t!=this._orientation&&(this._orientation=t,this.emit(at.ON_CHANGED_ORIENTATION))}},{key:"_viewMin",get:function(){return-this.adapter.mainAxisSize}},{key:"_viewMax",get:function(){return this.adapter.mainAxisSize}},{key:"_defaultMin",get:function(){return 1==this.adapter.multiplier?-this.adapter.mainAxisSize:0}},{key:"_defaultMax",get:function(){return 1==this.adapter.multiplier?0:this.adapter.mainAxisSize}},{key:"isMyEventAndMoved",get:function(){return this._isMyEventAndMoved}},{key:"velocity",get:function(){return this._velocity}},{key:"scrollDirection",get:function(){return this._scrollDirection}},{key:"laseScrollDirection",get:function(){return this._laseScrollDirection}},{key:"percentage",get:function(){return this._percentage}},{key:"dragging",get:function(){return this._dragging}},{key:"boundaryOffset",get:function(){return this._boundaryOffset}},{key:"parentAdapter",get:function(){return this._parentAdapter}},{key:"canAutoScroll",get:function(){return!this.dragging&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize}},{key:"canTouch",get:function(){return this.touchMode==f.AlwaysAllow||this.touchMode!=f.Disabled&&(!!this.adapter.centerManager.enabled||(!!this.adapter.releaseManager.enabled||this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize))}},{key:"contentPosition",get:function(){return this.content.node.position[this.adapter.mainAxis]}}]),e}(g)).Event=at,F=e((k=$).prototype,"_view",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(k.prototype,"view",[b],Object.getOwnPropertyDescriptor(k.prototype,"view"),k.prototype),B=e(k.prototype,"_content",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(k.prototype,"content",[P],Object.getOwnPropertyDescriptor(k.prototype,"content"),k.prototype),G=e(k.prototype,"_orientation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.Vertical}}),e(k.prototype,"orientation",[N],Object.getOwnPropertyDescriptor(k.prototype,"orientation"),k.prototype),X=e(k.prototype,"touchMode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.Auto}}),W=e(k.prototype,"movementType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.Elastic}}),Z=e(k.prototype,"elasticity",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),j=e(k.prototype,"inertia",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),q=e(k.prototype,"decelerationRate",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.135}}),K=e(k.prototype,"aboutToStopVelocity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Y=e(k.prototype,"cancelInnerEvents",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),J=e(k.prototype,"nestedMinThreshold",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.001}}),Q=e(k.prototype,"nestedMaxThreshold",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.999}}),V=k))||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseData.ts"],(function(n){var t,e,s;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){s=n.BaseData}],execute:function(){n({Singleton:function(){var n=function(){function n(){}return n.ClearInstance=function(){this.sInstance=null},t(n,null,[{key:"Instance",get:function(){return null==this.sInstance&&(this.sInstance=new this),this.sInstance}}]),n}();return n.sInstance=null,n},SingletonBaseNotify:function(){var n=function(){function n(){this.CustomerInit()}n.ClearInstance=function(){this.sInstance=null};var e=n.prototype;return e.RemoveAllDataListenner=function(){var n=this;Object.keys(this).forEach((function(t){var e=t.toString();n[e]instanceof s&&n[e].RemoveAllListenner()}))},e.RemoveAllDataListennerByTarget=function(n){var t=this;Object.keys(this).forEach((function(e){var i=e.toString();t[i]instanceof s&&t[i].RemoveListennerByTarget(n)}))},e.Clear=function(){var n=this;Object.keys(this).forEach((function(t){var e=t.toString();n[e]instanceof s&&n[e].Clear()})),this.ResetInstance()},e.ResetInstance=function(){console.log("注意！！！！！ 请子类实现 ResetInstance 方法")},e.CustomerInit=function(){},t(n,null,[{key:"Instance",get:function(){return null==this.sInstance&&(this.sInstance=new this),this.sInstance}}]),n}();return n.sInstance=null,n}}),e._RF.push({},"cb770ocOy9LhImR1xrr/0r1","Singleton",void 0);n("MultipleNotify",function(){function n(){}var t=n.prototype;return t.RemoveAllDataListenner=function(){var n=this;Object.keys(this).forEach((function(t){var e=t.toString();n[e]instanceof s&&n[e].RemoveAllListenner()}))},t.RemoveAllDataListennerByTarget=function(n){var t=this;Object.keys(this).forEach((function(e){var i=e.toString();t[i]instanceof s&&t[i].RemoveListennerByTarget(n)}))},t.Clear=function(){var n=this;Object.keys(this).forEach((function(t){var e=t.toString();n[e]instanceof s&&n[e].Clear()}))},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SpineCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts"],(function(n){var t,e,i,r,o,a,c,s;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,c=n.sp},function(n){s=n.BaseUI}],execute:function(){var p,u,l,f,m;o._RF.push({},"a9c2dJ09S5P7pWj0DypnU7R","SpineCtr",void 0);var S=a.ccclass,h=a.property;n("SpineCtr",(p=S("SpineCtr"),u=h(c.Skeleton),p((m=t((f=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,i(t,"mSpine",m,r(t)),t}e(t,n);var o=t.prototype;return o.InitParam=function(){},o.BindUI=function(){},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},o.Hide=function(){this.mSpine.clearTracks(),this.mSpine.node.active=!1},o.SetAnimation=function(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=null),this.mSpine.node.active=!0,this.mSpine.clearTracks(),this.mSpine.setAnimation(0,n,t),this.mSpine.setCompleteListener((function(n){e&&e(n.animation.name)}))},t}(s)).prototype,"mSpine",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=f))||l));o._RF.pop()}}}));

System.register("chunks:///_virtual/Start.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsbScript.ts","./Localization.ts","./LocalPlayerData.ts","./UIMgr.ts","./GameConfig.ts","./Config.ts","./TableMgr.ts","./KwaiSDKManager.ts","./KwaiSDKConfig.ts"],(function(t){var n,e,a,o,r,c,i,s,u,l,g,f,S,p,K,b,L,d;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,a=t.regeneratorRuntime,o=t.extends},function(t){r=t.cclegacy,c=t.macro,i=t._decorator,s=t.Component},function(t){u=t.JsbScript},function(t){l=t.Localization},function(t){g=t.LocalPlayerData},function(t){f=t.UIMgr,S=t.SceneType},function(t){p=t.GameConfig},function(t){K=t.Config},function(t){b=t.TableMgr},function(t){L=t.KwaiSDKManager},function(t){d=t.KwaiSDKConfigData}],execute:function(){var y;r._RF.push({},"bdc8byAA9dBObZ7pqqVSGC8","Start",void 0),c.ENABLE_MULTI_TOUCH=!1;var D=i.ccclass;i.property,t("Start",D("Start")(y=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var c=r.prototype;return c.onLoad=function(){cc.view.enableAutoFullScreen(!1)},c.start=function(){var t=e(a().mark((function t(){var n,e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Start.start 1"),t.next=3,K.init();case 3:return console.log("Start.start 2"),t.prev=4,t.next=7,b.Instance.Initial();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),console.error("Start: TableMgr.init failed, continue startup",t.t0);case 12:console.log("Start.start 3");try{(n=o({},d)).isDebug=p.DebugMode,L.Instance.init(n)?console.log("[Start] Kwai SDK 初始化成功"):console.warn("[Start] Kwai SDK 初始化失败，可能不在快手小游戏环境")}catch(t){console.error("[Start] Kwai SDK 初始化异常:",t)}0==p.DebugMode&&(console.log=function(){},console.warn=function(){}),u.KeepScreenOn(!0),e=u.getSysLanguage(),l.SetLanguage(e),g.Instance.LoadLocalConfig(),f.Instance.Init((function(){f.Instance.ChangeScene(S.Loading)}));case 20:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(){return t.apply(this,arguments)}}(),r}(s))||y);r._RF.pop()}}}));

System.register("chunks:///_virtual/TableMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./ConstantConfig.ts","./TaskConfig.ts","./LevelConfig.ts","./Singleton.ts"],(function(n){var t,e,r,a,i,o,s,l,u;return{setters:[function(n){t=n.inheritsLoose,e=n.createForOfIteratorHelperLoose},function(n){r=n.cclegacy,a=n.JsonAsset},function(n){i=n.ResMgr},function(n){o=n.ConfigConstantConfig},function(n){s=n.ConfigTaskConfig},function(n){l=n.ConfigLevelConfig},function(n){u=n.Singleton}],execute:function(){r._RF.push({},"d157cLjvBNEtqdDHcbAUkHJ","TableMgr",void 0);n("TableMgr",function(n){function r(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))||this).tableList=["ConstantConfig","TaskConfig","LevelConfig"],t}t(r,n);var u=r.prototype;return u.Initial=function(){var n=this;return new Promise((function(t,r){i.PreloadBundle("table",(function(u){if(u){for(var c,f=[],g=function(){var n=c.value;f.push(new Promise((function(t,e){i.GetAssetInBundle("table",n,a,(function(r){if(r)try{var a,i,u=null!=(a=null==(i=r.json)?void 0:i.inforList)?a:r.json;switch(n){case"ConstantConfig":o.Instance.startAnalysis(u);break;case"TaskConfig":s.Instance.startAnalysis(u);break;case"LevelConfig":l.Instance.startAnalysis(u)}t()}catch(n){e(n)}else e(new Error("Failed to load asset: table/"+n))}))})))},C=e(n.tableList);!(c=C()).done;)g();Promise.all(f).then((function(){return t()})).catch(r)}else r(new Error("Failed to load bundle: table"))}))}))},u.GetLevelByExp=function(n){var t=l.Instance.list;if(!t||0===t.length)return 0;for(var e=t.slice().sort((function(n,t){return n.TotalExp-t.TotalExp})),r=e[0],a=0;a<e.length&&n>=e[a].TotalExp;a++)r=e[a];return r.Id},u.GetLevelProgressByExp=function(n){var t=l.Instance.list;if(!t||0===t.length)return 0;for(var e=t.slice().sort((function(n,t){return n.TotalExp-t.TotalExp})),r=0,a=0;a<e.length&&n>=e[a].TotalExp;a++)r=a;var i=e[r],o=e[r+1];if(!o)return 1;var s=i.TotalExp,u=o.TotalExp,c=(n-s)/Math.max(1,u-s);return c<0?0:c>1?1:c},u.getConstantNumber=function(n,t){void 0===t&&(t=0);var e=o.Instance.get(n);if(!e||null==e.ConstantValue)return t;var r=Number(e.ConstantValue);return Number.isFinite(r)?r:t},u.GetMainEntranceRewardToday=function(){return this.getConstantNumber("MainEntrance_Reward_Today",0)},u.GetMainEntranceRewardNextDay=function(){return this.getConstantNumber("MainEntrance_Reward_NextDay",0)},u.GetMainEntranceRewardDaily=function(){return this.getConstantNumber("MainEntrance_Reward_Daily",0)},u.GetExpSingleTime=function(){return this.getConstantNumber("Exp_SingleTime",0)},u.GetExpMultiplierOpen=function(){return this.getConstantNumber("Exp_Multiplier_Open",0)},u.GetAdRewardCoinNum=function(){return this.getConstantNumber("Ad_Reward_Coin_Num",0)},r}(u()));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaskConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,s;return{setters:[function(t){n=t.createForOfIteratorHelperLoose,e=t.createClass},function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"ec925fq2zNMAr4uyp7XuSLq","TaskConfig",void 0),t("ConfigTaskConfig",function(){function t(){this.map=Object.create(null),this.list=[]}var s=t.prototype;return s.get=function(t){return this.map[t]},s.startAnalysis=function(t){if(this.map=Object.create(null),this.list=[],t&&Array.isArray(t))for(var e,s=n(t);!(e=s()).done;){var i=e.value;this.map[i.Id]=i,this.list.push(i)}},s.dispose=function(){this.map=Object.create(null),this.list.length=0},e(t,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/TaskItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaskMgr.ts"],(function(t){var i,e,a,n,s,o,r,l,u,c,h,p,d,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.Sprite,l=t.Label,u=t.Button,c=t.UITransform,h=t.Color,p=t.Component},function(t){d=t.TaskMgr,g=t.TaskType}],execute:function(){var m,b,f,B,C,k,y,w,v,T,S,L,I,P,R,x,z,D,F,U,M;s._RF.push({},"052a4PRaU5NDKuDyA/xmzs/","TaskItem",void 0);var W=o.ccclass,_=o.property;t("TaskItem",(m=W("TaskItem"),b=_(r),f=_(l),B=_(l),C=_(r),k=_(r),y=_(l),w=_(u),v=_(l),T=_(u),m((I=i((L=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,a(i,"coinSprite",I,n(i)),a(i,"rewardLabel",P,n(i)),a(i,"descLabel",R,n(i)),a(i,"progressBg",x,n(i)),a(i,"progressFill",z,n(i)),a(i,"progressText",D,n(i)),a(i,"claimButton",F,n(i)),a(i,"buttonLabel",U,n(i)),a(i,"claimedButton",M,n(i)),i.taskStatus=null,i.clickCallback=null,i.progressFillMaxWidth=0,i}e(i,t);var s=i.prototype;return s.onLoad=function(){var t=this.node.getChildByPath("Row1Coin");t&&(this.coinSprite=t.getComponent(r));var i=this.node.getChildByPath("Row1Reward");i&&(this.rewardLabel=i.getComponent(l));var e=this.node.getChildByPath("Row1Desc");e&&(this.descLabel=e.getComponent(l));var a=this.node.getChildByPath("Row1ProgressBg");a&&(this.progressBg=a.getComponent(r));var n=this.node.getChildByPath("Row1ProgressFill");if(n){this.progressFill=n.getComponent(r);var s=n.getComponent(c);s&&(this.progressFillMaxWidth=s.width)}var o=this.node.getChildByPath("Row1ProgressText");o&&(this.progressText=o.getComponent(l));var h=this.node.getChildByPath("Row1Button-001");if(h){this.claimButton=h.getComponent(u);var p=h.getChildByPath("Row1ButtonLabel");p&&(this.buttonLabel=p.getComponent(l))}var d=this.node.getChildByPath("Row1Button");d&&(this.claimedButton=d.getComponent(u)),this.claimButton&&this.claimButton.node.on(u.EventType.CLICK,this.onClaimButtonClick,this)},s.onDestroy=function(){if(this.claimButton&&this.claimButton.node)try{this.claimButton.node.off(u.EventType.CLICK,this.onClaimButtonClick,this)}catch(t){}this.taskStatus=null,this.clickCallback=null},s.InitWithData=function(t,i){this.taskStatus=t,this.clickCallback=i,this.UpdateUI()},s.UpdateUI=function(){if(this.taskStatus){var t,i=this.taskStatus,e=i.config,a=i.progress,n=i.isCompleted,s=i.isClaimed;if(this.descLabel&&(this.descLabel.string=e.TaskDesc||""),this.rewardLabel)this.rewardLabel.string=(null==(t=e.CoinNum)?void 0:t.toString())||"0";this.updateProgress(a,e.Param),this.updateButtonState(n,s)}},s.updateProgress=function(t,i){if(this.progressText&&(this.progressText.string=t+"/"+i),this.progressFill){var e=Math.min(Math.max(t/i,0),1),a=this.progressFill.getComponent(c);if(a)if(this.progressFillMaxWidth>0)a.width=this.progressFillMaxWidth*e;else if(this.progressBg){var n=this.progressBg.getComponent(c);n&&(a.width=n.width*e)}}},s.updateButtonState=function(t,i){if(t&&!i){if(this.claimButton){this.claimButton.node.active=!0,this.claimButton.interactable=!0,this.claimButton.transition===u.Transition.COLOR&&(this.claimButton.normalColor=new h(255,255,200,255));var e=this.claimButton.node.getComponent(r);e&&(e.color=new h(255,255,200,255));var a=this.claimButton.node.getChildByName("Background");if(a){var n=a.getComponent(r);n&&(n.color=new h(255,255,200,255))}}this.claimedButton&&(this.claimedButton.node.active=!1),this.buttonLabel&&(this.buttonLabel.string="Receber")}else this.claimButton&&(this.claimButton.node.active=!1),this.claimedButton&&(this.claimedButton.node.active=!0)},s.onClaimButtonClick=function(){this.taskStatus&&this.claimButton.interactable&&(this.taskStatus.isCompleted&&!this.taskStatus.isClaimed&&d.Instance.ClaimTaskReward(this.taskStatus.taskId)&&(this.taskStatus.isClaimed=!0,this.UpdateUI(),this.clickCallback&&this.clickCallback(this.taskStatus)))},s.GetTaskStatus=function(){return this.taskStatus},s.RefreshTaskData=function(){var t=this;if(this.taskStatus&&this.taskStatus.config){var i=(this.taskStatus.config.TaskType===g.Daily?d.Instance.GetDailyTasks():d.Instance.GetWeeklyTasks()).find((function(i){return i.taskId===t.taskStatus.taskId}));i&&(this.taskStatus=i,this.UpdateUI())}},i}(p)).prototype,"coinSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(L.prototype,"rewardLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(L.prototype,"descLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(L.prototype,"progressBg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(L.prototype,"progressFill",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(L.prototype,"progressText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(L.prototype,"claimButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(L.prototype,"buttonLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(L.prototype,"claimedButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=L))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/TaskMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaskConfig.ts","./TaskStorageService.ts","./GameData.ts","./Singleton.ts","./TaskTimeUtil.ts"],(function(s){var t,a,e,o,n,i,l,h;return{setters:[function(s){t=s.inheritsLoose,a=s.createForOfIteratorHelperLoose},function(s){e=s.cclegacy},function(s){o=s.ConfigTaskConfig},function(s){n=s.TaskStorageService},function(s){i=s.GameData},function(s){l=s.Singleton},function(s){h=s.TaskTimeUtil}],execute:function(){e._RF.push({},"ae991hKT1lPYYTow67iYktk","TaskMgr",void 0);var r=s("TaskType",function(s){return s[s.Daily=1]="Daily",s[s.Weekly=2]="Weekly",s}({})),k=s("TaskSubType",function(s){return s[s.GameTime=1]="GameTime",s[s.TotalBet=2]="TotalBet",s[s.AdWatch=3]="AdWatch",s[s.CompleteDailyTask=4]="CompleteDailyTask",s[s.CompleteWeeklyTask=5]="CompleteWeeklyTask",s}({}));s("TaskMgr",function(s){function e(){for(var t,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(t=s.call.apply(s,[this].concat(e))||this).snapshot=null,t}t(e,s);var l=e.prototype;return l.Initialize=function(){this.loadSnapshot(),this.checkAndRefreshTasks()},l.loadSnapshot=function(){var s=n.loadTaskData();s?this.snapshot=s:(this.snapshot=n.createDefaultSnapshot(),this.SaveSnapshot())},l.SaveSnapshot=function(){n.saveTaskData(this.snapshot)},l.checkAndRefreshTasks=function(){var s=!1;h.ShouldRefreshDailyTask(this.snapshot.lastDailyRefreshDate)&&(this.refreshDailyTasks(),this.snapshot.lastDailyRefreshDate=h.GetTodayString(),s=!0),h.ShouldRefreshWeeklyTask(this.snapshot.lastWeeklyRefreshDate)&&(this.refreshWeeklyTasks(),this.snapshot.lastWeeklyRefreshDate=h.GetWeekString(),s=!0),s&&this.SaveSnapshot()},l.refreshDailyTasks=function(){this.snapshot.dailyTaskProgress={},this.snapshot.claimedDailyTasks=[],this.snapshot.completedDailyTaskCount=0,console.log("[TaskMgr] 每日任务已刷新")},l.refreshWeeklyTasks=function(){this.snapshot.weeklyTaskProgress={},this.snapshot.claimedWeeklyTasks=[],this.snapshot.completedWeeklyTaskCount=0,console.log("[TaskMgr] 每周任务已刷新")},l.GetDailyTasks=function(){var s=this;return o.Instance.list.filter((function(s){return s.TaskType===r.Daily})).map((function(t){return s.getTaskStatus(t)}))},l.GetWeeklyTasks=function(){var s=this;return o.Instance.list.filter((function(s){return s.TaskType===r.Weekly})).map((function(t){return s.getTaskStatus(t)}))},l.getTaskStatus=function(s){var t=s.TaskType===r.Daily?this.snapshot.dailyTaskProgress:this.snapshot.weeklyTaskProgress,a=s.TaskType===r.Daily?this.snapshot.claimedDailyTasks:this.snapshot.claimedWeeklyTasks,e=t[s.Id]||0,o=e>=s.Param,n=-1!==a.indexOf(s.Id);return{taskId:s.Id,config:s,progress:e,isCompleted:o,isClaimed:n}},l.UpdateTaskProgress=function(s,t){for(var e,n=!1,i=o.Instance.list.filter((function(t){return t.TaskType===r.Daily&&t.SubType===s})),l=a(i);!(e=l()).done;){var h=e.value;if(-1===this.snapshot.claimedDailyTasks.indexOf(h.Id)){var T=this.snapshot.dailyTaskProgress[h.Id]||0,p=T;s===k.GameTime||s===k.TotalBet||s===k.AdWatch?p=T+t:s===k.CompleteDailyTask?p=this.snapshot.completedDailyTaskCount||0:s===k.CompleteWeeklyTask&&(p=this.snapshot.completedWeeklyTaskCount||0),(p=Math.min(p,h.Param))!==T&&(this.snapshot.dailyTaskProgress[h.Id]=p,n=!0,p>=h.Param&&T<h.Param&&(this.snapshot.completedDailyTaskCount=(this.snapshot.completedDailyTaskCount||0)+1,console.log("[TaskMgr] 每日任务 "+h.Id+" 已完成")))}}for(var c,u=o.Instance.list.filter((function(t){return t.TaskType===r.Weekly&&t.SubType===s})),d=a(u);!(c=d()).done;){var m=c.value;if(-1===this.snapshot.claimedWeeklyTasks.indexOf(m.Id)){var y=this.snapshot.weeklyTaskProgress[m.Id]||0,f=y;s===k.GameTime||s===k.TotalBet||s===k.AdWatch?f=y+t:s===k.CompleteDailyTask?f=this.snapshot.completedDailyTaskCount||0:s===k.CompleteWeeklyTask&&(f=this.snapshot.completedWeeklyTaskCount||0),(f=Math.min(f,m.Param))!==y&&(this.snapshot.weeklyTaskProgress[m.Id]=f,n=!0,f>=m.Param&&y<m.Param&&(this.snapshot.completedWeeklyTaskCount=(this.snapshot.completedWeeklyTaskCount||0)+1,console.log("[TaskMgr] 每周任务 "+m.Id+" 已完成")))}}n&&this.SaveSnapshot()},l.ClaimTaskReward=function(s){var t=o.Instance.get(s);if(!t)return console.warn("[TaskMgr] 任务 "+s+" 不存在"),!1;var a=this.getTaskStatus(t);return a.isCompleted?a.isClaimed?(console.warn("[TaskMgr] 任务 "+s+" 已领取"),!1):(i.Instance.ChangeKsCoin(t.CoinNum),t.TaskType===r.Daily?this.snapshot.claimedDailyTasks.push(s):this.snapshot.claimedWeeklyTasks.push(s),this.SaveSnapshot(),console.log("[TaskMgr] 任务 "+s+" 奖励已领取，获得 "+t.CoinNum+" 快手币"),!0):(console.warn("[TaskMgr] 任务 "+s+" 未完成，无法领取"),!1)},l.GetTotalGameTime=function(){return this.snapshot.totalGameTime||0},l.AddGameTime=function(s){this.snapshot.totalGameTime=(this.snapshot.totalGameTime||0)+s,this.UpdateTaskProgress(k.GameTime,s),this.SaveSnapshot()},l.GetTotalBetAmount=function(){return this.snapshot.totalBetAmount||0},l.AddBetAmount=function(s){this.snapshot.totalBetAmount=(this.snapshot.totalBetAmount||0)+s,this.UpdateTaskProgress(k.TotalBet,s),this.SaveSnapshot()},l.GetTotalAdWatchCount=function(){return this.snapshot.totalAdWatchCount||0},l.AddAdWatchCount=function(s){void 0===s&&(s=1),this.snapshot.totalAdWatchCount=(this.snapshot.totalAdWatchCount||0)+s,this.UpdateTaskProgress(k.AdWatch,s),this.SaveSnapshot()},l.ClearTaskData=function(){n.clearTaskData(),this.snapshot=n.createDefaultSnapshot(),this.SaveSnapshot(),console.log("[TaskMgr] 任务数据已清空")},e}(l()));e._RF.pop()}}}));

System.register("chunks:///_virtual/TaskPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./TaskMgr.ts","./ResMgr.ts","./UIMgr.ts","./TaskItem.ts"],(function(e){var t,n,l,i,o,s,a,r,m,c,h,u,d,f,C;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,l=e._decorator,i=e.ScrollView,o=e.Layout,s=e.UITransform,a=e.Prefab,r=e.instantiate},function(e){m=e.BaseUI},function(e){c=e.BaseButton},function(e){h=e.TaskMgr,u=e.TaskSubType},function(e){d=e.ResMgr},function(e){f=e.UIMgr},function(e){C=e.TaskItem}],execute:function(){var k,T;n._RF.push({},"ec728YjCgxAzourBzAdmLV+","TaskPanel",void 0);var y=l.ccclass,S=function(e){return e[e.Daily=0]="Daily",e[e.Weekly=1]="Weekly",e}(S||{});e("TaskPanel",y("TaskPanel")(((T=function(e){function n(){for(var t,n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=e.call.apply(e,[this].concat(l))||this).mDailyBtnSelect=null,t.mDailyBtnNoSelect=null,t.mWeeklyBtnSelect=null,t.mWeeklyBtnNoSelect=null,t.mCloseBtn=null,t.mContentNode=null,t.mScrollView=null,t.mContentLayout=null,t.mViewTransform=null,t.mOnlineTimeUpdateStarted=!1,t.mCurrentTab=S.Daily,t.mTaskItemPrefab=null,t.mIsLoadingItemPrefab=!1,t.mPendingPrefabCallbacks=[],t.mIsRefreshing=!1,t.mTaskItemNodes=new Map,t.mShouldResetScroll=!1,t}t(n,e);var l=n.prototype;return l.InitParam=function(){var e,t,n,l,a,r,m,h,u;this.mDailyBtnSelect=null==(e=this.node.getChildByPath("Panel/DayBtnSelect"))?void 0:e.getComponent(c),this.mDailyBtnNoSelect=null==(t=this.node.getChildByPath("Panel/DayBtnNoSelect"))?void 0:t.getComponent(c),this.mWeeklyBtnSelect=null==(n=this.node.getChildByPath("Panel/WeekBtnSelect"))?void 0:n.getComponent(c),this.mWeeklyBtnNoSelect=null==(l=this.node.getChildByPath("Panel/WeekBtnNoSelect"))?void 0:l.getComponent(c),this.mCloseBtn=null==(a=this.node.getChildByPath("CloseButton"))?void 0:a.getComponent(c);var d=this.node.getChildByPath("Panel/ScrollView");this.mScrollView=null==d?void 0:d.getComponent(i),this.mContentNode=null==d?void 0:d.getChildByPath("view/content"),this.mContentLayout=null!=(r=null==(m=this.mContentNode)?void 0:m.getComponent(o))?r:null,this.mContentLayout&&this.mContentLayout.resizeMode!==o.ResizeMode.CONTAINER&&(this.mContentLayout.resizeMode=o.ResizeMode.CONTAINER),this.mViewTransform=null!=(h=null==d||null==(u=d.getChildByPath("view"))?void 0:u.getComponent(s))?h:null,this.updateContentLayout(!0)},l.BindUI=function(){var e=this;this.mDailyBtnSelect&&this.mDailyBtnSelect.SetClickCallback((function(){e.OnTabButtonClicked(S.Daily)})),this.mDailyBtnNoSelect&&this.mDailyBtnNoSelect.SetClickCallback((function(){e.OnTabButtonClicked(S.Daily)})),this.mWeeklyBtnSelect&&this.mWeeklyBtnSelect.SetClickCallback((function(){e.OnTabButtonClicked(S.Weekly)})),this.mWeeklyBtnNoSelect&&this.mWeeklyBtnNoSelect.SetClickCallback((function(){e.OnTabButtonClicked(S.Weekly)})),this.mCloseBtn&&this.mCloseBtn.SetClickCallback((function(){e.OnCloseBtnClick()}))},l.RegDataNotify=function(){},l.LateInit=function(){this.UpdateTabState(),this.RefreshTaskList()},l.CustmoerDestory=function(){this.unscheduleAllCallbacks(),this.clearTaskItems(),this.mPendingPrefabCallbacks.length=0,this.mTaskItemPrefab=null,this.mIsRefreshing=!1,this.mOnlineTimeUpdateStarted=!1,this.mTaskItemNodes.clear()},l.OnTabButtonClicked=function(e){this.mCurrentTab!==e&&(this.mCurrentTab=e,this.UpdateTabState(),this.mShouldResetScroll=!0,this.RefreshTaskList())},l.UpdateTabState=function(){var e=this.mCurrentTab===S.Daily;this.mDailyBtnSelect&&(this.mDailyBtnSelect.node.active=e),this.mDailyBtnNoSelect&&(this.mDailyBtnNoSelect.node.active=!e);var t=this.mCurrentTab===S.Weekly;this.mWeeklyBtnSelect&&(this.mWeeklyBtnSelect.node.active=t),this.mWeeklyBtnNoSelect&&(this.mWeeklyBtnNoSelect.node.active=!t)},l.RefreshTaskList=function(){var e=this;this.mIsRefreshing||this.ensureItemPrefab((function(){if(e.mContentNode){var t=[];t=e.mCurrentTab===S.Daily?h.Instance.GetDailyTasks():h.Instance.GetWeeklyTasks();var n=e.sortTasks(t);e.populateTaskItems(n)}}))},l.sortTasks=function(e){var t=[],n=[],l=[];return e.forEach((function(e){e.isClaimed?l.push(e):e.isCompleted?t.push(e):n.push(e)})),[].concat(t,n,l)},l.ensureItemPrefab=function(e){var t=this;this.mTaskItemPrefab?e&&e():this.mIsLoadingItemPrefab?e&&this.mPendingPrefabCallbacks.push(e):(this.mIsLoadingItemPrefab=!0,e&&this.mPendingPrefabCallbacks.push(e),d.GetAssetInBundle(n.Bunddle,n.ItemPrefabPath,a,(function(e){t.mIsLoadingItemPrefab=!1,e&&(t.mTaskItemPrefab=e),t.mPendingPrefabCallbacks.splice(0,t.mPendingPrefabCallbacks.length).forEach((function(e){return e&&e()}))})))},l.populateTaskItems=function(e){var t,n,l=this;if(this.mIsRefreshing=!0,this.mTaskItemPrefab&&this.mContentNode){var i=this.mShouldResetScroll,o=null!=(t=null==(n=this.mScrollView)||null==(n=n.getScrollOffset())?void 0:n.clone())?t:null;this.clearTaskItems(),this.scheduleOnce((function(){if(!l.mContentNode)return l.mIsRefreshing=!1,void(l.mShouldResetScroll=!1);l.mTaskItemNodes.clear(),e.forEach((function(e){var t=r(l.mTaskItemPrefab);l.mContentNode.addChild(t);var n=t.getComponent(C);n&&(n.InitWithData(e,(function(e){return l.OnTaskRewardClaimed(e)})),l.mTaskItemNodes.set(e.taskId,t))})),l.updateContentLayout(),i&&l.mScrollView?l.scheduleOnce((function(){l.mScrollView&&l.mScrollView.isValid&&(l.mScrollView.stopAutoScroll(),l.mScrollView.scrollToTop(0))}),0):o&&l.mScrollView&&(l.mScrollView.stopAutoScroll(),l.mScrollView.scrollToOffset(o,0,!1)),l.mShouldResetScroll=!1,l.refreshOnlineTimeTasks(),l.startOnlineTimeUpdater(),l.mIsRefreshing=!1}),0)}else this.mIsRefreshing=!1},l.clearTaskItems=function(){if(this.mContentNode&&this.mContentNode.children)try{this.RemoveAndDestoryAllChild(this.mContentNode),this.updateContentLayout(!0),this.mTaskItemNodes.clear()}catch(e){console.warn("TaskPanel: clearTaskItems failed, node may be destroying",e)}},l.updateContentLayout=function(e){if(void 0===e&&(e=!1),this.mContentNode){var t;if(!this.mContentLayout)this.mContentLayout=null!=(t=this.mContentNode.getComponent(o))?t:null;this.mContentLayout&&(this.mContentLayout.resizeMode!==o.ResizeMode.CONTAINER&&(this.mContentLayout.resizeMode=o.ResizeMode.CONTAINER),this.mContentLayout.updateLayout());var n=this.mContentNode.getComponent(s);if(n){var l=0;if(this.mViewTransform)l=this.mViewTransform.height;else{var i,a=this.mContentNode.parent,r=null!=(i=null==a?void 0:a.getComponent(s))?i:null;r&&(this.mViewTransform=r,l=r.height)}(e&&l>0&&n.height<l||l>0&&n.height<l)&&(n.height=l)}}},l.startOnlineTimeUpdater=function(){this.mOnlineTimeUpdateStarted||(this.mOnlineTimeUpdateStarted=!0,this.schedule(this.refreshOnlineTimeTasks,1))},l.refreshOnlineTimeTasks=function(){var e;if(this.mContentNode){var t=null!=(e=this.mContentNode.children)?e:[];0!==t.length&&t.forEach((function(e){var t=e.getComponent(C);if(t){var n=t.GetTaskStatus();n&&n.config&&n.config.SubType===u.GameTime&&t.RefreshTaskData()}}))}},l.OnTaskRewardClaimed=function(e){var t=this;if(e&&this.mContentNode&&e.isClaimed){var n=this.mTaskItemNodes.get(e.taskId);n&&n.isValid?this.scheduleOnce((function(){var e,l;if(t.mContentNode&&n&&n.isValid&&n.parent===t.mContentNode){var i=null!=(e=null==(l=t.mScrollView)||null==(l=l.getScrollOffset())?void 0:l.clone())?e:null;n.removeFromParent(),t.mContentNode.addChild(n),t.updateContentLayout(),i&&t.mScrollView&&t.mScrollView.isValid&&t.scheduleOnce((function(){t.mScrollView&&t.mScrollView.isValid&&(t.mScrollView.stopAutoScroll(),t.mScrollView.scrollToOffset(i,0,!1))}),0)}}),0):this.RefreshTaskList()}},l.OnCloseBtnClick=function(){f.Instance.DeleteUIByTarget(this)},n}(m)).PrefabPath="prefab/TaskPanel",T.Bunddle="function",T.ItemPrefabPath="prefab/TaskItem",k=T))||k);n._RF.pop()}}}));

System.register("chunks:///_virtual/TaskStorageService.ts",["cc"],(function(e){var a,t;return{setters:[function(e){a=e.cclegacy,t=e.sys}],execute:function(){a._RF.push({},"cfebajGmttMBINGHX4oc+om","TaskStorageService",void 0);var r="TaskDataSnapshotV1";e("TaskStorageService",function(){function e(){}return e.saveTaskData=function(e){try{var a=JSON.stringify(e);t.localStorage.setItem(r,a)}catch(e){console.error("TaskStorageService.saveTaskData error",e)}},e.loadTaskData=function(){try{var e=t.localStorage.getItem(r);return e&&0!==e.length?JSON.parse(e):null}catch(e){return console.error("TaskStorageService.loadTaskData error",e),null}},e.clearTaskData=function(){try{t.localStorage.removeItem(r)}catch(e){console.error("TaskStorageService.clearTaskData error",e)}},e.createDefaultSnapshot=function(){return{version:1,lastDailyRefreshDate:null,lastWeeklyRefreshDate:null,dailyTaskProgress:{},weeklyTaskProgress:{},claimedDailyTasks:[],claimedWeeklyTasks:[],totalGameTime:0,totalBetAmount:0,totalAdWatchCount:0,completedDailyTaskCount:0,completedWeeklyTaskCount:0}},e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/TaskTimeUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"293e5g1TRBK24yxXgiqgvFC","TaskTimeUtil",void 0),t("TaskTimeUtil",function(){function t(){}return t.padStart=function(t,e,n){if(t.length>=e)return t;for(var r=e-t.length,i="",a=0;a<r;a++)i+=n;return i+t},t.GetUTCMinus3Time=function(){var t=new Date,e=t.getTime()+60*t.getTimezoneOffset()*1e3;return new Date(e+this.UTC_3_OFFSET_MS)},t.GetCurrentTimestamp=function(){return this.GetUTCMinus3Time().getTime()},t.ToUTCMinus3Date=function(t){var e=new Date(t),n=e.getTime()+60*e.getTimezoneOffset()*1e3;return new Date(n+this.UTC_3_OFFSET_MS)},t.GetNextDayStartTimestamp=function(t){var e=this.ToUTCMinus3Date(t);return e.setHours(0,0,0,0),e.setDate(e.getDate()+1),e.getTime()},t.GetDateStringFromTimestamp=function(t){var e=this.ToUTCMinus3Date(t);return e.getFullYear()+"-"+this.padStart(String(e.getMonth()+1),2,"0")+"-"+this.padStart(String(e.getDate()),2,"0")},t.GetTodayStart=function(){var t=this.GetUTCMinus3Time();return t.setHours(0,0,0,0),t},t.GetWeekStart=function(){var t=this.GetUTCMinus3Time(),e=t.getDay(),n=0===e?0:-e,r=new Date(t);return r.setDate(t.getDate()+n),r.setHours(0,0,0,0),r},t.GetTodayString=function(){var t=this.GetTodayStart();return t.getFullYear()+"-"+this.padStart(String(t.getMonth()+1),2,"0")+"-"+this.padStart(String(t.getDate()),2,"0")},t.GetWeekString=function(){var t=this.GetWeekStart();return t.getFullYear()+"-"+this.padStart(String(t.getMonth()+1),2,"0")+"-"+this.padStart(String(t.getDate()),2,"0")},t.ShouldRefreshDailyTask=function(t){return!t||this.GetTodayString()!==t},t.ShouldRefreshWeeklyTask=function(t){return!t||this.GetWeekString()!==t},t}()).UTC_3_OFFSET_MS=-108e5,e._RF.pop()}}}));

System.register("chunks:///_virtual/Toast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts"],(function(t){var e,n,i,r,o,a,s,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Sprite,c=t.Label},function(t){u=t.BaseUI}],execute:function(){var l,p,f,h,m,y,d,T;o._RF.push({},"9a175KW17dI5rJu2cy7jNn9","Toast",void 0);var b=a.ccclass,g=a.property;t("Toast",(l=b("Toast"),p=g(s),f=g(c),l(((T=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"mBG",y,r(e)),i(e,"mTips",d,r(e)),e}n(e,t);var o=e.prototype;return o.InitParam=function(){},o.BindUI=function(){},o.RegDataNotify=function(){},o.LateInit=function(){},o.CustmoerDestory=function(){},o.ShowToast=function(t,e){var n=this;this.mTips.string=t,this.Show(!0),this.StartSecondsTimer(e,e,(function(){0==n.GetRestMillSeconds()&&n.Show(!1)}))},e}(u)).PrefabPath="prefab/Toast",T.Bunddle="common",y=e((m=T).prototype,"mBG",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(m.prototype,"mTips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/ToggleBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./BaseUI.ts"],(function(t){var e,i,n,a,l,o,c,s,r,m,h,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,c=t.Button,s=t.Label,r=t.Node,m=t.Sprite},function(t){h=t.AudioManager},function(t){u=t.BaseUI}],execute:function(){var d,f,b,C,S,D,y,g,k,p,N;l._RF.push({},"ac00afx1L5Fxqncsr56kMXd","ToggleBtn",void 0);var v=o.ccclass,E=o.property;t("ToggleBtn",(d=v("ToggleBtn"),f=E(c),b=E(s),C=E(c),S=E(s),d((g=e((y=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,n(e,"mSelected",g,a(e)),n(e,"mSelectedLabel",k,a(e)),n(e,"mDisabled",p,a(e)),n(e,"mDisableLabel",N,a(e)),e.mCustmoerData=0,e.mDataNotify=null,e.mExtraClickCallback=null,e.mClickCallback=null,e}i(e,t);var l=e.prototype;return l.InitParam=function(){},l.BindUI=function(){},l.RegDataNotify=function(){},l.LateInit=function(){},l.CustmoerDestory=function(){this.mExtraClickCallback=null,null!=this.mDataNotify&&(this.mDataNotify.RemoveListennerByTarget(this),this.mDataNotify=null)},l.SetDataNotify=function(t,e){t.RemoveListennerByTarget(this),this.mDataNotify=t,this.mCustmoerData=e,this.mDataNotify.AddListenner(this,this.NotifyCallback.bind(this)),this.mSelected.node.on(r.EventType.TOUCH_END,this.OnSelected.bind(this),this),this.mDisabled.node.on(r.EventType.TOUCH_END,this.OnDisabled.bind(this),this),null==this.mDataNotify.mData&&this.ShowUnselected()},l.SetClickCallback=function(t,e){var i=this;void 0===e&&(e=0),this.mCustmoerData=e,this.mClickCallback=t,null!=this.mClickCallback&&(this.mSelected.node.on(r.EventType.TOUCH_END,(function(){h.Instance.PlayEffectOneShot("Btn"),i.ShowUnselected(),i.mClickCallback(!1,i.mCustmoerData)}),this),this.mDisabled.node.on(r.EventType.TOUCH_END,(function(){h.Instance.PlayEffectOneShot("Btn"),i.ShowSelected(),i.mClickCallback(!0,i.mCustmoerData)}),this))},l.SetTitle=function(t){this.mSelectedLabel.string=t,this.mDisableLabel.string=t},l.GetTitle=function(){return this.mSelectedLabel.string},l.SetImage=function(t){this.mSelected.node.getChildByName("Icon").getComponent(m).spriteFrame=t,this.mDisabled.node.getChildByName("Icon").getComponent(m).spriteFrame=t},l.SetInteractable=function(t){this.mSelected.interactable=t,this.mDisabled.interactable=t},l.SetGray=function(t){this.mSelected.node.getChildByName("Icon").getComponent(m).grayscale=t,this.mDisabled.node.getChildByName("Icon").getComponent(m).grayscale=t},l.OnSelected=function(){this.mSelected.interactable&&(h.Instance.PlayEffectOneShot("Btn"),null!=this.mExtraClickCallback&&this.mExtraClickCallback(this.mCustmoerData))},l.OnDisabled=function(){this.mSelected.interactable&&(h.Instance.PlayEffectOneShot("Btn"),null!=this.mDataNotify&&(this.mDataNotify.mData=this.mCustmoerData,null!=this.mExtraClickCallback&&this.mExtraClickCallback(this.mCustmoerData)))},l.SetExtraCallback=function(t){this.mExtraClickCallback=t},l.NotifyCallback=function(t,e){t==this.mCustmoerData?this.ShowSelected():this.ShowUnselected()},l.ShowSelected=function(){this.mSelected.node.active=!0,this.mDisabled.node.active=!1},l.ShowUnselected=function(){this.mSelected.node.active=!1,this.mDisabled.node.active=!0},l.SetShowStauts=function(t,e){void 0===e&&(e=!1),t?this.ShowSelected():this.ShowUnselected(),e&&null!=this.mClickCallback&&this.mClickCallback(t)},l.IsSelected=function(){return this.mSelected.node.active},e}(u)).prototype,"mSelected",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(y.prototype,"mSelectedLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=e(y.prototype,"mDisabled",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(y.prototype,"mDisableLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=y))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/Tool.ts",["cc","./GameData.ts","./GameConfig.ts"],(function(e){var t,n,o,r;return{setters:[function(e){t=e.cclegacy,n=e.sys},function(e){o=e.ItemEnum},function(e){r=e.GameConfig}],execute:function(){t._RF.push({},"0338dH9Rf9C2o1R0AOfU1Ma","Tool",void 0);e("Tool",function(){function e(){}return e.ConvertSecondsToHour=function(e){return(e/3600).toFixed(1)+"h"},e.GetRestTime_M_S=function(e){var t=Math.floor(e/60),n=e%60;return(t<10?"0"+t:t+"")+":"+(n<10?"0"+n:n+"")},e.getRestTime_H_M_S=function(e){var t=Math.floor(e/3600);e-=3600*t;var n=Math.floor(e/60),o=(e-=60*n,""),r="",a="";return o=t+"",t<10&&(o="0"+t),r=n+"",n<10&&(r="0"+n),a=e+"",e<10&&(a="0"+e),o+":"+r+":"+a},e.DateFormat=function(e,t){var n,o={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(var r in o)(n=new RegExp("("+r+")").exec(e))&&(e=e.replace(n[1],1==n[1].length?o[r]:o[r].padStart(n[1].length,"0")));return e},e.GetDateDurationFromToday=function(t,n){var o=e.CloneDate(t);return o.setDate(t.getDate()+n),o},e.CloneDate=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},e.DebugDate=function(e){console.warn("年"+e.getFullYear()+" 月"+e.getMonth()+" 日"+e.getDate())},e.DebugFullDate=function(e){console.warn("年"+e.getFullYear()+" 月"+e.getMonth()+" 日"+e.getDate()),console.warn("小时"+e.getHours()+" 分"+e.getMinutes()+" 秒"+e.getSeconds())},e.GetAvilableMonth=function(e,t){var n=e-t;n<1&&(n=1);for(var o=new Array,r=0;r<=t;r++){var a=n+r;if(a>11)break;if(a>e)return;var u=(a+1).toString();o.push(u)}return o},e.GetHowManyDaysInMonth=function(e){var t=new Date;return t.setMonth(e+1),t.setDate(0),t.getDate()},e.GenerateDays=function(e){for(var t=new Array,n=0;n<e;n++){var o=(n+1).toString();t.push(o)}return t},e.DateMinus=function(e,t){var n=(e.getTime()-t.getTime())/1e3/3600/24;return parseInt(n.toString())},e.GetStrWithLen=function(e,t){for(var n=e+"",o=0,r=0,a=0;a<n.length;a++)if(escape(n[a]).indexOf("%u")<0?n[a]>="A"&&n[a]<="Z"?o+=2:o+=1:o+=3,o>t){r=a;break}var u="";return o<=t?r=n.length:u="...",n.slice(0,r)+u},e.ConvertMoneyToString=function(e,t){void 0===t&&(t=0),e/=r.MoneyRatio,e=parseFloat(Number(e).toFixed(t));var n=String.prototype.split.call(e,"."),o=n[0],a=n[1];return null==a&&(a=""),(o=o.replace(/\d(?=(\d{3})+$)/g,"$&,"))+(a?"."+a:"")},e.ConvertMoneyToServer=function(e){return e*=r.MoneyRatio},e.FormatToHump=function(e){return e.replace(/\_(\w)/g,(function(e,t){return t.toUpperCase()}))},e.Random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.CopyFromWeb=function(e){var t=e+"",n=document.createElement("textarea");n.value=t,n.setAttribute("readonly",""),n.style.contain="strict",n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="12pt";var o=getSelection(),r=!1;o.rangeCount>0&&(r=o.getRangeAt(0)),document.body.appendChild(n),n.select(),n.selectionStart=0,n.selectionEnd=t.length;var a=!1;try{a=document.execCommand("copy")}catch(e){console.log("err:",e)}return document.body.removeChild(n),r&&(o.removeAllRanges(),o.addRange(r)),a},e.CopyFromiOSWeb=function(e){var t=e+"",n=document.querySelector("#copy-input");n||((n=document.createElement("input")).id="copy-input",n.readOnly=!0,n.style.position="absolute",n.style.left="-1000px",n.style.zIndex="-1000",document.body.appendChild(n)),n.value=t,n.select(),function(e,t,n){if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",t),o.moveEnd("character",n-t),o.select()}else e.setSelectionRange(t,n),e.focus()}(n,0,t.length),console.log(document.execCommand("copy"),"execCommand"),document.execCommand("copy")&&document.execCommand("copy"),n.blur()},e.CopyText=function(t){n.isNative||(n.os===n.OS.IOS?e.CopyFromiOSWeb(t):e.CopyFromWeb(t))},e.LogServerMJ=function(e){var t="服务器生成了:";1==e?t+="百搭":2==e?t+="胡":3==e||13==e?t+="发财":4==e||14==e?t+="红中":5==e||15==e?t+="白板":6==e||16==e?t+="8万":7==e||17==e?t+="5筒":8==e||18==e?t+="5条":9==e||19==e?t+="2筒":10!=e&&20!=e||(t+="2条"),console.warn(t)},e.LogClientMJ=function(e){var t="";e.mType==o.BaiBan?t+="白板":e.mType==o.BaiDa?t+="百搭":e.mType==o.Fa?t+="发财":e.mType==o.Hu?t+="胡":e.mType==o.Tiao2?t+="2条":e.mType==o.Tiao5?t+="5条":e.mType==o.Tong2?t+="2筒":e.mType==o.Tong5?t+="五筒":e.mType==o.Wan8?t+="8万":e.mType==o.Zhong&&(t+="红中"),console.warn(t)},e.ConvertNumberToChinese=function(e){return 0==e?"零":1==e?"一":2==e?"二":3==e?"三":4==e?"四":5==e?"五":6==e?"六":7==e?"七":8==e?"八":9==e?"九":10==e?"十":void 0},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadingMask.ts","./Toast.ts","./BaseUI.ts","./BaseWindow.ts","./ResMgr.ts","./Singleton.ts","./LoadingUI.ts","./GameUI.ts"],(function(e){var n,t,o,i,a,r,l,s,u,d,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e.instantiate},function(e){i=e.LoadingMask},function(e){a=e.Toast},function(e){r=e.BaseUI},function(e){l=e.BaseWindow},function(e){s=e.ResMgr},function(e){u=e.Singleton},function(e){d=e.LoadingUI},function(e){c=e.GameUI}],execute:function(){t._RF.push({},"4d942pJ+w5MPof/yocmPJnI","UIMgr",void 0);var h=function(e,n,t,o){this.key=void 0,this.value=void 0,this.belong=void 0,this.tag=void 0,this.key=e,this.value=n,this.belong=t,this.tag=o},f=function(e,n,t,o,i){this.type=void 0,this.bundleNames=void 0,this.defaultBundle=void 0,this.prefabPath=void 0,this.scriptName=void 0,this.type=e,this.bundleNames=i,this.prefabPath=n,this.scriptName=o,this.defaultBundle=t},v=e("LayerType",function(e){return e[e.Layer=0]="Layer",e[e.Window=1]="Window",e}({})),g=e("SceneType",function(e){return e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Game=2]="Game",e}({})),y=e("UIMgr",function(e){function t(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).mLayerRoot=null,n.mWindowRoot=null,n.mTopRoot=null,n.mLayerList=void 0,n.mWindowList=void 0,n.mCurrentScene=void 0,n.mSceneConfig=void 0,n.mLoadingMask=null,n.mStaticUI=null,n.mToast=null,n}n(t,e);var u=t.prototype;return u.Init=function(e){this.mLayerRoot=cc.find("Canvas/LayerRoot"),this.mWindowRoot=cc.find("Canvas/WindowRoot"),this.mTopRoot=cc.find("Canvas/TopRoot"),this.mStaticUI=cc.find("Canvas/TopRoot/StaticUI"),this.mLayerList=new Array,this.mWindowList=new Array,this.mCurrentScene=g.None,this.mSceneConfig=new Array,this.SetupSceneConfigs(),this.LoadInitRes(e)},u.SetupSceneConfigs=function(){t.ResFolder=["anm","font","music","prefab","texture","particular"],t.InitialBundle=["common","loading"],t.RestBundle=["gamePage","function"];var e=new f(g.Loading,d.PrefabPath,d.Bunddle,"LoadingUI",[]),n=new f(g.Game,c.PrefabPath,c.Bunddle,"GameUI",[]);this.mSceneConfig.push(e),this.mSceneConfig.push(n)},u.ShowStaticUI=function(e){this.mStaticUI.active=e},u.LoadInitRes=function(e){var n=this;this.PreloadRes(t.InitialBundle,(function(){n.CreatePrefab("",i.Bunddle,i.PrefabPath,(function(e){var t=e.getComponent(i);n.mTopRoot.addChild(e),n.mLoadingMask=t,n.mLoadingMask.ShowLoading(!1)})),n.CreatePrefab("",a.Bunddle,a.PrefabPath,(function(e){var t=e.getComponent(a);n.mTopRoot.addChild(e),n.mToast=t,n.mToast.Show(!1)})),e()}))},u.LoadRestRes=function(e,n){this.PreloadRes(t.RestBundle,(function(){e()}),n)},u.ShowLoading=function(e,n){void 0===n&&(n="正在加载"),this.mLoadingMask.ShowLoading(e,n)},u.ShowToast=function(e,n){void 0===n&&(n=2);var t=this.mTopRoot.children.length;this.mToast.node.setSiblingIndex(t),this.mToast.ShowToast(e,n)},u.HaveLayer=function(e,n,t,o){void 0===o&&(o="");var i=this.CreateKey(e,n,o);return null!=this.FindLayer(i,v.Layer)},u.GetLayer=function(e,n,t,o){void 0===o&&(o="");var i=this.CreateKey(e,n,o),a=this.FindLayer(i,v.Layer);return null!=a?a.value:null},u.ShowLayer=function(e,n,t,o,i,a,l){var s=this;void 0===o&&(o=!0),void 0===i&&(i=null),void 0===a&&(a=""),void 0===l&&(l="");var u=this.CreateKey(n,t,l),d=this.FindLayer(u,v.Layer);if(null==d||null!=d.value){if(null!=d&&null!=d.value){d.tag=a;var c=this.GetRootNode(v.Layer).children.length;d.value.setSiblingIndex(c),d.value.active=!1;var h=d.value.getComponent(r);return h.Show(o),void(null!=i&&i(h))}0!=o&&(this.CreateRecordItem(u,v.Layer,a),this.CreatePrefab(e,n,t,(function(e){s.GetRootNode(v.Layer).addChild(e),s.RecordLayer(u,e,v.Layer);var n=s.GetRootNode(v.Layer).children.length;e.setSiblingIndex(n);var t=e.getComponent(r);t.Show(o),null!=i&&i(t)})))}else console.log("ShowLayer 正在创建中，请不要重复创建 ===key"+u)},u.ShowWindow=function(e,n,t,o,i,a,s){var u=this;void 0===o&&(o=!0),void 0===i&&(i=null),void 0===a&&(a=""),void 0===s&&(s="");var d=this.CreateKey(n,t,s),c=this.FindLayer(d,v.Window);if(null==c||null!=c.value){if(null!=c&&null!=c.value){c.tag=a;var h=this.GetRootNode(v.Window).children.length;c.value.setSiblingIndex(h);var f=c.value.getComponent(l);return f.Show(o),void(null!=i&&i(f.GetContentScript()))}0!=o&&(this.CreateRecordItem(d,v.Window,a),this.CreatePrefab("",l.Bunddle,l.PrefabPath,(function(a){u.CreatePrefab(e,n,t,(function(e){u.GetRootNode(v.Window).addChild(a),u.RecordLayer(d,a,v.Window);var n=a.getComponent(l),t=e.getComponent(r);n.SetContent(e,t),n.Show(o);var s=u.GetRootNode(v.Window).children.length;n.node.setSiblingIndex(s),null!=i&&i(t)}))})))}else console.log("ShowWindow 正在创建中，请不要重复创建 ===key"+d)},u.CreatePrefab=function(e,n,t,i){s.GetAssetInBundle(n,t,cc.Prefab,(function(n){if(i){var t=o(n);""!=e&&t.addComponent(e),i(t)}}))},u.ChangeScene=function(e){var n=this;e!=g.None?this.mCurrentScene!=e?(this.mCurrentScene!=g.None&&this.DeleteScene(this.mCurrentScene),setTimeout((function(){n.mCurrentScene=e;var t=n.GetSceneConfig(e);n.ShowLayer(t.scriptName,t.defaultBundle,t.prefabPath)}),10)):console.log("不能跳转到同一个场景 _sceneType=="+e):console.log("不能跳转目标场景====SceneType.None")},u.PreloadRes=function(e,n,o){void 0===o&&(o=null);var i=e.length*t.ResFolder.length;if(0!=i)for(var a=function(a){s.PreloadBundle(e[a],(function(r){s.PreloadAssetsInBundle(r,t.ResFolder,(function(){i--,null!=o&&o(i);var t="加载资源 BundleName:"+e[a]+"  count ="+i;console.log(t),0==i&&n&&n()}))}))},r=0;r<e.length;r++)a(r);else n&&n()},u.GetSceneConfig=function(e){var n=this.mSceneConfig.findIndex((function(n){return n.type===e}));return n<0?(console.log("GetSceneConfig 没有找到该场景 _sceneType ==="+e),null):this.mSceneConfig[n]},u.DeleteScene=function(e){this.DeleteLayerBySecene(v.Layer,e),this.DeleteLayerBySecene(v.Window,e)},u.DeleteLayerBySecene=function(e,n){for(var t=this.GetList(e),o=0;o<t.length;)t[o].belong==n?(console.log("删除targetList[step]==="+t[o].key),t[o].value.destroy(),t.splice(o,1)):o++},u.DeleteUI=function(e,n,t,o){void 0===o&&(o="");var i=this.CreateKey(e,n,o),a=this.FindLayer(i,t);if(null!=a&&null!=a.value){a.value.getComponent(r).DeleteSelf();var l=this.GetList(t),s=l.findIndex((function(e){return e.key===i}));l.splice(s,1)}else console.log("没有找到该layer ，无法删除 ===key==="+i)},u.DeleteUIByTarget=function(e){for(var n=v.Layer;n<=v.Window;n++){var t=this.GetList(n),o=void 0;if((o=n==v.Layer?t.findIndex((function(n){return n.value===e.node})):t.findIndex((function(n){return n.value.getComponent(l).mContent===e.node})))>=0){t[o].value.getComponent(r).DeleteSelf(),t.splice(o,1);break}}},u.DeleteUiByTag=function(e){for(var n=v.Layer;n<=v.Window;n++)for(var t=this.GetList(n),o=0;o<t.length;){var i=t[o];if(i.tag==e)i.value.getComponent(r).DeleteSelf(),t.splice(o,1);else o++}},u.HideUiByTag=function(e){for(var n=v.Layer;n<=v.Window;n++)for(var t=this.GetList(n),o=0;o<t.length;o++){var i=t[o];if(i.tag==e)if(null!=i.value)i.value.getComponent(r).Show(!1)}},u.HideUiByTag2=function(e){for(var n=v.Layer;n<=v.Window;n++)for(var t=this.GetList(n),o=0;o<t.length;o++){var i=t[o];if(i.tag==e&&null!=i.value){var a=i.value.getComponent(r);n==v.Window?a.Show(!1):a.node.setSiblingIndex(0)}}},u.CreateKey=function(e,n,t){return e+"/"+n+":aka=="+t},u.GetList=function(e){switch(e){case v.Layer:return this.mLayerList;case v.Window:return this.mWindowList}},u.FindLayer=function(e,n){var t=this.GetList(n),o=t.findIndex((function(n){return n.key===e}));return o>=0?t[o]:null},u.GetRootNode=function(e){switch(e){case v.Layer:return this.mLayerRoot;case v.Window:return this.mWindowRoot}},u.RecordLayer=function(e,n,t){var o=this.FindLayer(e,t);null!=o?o.value=n:console.log("RecordLayer error 没有当前key ===="+e)},u.CreateRecordItem=function(e,n,t){var o=new h(e,null,this.mCurrentScene,t);this.GetList(n).push(o)},t}(u()));y.ResFolder=void 0,y.InitialBundle=void 0,y.RestBundle=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/View.ts",["./rollupPluginModLoBabelHelpers.js","cc","./debug.ts","./enum.ts","./helper.ts","./LayoutManager.ts","./ViewManager.ts"],(function(e){var t,i,r,a,s,n,o,h;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,r=e._decorator},function(e){a=e.DEBUG_DRAW_LIND_WIDTH},function(e){s=e.WrapMode},function(e){n=e.Helper},function(e){o=e.LayoutManager},function(e){h=e.ViewManager}],execute:function(){var l;i._RF.push({},"23d5e5GMDZHsJya+iuJLjiQ","View",void 0);var d=r.ccclass;r.property,e("View",d("View")(l=function(){function e(e){this.__debug_graphics=void 0,this._adapter=void 0,this._total=0,this._innerSize=0,this._group=null,this._holderList=[],this._tempHolderList=[],this._isOverflowFixed=void 0,this._adapter=e,this.internal_reset(),this.__createDebug()}var i=e.prototype;return i.__createDebug=function(){},i.__drawDebug=function(){if(this.__debug_graphics&&this.group){this.__debug_graphics.clear();var e=this.adapter.mainAxis,t=this.adapter.crossAxis,i={x:0,y:0},r={x:this.group.size.x,y:this.group.size.y},s={x:this.group.anchorPoint.x,y:this.group.anchorPoint.y};i[e]=this.group.position[e]-r[e]*s[e],i[e]+=.5*a,i[t]=this.group.position[t]-r[t]*(1-s[t]),i[t]+=.5*a,r[e]-=a,r[t]-=a,this.__debug_graphics.roundRect(i.x,i.y,r.x,r.y,2),this.__debug_graphics.stroke()}},i.getFixedHolders=function(){if(!this.group.isFixed)return[];for(var e=[],t=this.holderList.length,i=0;i<t;i++){var r=this.holderList[i];r.model.element.fixed&&e.push(r)}return e},i.internal_isWrap=function(e,t){var i=!1,r=t&&t.models[t.models.length-1];if(r)switch(e.element.wrapBeforeMode){case s.Wrap:i=!0;break;case s.Nowrap:i=r.element.wrapAfterMode==s.Wrap;break;case s.Auto:(i=r.element.wrapAfterMode==s.Wrap)||(i=this._calculateInnerSize(e,t))}return i},i.internal_reset=function(){this._group=null,this._innerSize=0,this._total=0,this._holderList.length=0,this._isOverflowFixed=!0,this._tempHolderList.length=0,this.__debug_graphics&&this.__debug_graphics.clear()},i.internal_push=function(e){this._total++;var t=this.adapter.crossAxis;(!e.element.ignoreLayout||e.element.ignoreLayout&&e.element.placeholder)&&(0!=this._innerSize&&(this._innerSize+=this.adapter.layoutManager.spacing),this._innerSize+=e.size[t])},i.internal_recycleHolders=function(e){for(var t=0;t<this._holderList.length;t++){var i=this._holderList[t];i.internal_disable(),e(i)}this._holderList.length=0},i.internal_preVisible=function(e,t){return this._group=e,this._createHolders(t),this},i.internal_visible=function(){this.register();for(var e=0;e<this._tempHolderList.length;e++){var t=this._tempHolderList[e],i=t.holder,r=t.model,a=t.isNew;i.internal_visible(this,r,a)}this._tempHolderList.length=0,this.adapter.layoutManager.layout(this.group),this.onVisible()},i.internal_disable=function(){this.adapter.layoutManager.unLayout(this.index),this.unregister(),this.onDisable(),this.internal_reset()},i.internal_holderChanged=function(e){var t=!0,i=this.adapter.mainAxis,r=this.group.size[i];if(!e){for(var a=0,s=0;s<this.group.models.length;s++){var o=this.group.models[s],h=o.size[i];(this.adapter.isVertical&&this.adapter.layoutManager.controlScaleHeight||this.adapter.isHorizontal&&this.adapter.layoutManager.controlScaleWidth)&&(h*=o.scale[i]),a=Math.max(a,h)}n.approximately(this.group.size[i],a)||(this.group.oldSize[i]=this.group.size[i],this.group.size[i]=a,t=!1)}t?this.adapter.layoutManager.layout(this.group):this.adapter.viewManager.internal_viewChanged(this,r)},i.register=function(){this.adapter.viewManager.on(h.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.on(h.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.on(o.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.on(o.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)},i.unregister=function(){this.adapter.viewManager.off(h.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.off(h.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.off(o.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.off(o.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)},i._createHolders=function(e){var t=this.adapter.mainAxis;this._tempHolderList.length=0;for(var i=0;i<this.group.models.length;i++){var r=this.group.models[i],a=!1,s=e&&e(r);s||(s=this.adapter.viewManager.internal_getHolder(r),a=!0),r.position[t]=this.group.position[t],this._holderList.push(s),this._tempHolderList.push({holder:s,model:r,isNew:a})}},i._calculateInnerSize=function(e,t){if(0==this._total)return!1;var i=e.size[this.adapter.crossAxis];return this._innerSize+i+this.adapter.layoutManager.spacing>t.size[this.adapter.crossAxis]},i._onLayoutComplated=function(e){if(-1!=e.indexOf(this.index)){for(var t=0;t<this.holderList.length;t++){this.holderList[t].internal_layout()}this.group.isFixed&&this._calcFixedPosition()}},i._calcFixedPosition=function(){for(var e=this._holderList.length,t=this.adapter.mainAxis,i=0;i<e;i++){var r=this._holderList[i];if(r.element.fixed){var a={x:r.model.position.x,y:r.model.position.y},s=0,n=this._getModelBoundary(r.model);if(this._isNeedFixed(n)){a[t]-=n;var o=this.adapter.viewManager.getNextFixedHolders(this.index);s=this._getRelativeNextHolderOffset(r,o)}a[t]+=s*this.adapter.multiplier,a[t]!=r.node.position[t]&&r.node.setPosition(a.x,a.y)}}},i._onChangedLayoutState=function(){this.adapter.layoutManager.layout(this.group)},i._onScroll=function(){this.group.isFixed&&0!=this._holderList.length&&this._calcFixedPosition()},i._onLateUpdate=function(e){},i._isNeedFixed=function(e){return 1==this.adapter.multiplier?e>=0:e<=0},i._getModelBoundary=function(e){var t=n.isNumber(e.element.fixedOffset)?e.element.fixedOffset:0;return 1==this.adapter.multiplier?this._getModelHeaderBoundary(e)+t:this._getModelFooterBoundary(e)-t},i._getModelHeaderBoundary=function(e){var t=this.adapter.mainAxis;return e.position[t]+e.size[t]*(1-e.anchorPoint[t])*e.scale[t]+this.adapter.scrollManager.contentPosition},i._getModelFooterBoundary=function(e){var t=this.adapter.mainAxis;return e.position[t]-e.size[t]*e.anchorPoint[t]*e.scale[t]+this.adapter.scrollManager.contentPosition},i._getModelSizeWithSpacing=function(e){var t=this.adapter.mainAxis,i=n.isNumber(e.element.fixedOffset)?e.element.fixedOffset:0,r=n.isNumber(e.element.fixedSpacing)?e.element.fixedSpacing:this.adapter.viewManager.spacing;return e.size[t]*e.scale[t]+i+r},i._getReatureRelativeBoundary=function(e,t){var i=1==this.adapter.multiplier?this._getModelHeaderBoundary(e):this._getModelFooterBoundary(e),r=1==this.adapter.multiplier?i+t:t-i;return Math.min(r,t)},i._getRelativeNextHolderOffset=function(e,t){for(var i=t.length,r=this.adapter.crossAxis,a=this._getModelSizeWithSpacing(e.model),s=0,n=0;n<i;n++){var o=t[n],h=this._getReatureRelativeBoundary(o.model,a),l=e.model.scale[r]==o.model.scale[r],d=e.model.size[r]==o.model.size[r];if(e.fixedIndex==o.fixedIndex&&l&&d){s=h>0?h:0;break}h>0&&(s=Math.max(s,h))}return s},t(e,[{key:"isOverflowFixed",get:function(){return this._isOverflowFixed}},{key:"adapter",get:function(){return this._adapter}},{key:"group",get:function(){return this._group}},{key:"holderList",get:function(){return this._holderList}},{key:"index",get:function(){return this.group?this.group.index:-1}}]),e}())||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/ViewManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Group.ts","./Manager.ts","./View.ts","./enum.ts","./helper.ts","./ModelManager.ts","./ScrollManager.ts"],(function(i){var e,t,r,a,s,n,o,l,h,d,u,p,c,_,g,f,v,x;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,a=i.assertThisInitialized,s=i.createClass},function(i){n=i.cclegacy,o=i._decorator,l=i.instantiate},function(i){h=i.Group},function(i){d=i.Manager},function(i){u=i.View},function(i){p=i.ArrangeAxis,c=i.StretchDirection,_=i.MagneticDirection,g=i.ScrollDirection},function(i){f=i.Helper},function(i){v=i.ModelManager},function(i){x=i.ScrollManager}],execute:function(){var b,m,w,A,V,H,z,S,y,F,I,E,M,O,P,D,T,N,G,L,C,R,k,B,U,W,Z,j,J,K,Q,q,X,Y,$;n._RF.push({},"75a4e89x4JBQKU43Hw0IZnG","ViewManager",void 0);var ii=o.ccclass,ei=o.property,ti=function(i){return i[i.ON_SCROLL=0]="ON_SCROLL",i[i.ON_LATEUPDATE=1]="ON_LATEUPDATE",i[i.ON_CLEARVIEWS=2]="ON_CLEARVIEWS",i[i.ON_UPDATE_VIEWS=3]="ON_UPDATE_VIEWS",i[i.ON_CHANGED_VIRTUALSIZE=4]="ON_CHANGED_VIRTUALSIZE",i[i.ON_MAGNETIC=5]="ON_MAGNETIC",i[i.ON_CHANGED_OVERFLOWHEADER=6]="ON_CHANGED_OVERFLOWHEADER",i[i.ON_RESET_ALL_STATE=7]="ON_RESET_ALL_STATE",i[i.ON_CHANGED_SPACING=8]="ON_CHANGED_SPACING",i}(ti||{});i("ViewManager",(b=ii("ViewManager"),m=ei({type:p}),w=ei({type:p,tooltip:"主轴方向的排列方式\n        Start: 从上到下、从左到右\n        End: 从下到上、从右到左"}),A=ei({type:c,tooltip:"当元素的尺寸、缩放改变时，受影响的其他元素应该如何计算新的位置\n        Auto: 以可视区域中心为起点，所有其他元素向两边延伸\n        Center: 以当前变化的元素为起点，所有其他元素向两边延伸\n        Header: 以当前变化的元素和它头部的所有元素向头部延伸\n        Footer: 以当前变化的元素和它尾部的所有元素向尾部延伸"}),V=ei({range:[0,1],slide:!0,step:.01,tooltip:"当元素移动到可视区域外偏移多少时才进行回收\n        比如元素的尺寸为100，当元素超出可视范围 100+100*0.3 时就会被回收\n        没有特殊需求时，默认值即可"}),H=ei({range:[0,1],slide:!0,step:.01,tooltip:"此值会影响填充元素的时机\n        没有特殊需求时，默认值即可"}),z=ei({tooltip:"主轴方向元素的间隙"}),S=ei({group:{id:"padding",name:"padding"}}),y=ei({group:{id:"padding",name:"padding"}}),F=ei({group:{id:"padding",name:"padding"}}),I=ei({group:{id:"padding",name:"padding"}}),E=ei({tooltip:"磁性停靠\n        开启后，会在增加数据时，根据设置进行自动滚动到顶部或底部"}),M=ei({type:_,visible:function(){return this.magnetic},tooltip:"停靠的方向"}),O=ei({visible:function(){return this.magnetic},tooltip:"停靠动画的时长"}),P=ei({visible:function(){return this.magnetic},tooltip:"默认情况下，仅当添加数据时才会触发停靠\n        当开启时，元素的尺寸改变时,也会否触发停靠"}),D=ei({tooltip:"头部循环"}),T=ei({tooltip:"尾部循环"}),b((($=function(i){function e(){for(var e,t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e=i.call.apply(i,[this].concat(s))||this,r(e,"_arrangeAxis",L,a(e)),r(e,"stretchDirection",C,a(e)),r(e,"overflowOffset",R,a(e)),r(e,"enterOffset",k,a(e)),r(e,"_spacing",B,a(e)),r(e,"left",U,a(e)),r(e,"right",W,a(e)),r(e,"top",Z,a(e)),r(e,"bottom",j,a(e)),r(e,"magnetic",J,a(e)),r(e,"magneticDirection",K,a(e)),r(e,"magneticDuration",Q,a(e)),r(e,"magneticSizeChanges",q,a(e)),r(e,"loopHeader",X,a(e)),r(e,"loopFooter",Y,a(e)),e._groupLength=0,e._cacheGroups=[],e._groups=[],e._disableViews=[],e._visibleViews=[],e._fixedViews=[],e._disableHolders=[],e._isFill=!1,e._headerIndex=-1,e._footerIndex=-1,e._virtualSize=0,e._overflowHeader=0,e._cacheHeadeDatas=[],e._cacheHeadePosition=void 0,e}t(e,i);var n=e.prototype;return n.onInit=function(){this.adapter.modelManager.on(v.Event.ON_CHANGE_BEFORE,this._onModelChangeBefore,this),this.adapter.modelManager.on(v.Event.ON_INSERT,this._updateGroups,this),this.adapter.modelManager.on(v.Event.ON_REMOVE,this._updateGroups,this),this.adapter.modelManager.on(v.Event.ON_MOVE,this._updateGroups,this),this.adapter.modelManager.on(v.Event.ON_CLEAR,this._onClearModel,this),this.adapter.scrollManager.on(x.Event.ON_SCROLL,this._onScroll,this),this.adapter.scrollManager.on(x.Event.ON_VIEW_SIZE_CHANGED,this._resetAllState,this),this.adapter.scrollManager.on(x.Event.ON_CHANGED_ORIENTATION,this._resetAllState,this)},n._clearAll=function(){for(var i,e=0,t=this._visibleViews.length;e<t;e++)this._recycleViewToDisableViews(this._visibleViews[e]);(i=this._cacheGroups).push.apply(i,this._groups),this._clearFixedViews(),this._visibleViews.length=0,this._groups.length=0,this.virtualSize=0,this.overflowHeader=0},n._onClearModel=function(){this._clearAll(),this.emit(ti.ON_CLEARVIEWS)},n._resetAllState=function(){this._clearAll(),this.internal_updateVisibleView(0),this.emit(ti.ON_RESET_ALL_STATE)},n._onModelChangeBefore=function(){if(this.header&&this.virtualSize>this.adapter.mainAxisSize){var i=this.getVisibleIndexByGroupIndex(0);if(-1!=i){var e=this._visibleViews[i];this._cacheHeadeDatas=e.group.models.map((function(i){return i.data})),this._cacheHeadePosition={x:e.group.position.x,y:e.group.position.y}}else this._cacheHeadeDatas=this.header.group.models.map((function(i){return i.data})),this._cacheHeadePosition={x:this.header.group.position.x,y:this.header.group.position.y}}},n._updateGroups=function(i){var e,t=this,r=this._getViewFromDisibleViews(null),a=this.getGroupIndexByModelIndex(i);-1==a&&(a=this._groupLength-1);var s=null,n=!1,o={modelIndex:i,fixedIndex:-1},l=this._groups[a-1];for(l&&(o.fixedIndex=l.fixedIndex);;){(s=this._groups[a])||((s=this._getGroupFromCache()).internal_setIndex(this._groups.length),this._groups.push(s),a=this._groups.length);var h=s.internal_insert(o,r,n);if(a++,n=!0,!h)break}var d=this._groups.splice(a,this._groups.length);(e=this._cacheGroups).push.apply(e,d),this._groupLength=this._groups.length;var u=-1,p=0;this._cacheHeadeDatas.length>0&&(u=this._groups.findIndex((function(i){return i.internal_includes(t._cacheHeadeDatas)})));var c=this._groups[u];c&&(p+=c.size[this.adapter.mainAxis]+this.spacing,c.internal_setPosition(this._cacheHeadePosition[this.adapter.mainAxis]));for(var g=u-1;g>=0;g--){var f=this._groups[g];this._calcMainAxisPosition(f,c,_.Header),p+=f.size[this.adapter.mainAxis]+this.spacing,c=f}c=this._groups[u];for(var v=u+1;v<this.groupLength;v++){f=this._groups[v];this._calcMainAxisPosition(f,c,_.Footer),p+=f.size[this.adapter.mainAxis]+this.spacing,c=f}p-=this.spacing,this._virtualSize=Math.max(0,p),this._resetOverflowHeader(this._groups[0]),r.internal_reset(),this._disableViews.push(r),this.updateVisibles(u),this._cacheHeadeDatas=[],this._cacheHeadePosition=null},n.updateVisibles=function(i){var e=[];i=Math.max(0,i);for(var t=function(i){var t=e.findIndex((function(e){return e.oldData==i.data}));return-1!=t?e.splice(t,1)[0]:null},r=0;r<this._visibleViews.length;r++){var a=this._visibleViews[r];e=e.concat(a.holderList),a.internal_reset()}for(var s=this.adapter.mainAxisSize,n=0,o=this.visibleLength,l=i,h=this._groups.length;l<h;l++){var d=this._groups[l];if(this.getVisibleMainAxisSize()>=s&&o<=0)break;(p=this._visibleViews[n++])||(p=this._getViewFromDisibleViews(d.index),this._visibleViews.push(p)),p.internal_preVisible(d,t),o--}for(var u=this._visibleViews.length-1;u>=0;u--){var p;if((p=this._visibleViews[u]).holderList.length>0)break;this._disableFromVisibleViews(u)}for(var c=0,_=e.length;c<_;c++){var g=e[c];g.internal_disable(),this._disableHolders.push(g)}for(var f=0;f<this.visibleLength;f++)this._visibleViews[f].internal_visible();this._forceFill(),this._calcMagnetic(),this.emit(ti.ON_UPDATE_VIEWS)},n._getGroupFromCache=function(){var i=this._cacheGroups.pop();return i||(i=new h(this.adapter)),i.internal_reset(),i},n._calcMagnetic=function(){if(this.magnetic&&this.header){var i=!1;0==this.adapter.scrollManager.velocity&&(this.magneticDirection==_.Footer?this.footer.index==this._groupLength-1&&(this.adapter.scrollManager.scrollToFooter(this.magneticDuration),i=!0):0==this.header.index&&(this.adapter.scrollManager.scrollToHeader(this.magneticDuration),i=!0)),this.emit(ti.ON_MAGNETIC,i)}},n._calcMainAxisPosition=function(i,e,t){if(i)if(e){var r,a,s=this.adapter.mainAxis,n=this.adapter.multiplier,o=t==_.Footer?1:-1;t==_.Footer?(r=1==n?e.anchorPoint[s]:1-e.anchorPoint[s],a=1==n?1-i.anchorPoint[s]:i.anchorPoint[s]):(r=1==n?1-e.anchorPoint[s]:e.anchorPoint[s],a=1==n?i.anchorPoint[s]:1-i.anchorPoint[s]);var l=e.position[s];l-=e.size[s]*r*o*n,l-=this.spacing*n*o,l-=i.size[s]*a*o*n,i.internal_setPosition(l)}else i.internal_setPosition(this._getMainAxisHeaderPosition(i))},n._getMainAxisHeaderPosition=function(i){var e=0,t=0;return this.adapter.isVertical?(e=this.adapter.isArrangeAxisStart?-this.top:this.bottom,t=this.adapter.isArrangeAxisStart?1-i.anchorPoint[this.adapter.mainAxis]:i.anchorPoint[this.adapter.mainAxis]):(e=this.adapter.isArrangeAxisStart?this.left:-this.right,t=this.adapter.isArrangeAxisStart?i.anchorPoint[this.adapter.mainAxis]:1-i.anchorPoint[this.adapter.mainAxis]),e-=t*i.size[this.adapter.mainAxis]*this.adapter.multiplier},n._getViewFromDisibleViews=function(i){var e=null;if(null!=i){var t=this._fixedViews.findIndex((function(e){return e.index==i}));if(-1!=t){var r=this._fixedViews.splice(t,1)[0];this._recycleViewToDisableViews(r)}}return e||(e=this._disableViews.pop()),e||(e=this.adapter.getView()),e},n._getHolderFromDisableHolders=function(i){var e=this._disableHolders.findIndex((function(e){return e.code==i.code}));if(-1!=e)return this._disableHolders.splice(e,1)[0]},n._disableFromVisibleViews=function(i){var e=-1;e=i instanceof u?this._visibleViews.findIndex((function(e){return e.index==i.index})):i,this._recycleViewToDisableViews(this._visibleViews[e]),this._visibleViews.splice(e,1)},n._recycleViewToDisableViews=function(i){var e=this;i&&(i.internal_recycleHolders((function(i){return e._disableHolders.push(i)})),i.internal_disable(),this._disableViews.push(i))},n._clearFixedViews=function(){for(var i=0,e=this._fixedViews.length;i<e;i++){var t=this._fixedViews[i];this._recycleViewToDisableViews(t)}this._fixedViews.length=0},n._checkHeaderInvisible=function(){this.header&&(this.loopFooter||this.footer.index!=this.groupLength-1)&&this._isOverflowHeader(this.header.group)&&(this._disableFromVisibleViews(0),this._checkHeaderInvisible())},n._checkFooterInvisible=function(){this.footer&&(this.loopHeader||0!=this.header.index)&&this._isOverflowFooter(this.footer.group)&&(this._disableFromVisibleViews(this._visibleViews.length-1),this._checkFooterInvisible())},n._isOverflowHeader=function(i,e){void 0===e&&(e=this.overflowOffset);var t=this.internal_getGroupFooterBoundary(i);return e*=i.size[this.adapter.mainAxis],1==this.adapter.multiplier?t>=e:t<=-e},n._isOverflowFooter=function(i,e){void 0===e&&(e=this.overflowOffset);var t=this.internal_getGroupHeaderBoundary(i);return e*=i.size[this.adapter.mainAxis],1==this.adapter.multiplier?t+this.adapter.mainAxisSize<=-e:t-this.adapter.mainAxisSize>=e},n._isEnterFooter=function(i){if(!i)return!1;var e=this.internal_getGroupFooterBoundary(i),t=this.enterOffset*i.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e+this.adapter.mainAxisSize+t>=0:e-this.adapter.mainAxisSize-t<=0},n._isEnterHeader=function(i){if(!i)return!1;var e=this.internal_getGroupHeaderBoundary(i),t=this.overflowOffset*i.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e-t<=0:e+t>=0},n._fillHeader=function(){var i=this._groups[this._headerIndex];if(this._isEnterHeader(i)){var e=this._accumTargetSizeTowardsHeader(i.index,this.internal_getInitHeaderSize(i)),t=e.index,r=e.size,a=this._groups[t];if(a&&-1==this.getVisibleIndexByGroupIndex(t)){var s=this.internal_convertSizeToHeaderPosition(r,a);a.internal_setPosition(s);var n=this._getViewFromDisibleViews(a.index);this._visibleViews.unshift(n),n.internal_preVisible(a).internal_visible(),0==n.index&&this._resetOverflowHeader(n.group),this._headerIndex=a.index,this._fillHeader()}}},n._fillFooter=function(){var i=this._groups[this._footerIndex];if(this._isEnterFooter(i)){var e=this._accumTargetSizeTowardsFooter(i.index,this.internal_getInitFooterSize(i)),t=e.index,r=e.size,a=this._groups[t];if(a&&-1==this.getVisibleIndexByGroupIndex(t)){var s=this.internal_convertSizeToFooterPosition(r,a);a.internal_setPosition(s);var n=this._getViewFromDisibleViews(a.index);this._visibleViews.push(n),n.internal_preVisible(a).internal_visible(),0==n.index&&this._resetOverflowHeader(n.group),this._footerIndex=a.index,this._fillFooter()}}},n._fillFixedView=function(){if(this.header&&(-1!=this.header.group.fixedIndex||this.header.group.isFixed))for(var i=this.header.index,e=this.adapter.mainAxis,t=this.internal_getInitHeaderSize(this.header.group),r=i-1;r>=0;r--){var a=this._groups[r];if(!a)return void console.error("_fillFixedView错误 找不到group",r);if(t+=a.size[e]+this.spacing,a.isFixed){var s=this.internal_convertSizeToHeaderPosition(t,a);if(-1!=this._fixedViews.findIndex((function(i){return i.index==a.index}))){f.approximately(s,a.position[e])||(a.internal_setPosition(s),this.adapter.layoutManager.layout(a));break}this._clearFixedViews();s=this.internal_convertSizeToHeaderPosition(t,a);a.internal_setPosition(s);var n=this._getViewFromDisibleViews(a.index);n.internal_preVisible(a).internal_visible(),this._fixedViews.push(n);break}}},n._accumTargetSizeTowardsHeader=function(i,e){for(var t=this._groups.length;;){if(0==i&&this.loopHeader&&(i=t),0==i)return{index:i,size:e};if(i--,!this._groups[i])return{index:i,size:e};if((e+=this.internal_accumulationSize(i))>=0)return{index:i,size:e}}},n._accumTargetSizeTowardsFooter=function(i,e){for(var t=this._groups.length;;){if(i==t-1&&this.loopFooter&&(i=-1),i==t-1)return{index:i,size:e};if(i++,!this._groups[i])return{index:i,size:e};if((e+=this.internal_accumulationSize(i))>=0)return{index:i,size:e}}},n._fillFooterHandle=function(){this._checkHeaderInvisible(),this._fillFooter()},n._fillHeaderHandle=function(){this._checkFooterInvisible(),this._fillHeader()},n._forceFill=function(){this._updateHeaderFooterIndex(),this._fillHeaderHandle(),this._fillFooterHandle()},n._updateHeaderFooterIndex=function(){this._headerIndex=this.header?this.header.index:0,this._footerIndex=this.footer?this.footer.index:0},n._onScroll=function(i){if(0!=this._groups.length){switch(this._updateHeaderFooterIndex(),i){case g.Up:case g.Left:this.adapter.isArrangeAxisStart?this._fillFooterHandle():this._fillHeaderHandle();break;case g.Down:case g.Right:this.adapter.isArrangeAxisStart?this._fillHeaderHandle():this._fillFooterHandle()}this._fillFixedView(),this.emit(ti.ON_SCROLL)}},n._stretchToHeader=function(i,e){for(var t=this._visibleViews[i],r=e;r>=0;r--){var a=this._visibleViews[r];t?(this._calcMainAxisPosition(a.group,t.group,_.Header),this.adapter.layoutManager.layout(a.group)):this.getVisibleMainAxisSize()<this.adapter.mainAxisSize&&this._calcMainAxisPosition(a.group,null,_.Header),t=a}},n._stretchToFooter=function(i,e){for(var t=this._visibleViews[i],r=e;r<this._visibleViews.length;r++){var a=this._visibleViews[r];t?(this._calcMainAxisPosition(a.group,t.group,_.Footer),this.adapter.layoutManager.layout(a.group)):this.getVisibleMainAxisSize()<this.adapter.mainAxisSize&&this._calcMainAxisPosition(a.group,null,_.Footer),t=a}},n._resetOverflowHeader=function(i){if(!i)return this.overflowHeader=0;var e=this.adapter.mainAxis,t=i.anchorPoint[e];t=1==this.adapter.multiplier?1-t:t;var r=i.position[e];r+=i.size[e]*t*this.adapter.multiplier,this.overflowHeader=r},n._calcOverflowHeader=function(i,e,t){var r=this.getVisibleIndexByGroupIndex(0);if(-1!=r){var a=this._visibleViews[r];return this._resetOverflowHeader(a.group)}var s=this.adapter.mainAxis,n=i.anchorPoint[s];n=1==this.adapter.multiplier?1-n:n;var o=i.oldSize[s],l=i.size[s],h=this.adapter.multiplier;switch(this.stretchDirection){case c.Header:var d=i.oldPosition[s]+o*n*h;(u=1==h?this.overflowHeader>=d:this.overflowHeader<=d)&&(this.overflowHeader+=(l-o)*h);break;case c.Footer:d=i.oldPosition[s]+o*n*h;(u=1==h?this.overflowHeader>=d:this.overflowHeader<=d)||(this.overflowHeader-=(l-o)*h);break;case c.Center:d=i.oldPosition[s]+o*n*h;(u=1==h?this.overflowHeader>=d:this.overflowHeader<=d)?this.overflowHeader+=.5*(l-o)*h:this.overflowHeader-=.5*(l-o)*h;break;case c.Auto:d=i.oldPosition[s]+o*n*h;var u=1==h?this.overflowHeader>=d:this.overflowHeader<=d;e<=t&&(d=i.oldPosition[s]+o*n*h,u=-1==h?this.overflowHeader>=d:this.overflowHeader<=d),u&&(e<=t?this.overflowHeader-=(l-o)*h:this.overflowHeader+=(l-o)*h)}},n.internal_lateUpdate=function(i){this._isFill&&(this._isFill=!1,this._forceFill()),this.emit(ti.ON_LATEUPDATE,i)},n.internal_viewChanged=function(i,e){var t=i.group.size[this.adapter.mainAxis]-e;this.virtualSize+=t;var r=this.getVisibleIndexByGroupIndex(i.index),a=-1;if(this.getVisibleMainAxisSize()<this.adapter.mainAxisSize||this.stretchDirection==c.Footer){var s=r-1;this._visibleViews[s]||this.adapter.layoutManager.layout(i.group),this._stretchToFooter(s,r)}else if(this.stretchDirection==c.Header){var n=r+1;this._visibleViews[n]||this.adapter.layoutManager.layout(i.group),this._stretchToHeader(n,r)}else if(this.stretchDirection==c.Center)this.adapter.layoutManager.layout(i.group),this._stretchToHeader(r,r-1),this._stretchToFooter(r,r+1);else{if(-1==(a=this.adapter.centerManager.getCenterVisibleIndex()))throw Error("找不到中心索引"+i.index);var o=this._visibleViews[a];this.adapter.layoutManager.layout(o.group),this._stretchToHeader(a,a-1),this._stretchToFooter(a,a+1)}this._calcOverflowHeader(i.group,a,r),this.magneticSizeChanges&&this._calcMagnetic(),this._isFill=!0,this.emit(ti.ON_CHANGED_VIRTUALSIZE)},n.internal_getHolder=function(i){var e=this._getHolderFromDisableHolders(i);if(!e){var t=this.adapter.getPrefab(i.data),r=l(t);e=this.adapter.getHolder(r,i.code)}return e.node.parent=this.adapter.scrollManager.getLayerNode(i.element.layer),e},n.internal_updateVisibleView=function(i){this._onModelChangeBefore(),this._updateGroups(i)},n.internal_getGroupFooterBoundary=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var t=i.position[this.adapter.mainAxis];return t-=i.size[this.adapter.mainAxis]*e*this.adapter.multiplier,t+=this.adapter.scrollManager.contentPosition},n.internal_getGroupHeaderBoundary=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];return e=1==this.adapter.multiplier?1-e:e,i.position[this.adapter.mainAxis]+this.adapter.scrollManager.contentPosition+e*i.size[this.adapter.mainAxis]*this.adapter.multiplier},n.internal_getInitHeaderSize=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?1-e:e;var t=-i.position[this.adapter.mainAxis]*this.adapter.multiplier;return t-=i.size[this.adapter.mainAxis]*e,t-=this.adapter.scrollManager.contentPosition*this.adapter.multiplier,t=this.adapter.mainAxisSize-t},n.internal_getInitFooterSize=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var t=-i.position[this.adapter.mainAxis]*this.adapter.multiplier;return t+=i.size[this.adapter.mainAxis]*e,t-=this.adapter.scrollManager.contentPosition*this.adapter.multiplier},n.internal_accumulationSize=function(i){var e=this._groups[i];return e?e.size[this.adapter.mainAxis]+this.spacing:0},n.internal_convertSizeToFooterPosition=function(i,e){var t=e.anchorPoint[this.adapter.mainAxis];t=1==this.adapter.multiplier?t:1-t;var r=e.size[this.adapter.mainAxis]*t,a=-this.adapter.scrollManager.contentPosition;return a-=this.adapter.multiplier*i-this.adapter.multiplier*r},n.internal_convertSizeToHeaderPosition=function(i,e){var t=e.anchorPoint[this.adapter.mainAxis];t=1==this.adapter.multiplier?1-t:t;var r=e.size[this.adapter.mainAxis]*t,a=this.adapter.multiplier*i-this.adapter.multiplier*r;return a-=this.adapter.multiplier*this.adapter.mainAxisSize,a-=this.adapter.scrollManager.contentPosition},n.getGroup=function(i){return this._groups[i]},n.getVisibleView=function(i){return this._visibleViews[i]},n.getVisibleMainAxisSize=function(){if(0==this._visibleViews.length)return 0;for(var i=0,e=this.adapter.mainAxis,t=0,r=this._visibleViews.length;t<r;t++){var a=this._visibleViews[t];a.group&&(i+=a.group.size[e]+this.spacing)}return i-=this.spacing},n.getGroupIndexByModelIndex=function(i){for(var e=0,t=this._groups.length;e<t;e++){if(-1!=this._groups[e].findModelIndex(i))return e}return-1},n.getVisibleIndexByGroupIndex=function(i){return this._visibleViews.findIndex((function(e){return e.index==i}))},n.getNextFixedHolders=function(i){for(var e=[],t=this.getVisibleIndexByGroupIndex(i)+1,r=this._visibleViews.length;t<r;t++){var a=this._visibleViews[t];if(a.index!=i&&a.group.isFixed){e=a.getFixedHolders();break}}return e},n.getMagneticOffset=function(){if(!this.magnetic)return 0;var i=this.adapter.isHorizontal?-this.adapter.multiplier:this.adapter.multiplier;return this.magneticDirection==_.Footer?this.footer?Math.max(0,this.adapter.mainAxisSize-this.adapter.mainAxisPadding-this.getVisibleMainAxisSize())*i:this.adapter.mainAxisSize*i:0},s(e,[{key:"arrangeAxis",get:function(){return this._arrangeAxis},set:function(i){i!=this._arrangeAxis&&(this._arrangeAxis=i,this._resetAllState())}},{key:"spacing",get:function(){return this._spacing},set:function(i){i!=this._spacing&&(this._spacing=i,this._resetAllState())}},{key:"header",get:function(){return this._visibleViews[0]}},{key:"footer",get:function(){return this._visibleViews[this._visibleViews.length-1]}},{key:"overflowHeader",get:function(){return this._overflowHeader},set:function(i){i!=this._overflowHeader&&(this._overflowHeader=i,this.emit(ti.ON_CHANGED_OVERFLOWHEADER,i))}},{key:"virtualSize",get:function(){return this._virtualSize},set:function(i){i!=this._virtualSize&&(this._virtualSize=i,this.emit(ti.ON_CHANGED_VIRTUALSIZE))}},{key:"groupLength",get:function(){return this._groupLength}},{key:"visibleLength",get:function(){return this._visibleViews.length}},{key:"min",get:function(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getGroupFooterBoundary(this.footer.group):this.internal_getGroupHeaderBoundary(this.header.group):0}},{key:"max",get:function(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getGroupHeaderBoundary(this.header.group):this.internal_getGroupFooterBoundary(this.footer.group):0}}]),e}(d)).Event=ti,L=e((G=$).prototype,"_arrangeAxis",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.Start}}),e(G.prototype,"arrangeAxis",[w],Object.getOwnPropertyDescriptor(G.prototype,"arrangeAxis"),G.prototype),C=e(G.prototype,"stretchDirection",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.Auto}}),R=e(G.prototype,"overflowOffset",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),k=e(G.prototype,"enterOffset",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=e(G.prototype,"_spacing",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(G.prototype,"spacing",[z],Object.getOwnPropertyDescriptor(G.prototype,"spacing"),G.prototype),U=e(G.prototype,"left",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=e(G.prototype,"right",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=e(G.prototype,"top",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=e(G.prototype,"bottom",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=e(G.prototype,"magnetic",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=e(G.prototype,"magneticDirection",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.Header}}),Q=e(G.prototype,"magneticDuration",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),q=e(G.prototype,"magneticSizeChanges",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=e(G.prototype,"loopHeader",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=e(G.prototype,"loopFooter",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=G))||N));n._RF.pop()}}}));

System.register("chunks:///_virtual/WeekTaskItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TaskMgr.ts"],(function(t){var i,e,n,a,o,s,r,l,u,c,h,d,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.Sprite,l=t.Label,u=t.Button,c=t.UITransform,h=t.Color,d=t.Component},function(t){p=t.TaskMgr}],execute:function(){var m,g,b,B,f,C,k,v,w,y,L,S,T,I,P,R,x,F,z,U,W;o._RF.push({},"a1b2cPU5fZ4kKvN7xI0VniQ","WeekTaskItem",void 0);var M=s.ccclass,D=s.property;t("WeekTaskItem",(m=M("WeekTaskItem"),g=D(r),b=D(l),B=D(l),f=D(r),C=D(r),k=D(l),v=D(u),w=D(l),y=D(u),m((T=i((S=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"coinSprite",T,a(i)),n(i,"rewardLabel",I,a(i)),n(i,"descLabel",P,a(i)),n(i,"progressBg",R,a(i)),n(i,"progressFill",x,a(i)),n(i,"progressText",F,a(i)),n(i,"claimButton",z,a(i)),n(i,"buttonLabel",U,a(i)),n(i,"claimedButton",W,a(i)),i.taskStatus=null,i.clickCallback=null,i.progressFillMaxWidth=0,i}e(i,t);var o=i.prototype;return o.onLoad=function(){var t=this.node.getChildByPath("Row1Coin");t&&(this.coinSprite=t.getComponent(r));var i=this.node.getChildByPath("Row1Reward");i&&(this.rewardLabel=i.getComponent(l));var e=this.node.getChildByPath("Row1Desc");e&&(this.descLabel=e.getComponent(l));var n=this.node.getChildByPath("Row1ProgressBg");n&&(this.progressBg=n.getComponent(r));var a=this.node.getChildByPath("Row1ProgressFill");if(a){this.progressFill=a.getComponent(r);var o=a.getComponent(c);o&&(this.progressFillMaxWidth=o.width)}var s=this.node.getChildByPath("Row1ProgressText");s&&(this.progressText=s.getComponent(l));var h=this.node.getChildByPath("Row1Button-001");if(h){this.claimButton=h.getComponent(u);var d=h.getChildByPath("Row1ButtonLabel");d&&(this.buttonLabel=d.getComponent(l))}var p=this.node.getChildByPath("Row1Button");p&&(this.claimedButton=p.getComponent(u)),this.claimButton&&this.claimButton.node.on(u.EventType.CLICK,this.onClaimButtonClick,this)},o.onDestroy=function(){if(this.claimButton&&this.claimButton.node)try{this.claimButton.node.off(u.EventType.CLICK,this.onClaimButtonClick,this)}catch(t){}this.taskStatus=null,this.clickCallback=null},o.InitWithData=function(t,i){this.taskStatus=t,this.clickCallback=i,this.UpdateUI()},o.UpdateUI=function(){if(this.taskStatus){var t,i=this.taskStatus,e=i.config,n=i.progress,a=i.isCompleted,o=i.isClaimed;if(this.descLabel&&(this.descLabel.string=e.TaskDesc||""),this.rewardLabel)this.rewardLabel.string=(null==(t=e.CoinNum)?void 0:t.toString())||"0";this.updateProgress(n,e.Param),this.updateButtonState(a,o)}},o.updateProgress=function(t,i){if(this.progressText&&(this.progressText.string=t+"/"+i),this.progressFill){var e=Math.min(Math.max(t/i,0),1),n=this.progressFill.getComponent(c);if(n)if(this.progressFillMaxWidth>0)n.width=this.progressFillMaxWidth*e;else if(this.progressBg){var a=this.progressBg.getComponent(c);a&&(n.width=a.width*e)}}},o.updateButtonState=function(t,i){if(i)this.claimButton&&(this.claimButton.node.active=!1),this.claimedButton&&(this.claimedButton.node.active=!0);else if(t){if(this.claimButton){this.claimButton.node.active=!0,this.claimButton.interactable=!0,this.claimButton.transition===u.Transition.COLOR&&(this.claimButton.normalColor=new h(255,255,200,255));var e=this.claimButton.node.getComponent(r);e&&(e.color=new h(255,255,200,255));var n=this.claimButton.node.getChildByName("Background");if(n){var a=n.getComponent(r);a&&(a.color=new h(255,255,200,255))}}this.claimedButton&&(this.claimedButton.node.active=!1),this.buttonLabel&&(this.buttonLabel.string="Receber")}else{if(this.claimButton){this.claimButton.node.active=!0,this.claimButton.interactable=!1,this.claimButton.transition===u.Transition.COLOR&&(this.claimButton.normalColor=new h(255,255,255,255));var o=this.claimButton.node.getComponent(r);o&&(o.color=new h(255,255,255,255));var s=this.claimButton.node.getChildByName("Background");if(s){var l=s.getComponent(r);l&&(l.color=new h(255,255,255,255))}}this.claimedButton&&(this.claimedButton.node.active=!1),this.buttonLabel&&(this.buttonLabel.string="Receber")}},o.onClaimButtonClick=function(){this.taskStatus&&this.claimButton.interactable&&(this.taskStatus.isCompleted&&!this.taskStatus.isClaimed&&p.Instance.ClaimTaskReward(this.taskStatus.taskId)&&(this.taskStatus.isClaimed=!0,this.UpdateUI(),this.clickCallback&&this.clickCallback(this.taskStatus)))},o.GetTaskStatus=function(){return this.taskStatus},o.RefreshTaskData=function(){var t=this;if(this.taskStatus){var i=p.Instance.GetWeeklyTasks().find((function(i){return i.taskId===t.taskStatus.taskId}));i&&(this.taskStatus=i,this.UpdateUI())}},i}(d)).prototype,"coinSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(S.prototype,"rewardLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(S.prototype,"descLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(S.prototype,"progressBg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(S.prototype,"progressFill",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(S.prototype,"progressText",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(S.prototype,"claimButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(S.prototype,"buttonLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(S.prototype,"claimedButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=S))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/WeekTaskPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./BaseButton.ts","./TaskMgr.ts","./WeekTaskItem.ts","./ResMgr.ts","./UIMgr.ts"],(function(e){var t,n,i,a,o,s,l,r,m,d,h,c,u,f,C;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,a=e.ScrollView,o=e.Layout,s=e.UITransform,l=e.Prefab,r=e.instantiate},function(e){m=e.BaseUI},function(e){d=e.BaseButton},function(e){h=e.TaskMgr,c=e.TaskSubType},function(e){u=e.WeekTaskItem},function(e){f=e.ResMgr},function(e){C=e.UIMgr}],execute:function(){var k,T;n._RF.push({},"55d88uvFMZKjYrEYEJrUrMm","WeekTaskPanel",void 0);var g=i.ccclass,B=function(e){return e[e.Unclaimed=0]="Unclaimed",e[e.Claimed=1]="Claimed",e}(B||{});e("WeekTaskPanel",g("WeekTaskPanel")(((T=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).mNoRewardBtnSelect=null,t.mNoRewardBtnNoSelect=null,t.mRewardedBtnSelect=null,t.mRewardedBtnNoSelect=null,t.mCloseBtn=null,t.mContentNode=null,t.mScrollView=null,t.mContentLayout=null,t.mViewTransform=null,t.mOnlineTimeUpdateStarted=!1,t.mCurrentTab=B.Unclaimed,t.mWeekTaskItemPrefab=null,t.mIsLoadingItemPrefab=!1,t.mPendingPrefabCallbacks=[],t.mIsRefreshing=!1,t}t(n,e);var i=n.prototype;return i.InitParam=function(){var e,t,n,i,l,r,m,h,c;this.mNoRewardBtnSelect=null==(e=this.node.getChildByPath("Panel/NoRewardBtnSelect"))?void 0:e.getComponent(d),this.mNoRewardBtnNoSelect=null==(t=this.node.getChildByPath("Panel/NoRewardBtnNoSelect"))?void 0:t.getComponent(d),this.mRewardedBtnSelect=null==(n=this.node.getChildByPath("Panel/RewardedBtnSelect"))?void 0:n.getComponent(d),this.mRewardedBtnNoSelect=null==(i=this.node.getChildByPath("Panel/RewardedBtnNoSelect"))?void 0:i.getComponent(d),this.mCloseBtn=null==(l=this.node.getChildByPath("CloseButton"))?void 0:l.getComponent(d);var u=this.node.getChildByPath("Panel/ScrollView");this.mScrollView=null==u?void 0:u.getComponent(a),this.mContentNode=null==u?void 0:u.getChildByPath("view/content"),this.mContentLayout=null!=(r=null==(m=this.mContentNode)?void 0:m.getComponent(o))?r:null,this.mContentLayout&&this.mContentLayout.resizeMode!==o.ResizeMode.CONTAINER&&(this.mContentLayout.resizeMode=o.ResizeMode.CONTAINER),this.mViewTransform=null!=(h=null==u||null==(c=u.getChildByPath("view"))?void 0:c.getComponent(s))?h:null,this.updateContentLayout(!0)},i.BindUI=function(){var e=this;this.mNoRewardBtnSelect&&this.mNoRewardBtnSelect.SetClickCallback((function(){e.OnTabButtonClicked(B.Unclaimed)})),this.mNoRewardBtnNoSelect&&this.mNoRewardBtnNoSelect.SetClickCallback((function(){e.OnTabButtonClicked(B.Unclaimed)})),this.mRewardedBtnSelect&&this.mRewardedBtnSelect.SetClickCallback((function(){e.OnTabButtonClicked(B.Claimed)})),this.mRewardedBtnNoSelect&&this.mRewardedBtnNoSelect.SetClickCallback((function(){e.OnTabButtonClicked(B.Claimed)})),this.mCloseBtn&&this.mCloseBtn.SetClickCallback((function(){e.OnCloseBtnClick()}))},i.RegDataNotify=function(){},i.LateInit=function(){this.UpdateTabState(),this.RefreshTaskList()},i.CustmoerDestory=function(){this.unscheduleAllCallbacks(),this.clearTaskItems(),this.mPendingPrefabCallbacks.length=0,this.mWeekTaskItemPrefab=null,this.mIsRefreshing=!1,this.mOnlineTimeUpdateStarted=!1},i.OnTabButtonClicked=function(e){this.mCurrentTab!==e&&(this.mCurrentTab=e,this.UpdateTabState(),this.RefreshTaskList())},i.UpdateTabState=function(){var e=this.mCurrentTab===B.Unclaimed;this.mNoRewardBtnSelect&&(this.mNoRewardBtnSelect.node.active=e),this.mNoRewardBtnNoSelect&&(this.mNoRewardBtnNoSelect.node.active=!e);var t=this.mCurrentTab===B.Claimed;this.mRewardedBtnSelect&&(this.mRewardedBtnSelect.node.active=t),this.mRewardedBtnNoSelect&&(this.mRewardedBtnNoSelect.node.active=!t)},i.RefreshTaskList=function(){var e=this;this.mIsRefreshing||this.ensureItemPrefab((function(){if(e.mContentNode){var t=h.Instance.GetWeeklyTasks().filter((function(t){return e.mCurrentTab===B.Unclaimed?!1===t.isClaimed:!0===t.isClaimed}));e.populateTaskItems(t)}}))},i.ensureItemPrefab=function(e){var t=this;this.mWeekTaskItemPrefab?e&&e():this.mIsLoadingItemPrefab?e&&this.mPendingPrefabCallbacks.push(e):(this.mIsLoadingItemPrefab=!0,e&&this.mPendingPrefabCallbacks.push(e),f.GetAssetInBundle(n.Bunddle,n.ItemPrefabPath,l,(function(e){t.mIsLoadingItemPrefab=!1,e&&(t.mWeekTaskItemPrefab=e),t.mPendingPrefabCallbacks.splice(0,t.mPendingPrefabCallbacks.length).forEach((function(e){return e&&e()}))})))},i.populateTaskItems=function(e){var t,n,i=this;if(this.mIsRefreshing=!0,this.mWeekTaskItemPrefab&&this.mContentNode){var a=null!=(t=null==(n=this.mScrollView)||null==(n=n.getScrollOffset())?void 0:n.clone())?t:null;this.clearTaskItems(),this.scheduleOnce((function(){i.mContentNode?(e.forEach((function(e){var t=r(i.mWeekTaskItemPrefab);i.mContentNode.addChild(t);var n=t.getComponent(u);n&&n.InitWithData(e,(function(){return i.OnTaskRewardClaimed()}))})),i.updateContentLayout(),a&&i.mScrollView&&(i.mScrollView.stopAutoScroll(),i.mScrollView.scrollToOffset(a,0,!1)),i.refreshOnlineTimeTasks(),i.startOnlineTimeUpdater(),i.mIsRefreshing=!1):i.mIsRefreshing=!1}),0)}else this.mIsRefreshing=!1},i.clearTaskItems=function(){if(this.mContentNode&&this.mContentNode.children)try{this.RemoveAndDestoryAllChild(this.mContentNode),this.updateContentLayout(!0)}catch(e){console.warn("WeekTaskPanel: clearTaskItems failed, node may be destroying",e)}},i.updateContentLayout=function(e){if(void 0===e&&(e=!1),this.mContentNode){var t;if(!this.mContentLayout)this.mContentLayout=null!=(t=this.mContentNode.getComponent(o))?t:null;this.mContentLayout&&(this.mContentLayout.resizeMode!==o.ResizeMode.CONTAINER&&(this.mContentLayout.resizeMode=o.ResizeMode.CONTAINER),this.mContentLayout.updateLayout());var n=this.mContentNode.getComponent(s);if(n){var i=0;if(this.mViewTransform)i=this.mViewTransform.height;else{var a,l=this.mContentNode.parent,r=null!=(a=null==l?void 0:l.getComponent(s))?a:null;r&&(this.mViewTransform=r,i=r.height)}(e&&i>0&&n.height<i||i>0&&n.height<i)&&(n.height=i)}}},i.startOnlineTimeUpdater=function(){this.mOnlineTimeUpdateStarted||(this.mOnlineTimeUpdateStarted=!0,this.schedule(this.refreshOnlineTimeTasks,1))},i.refreshOnlineTimeTasks=function(){var e;if(this.mContentNode){var t=null!=(e=this.mContentNode.children)?e:[];0!==t.length&&t.forEach((function(e){var t=e.getComponent(u);if(t){var n=t.GetTaskStatus();n&&n.config&&n.config.SubType===c.GameTime&&t.RefreshTaskData()}}))}},i.OnTaskRewardClaimed=function(){this.RefreshTaskList()},i.OnCloseBtnClick=function(){C.Instance.DeleteUIByTarget(this)},n}(m)).PrefabPath="prefab/WeekTaskPanel",T.Bunddle="function",T.ItemPrefabPath="prefab/WeekTaskItem",k=T))||k);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});